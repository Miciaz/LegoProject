(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4744],{99905:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return zm}});var n=t(2784),a=t(5632),r=t(95235),o=t(82269),s=t(81839),l=t(8870),d=t(78359),c=t(34689),m=t(76911),u=t(59579),p=t(52322);const g=["p"];function v(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?v(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const y=({children:e})=>{const{path:i,query:t,location:n,createHref:a}=(0,s.k)();if(i!==i.toLowerCase()&&!t.p){const{p:e}=t,r=(0,o.Z)(t,g),s=(0,m.B)(r),l=s?`${i.toLowerCase()}?${s}`:i.toLowerCase(),d=a(h(h({},n),{},{pathname:l}));return(0,p.jsx)(u.Z,{to:d,redirectPermanently:!0})}return e};var f=t(46772),k=t(58421),b=t(86235),x=t(93395),w=t(64745),_=t(6568),N=t(2955),S=t(14507),P=t(71933),j=t(82954),C=t(96753),I=t(76951),T=t(81024),O=t(26907),E=t(33266),R=t(51261),F=t(93269),A=t(95350),D=t(23009);const Z=(e,i)=>{const{triggerEvent:t}=(0,R.FG)(),a=new Set([]),r=(null===i||void 0===i?void 0:i.length)||0,o=(0,n.useRef)(0),s=(0,n.useCallback)((i=>{if(1===o.current)return;a.add(i);const n=(s=a.size/r,Math.round(100*s)/100);var s;n>o.current&&(t({label:"product_media_displayed",eventType:["custom"],data:{product_id:e,page_type:"product details",product_media_displayed_fraction:n}}),o.current=n)}),[a,r,e,t]);return(0,n.useEffect)((()=>{(null===i||void 0===i?void 0:i.length)&&s(i[0].id)}),[s,i]),{processMediaDisplayEvent:s}},V=(0,n.createContext)({processMediaDisplayEvent:()=>{}}),z=({children:e,productCode:i,mediaItems:t})=>{const{processMediaDisplayEvent:n}=Z(i,t);return(0,p.jsx)(V.Provider,{value:{processMediaDisplayEvent:n},children:e})};var L=t(76262);var M=t(24317),G=t(73091),B=t(71525);const $=(0,B.hO)(1020),U=(0,G.F4)(["from{opacity:0;}to{opacity:1;}"]),W=G.ZP.div.withConfig({displayName:"DetailedGalleryGridViewstyles__GalleryGridView",componentId:"go96w7-0"})(["display:flex;flex-direction:column;background:var(--color-layer-neutral-subdued);height:100%;animation:"," 0.5s;"],U),H=G.ZP.div.withConfig({displayName:"DetailedGalleryGridViewstyles__GalleryGridHeader",componentId:"go96w7-1"})(["",""],(({theme:e})=>(0,G.iv)(["",";background:var(--color-neutral-white);width:100%;border-bottom:1px solid ",";position:sticky;top:0;"],e.zIndex("low"),e.color("grey_light")))),q=G.ZP.div.withConfig({displayName:"DetailedGalleryGridViewstyles__TabsListWrapper",componentId:"go96w7-2"})(["margin:auto;max-width:",";",""],$,(({theme:e})=>(0,G.iv)(["font-weight:",";font-size:",";",""],e.fontWeight("semiBold"),e.fontSize("s0"),e.media.min("small")((0,G.iv)(["font-size:",";"],e.fontSize("s1")))))),Y=(0,G.iv)(["color:",";&:after{background-color:",";}&:hover{text-decoration:none;}"],(e=>e.theme.color("blue")),(e=>e.theme.color("blue"))),Q=G.ZP.button.withConfig({displayName:"DetailedGalleryGridViewstyles__TabButton",componentId:"go96w7-3"})(["",""],(({theme:e,$active:i})=>(0,G.iv)(["padding:"," "," 0;color:var(--color-neutral-gray-800);&:after{content:'';display:block;height:",";border-radius:",";background-color:",";margin-top:",";}",""],e.sizing("sm"),e.sizing("3xs"),e.sizing("4xs"),e.sizing("3xs"),e.color("transparent"),e.sizing("xxs"),i&&Y)));var K=t(5758);const X=G.ZP.li.withConfig({displayName:"GridViewImagesstyles__GridList",componentId:"sc-1fa0f81-0"})(["display:flex;position:relative;background:var(--color-neutral-white);scroll-margin-top:",";&:nth-child(3n){grid-column:1 / -1;}&:nth-child(n) img{max-height:",";}&:nth-child(3n) img{max-height:",";}"],(e=>e.theme.sizing("3xl")),(0,B.hO)(384),(0,B.hO)(576)),J=(0,G.ZP)(X).withConfig({displayName:"GridViewImagesstyles__GridListFullWidth",componentId:"sc-1fa0f81-1"})(["grid-column:1 / -1;"]),ee=(0,G.ZP)(f.t).withConfig({displayName:"GridViewImagesstyles__GridImage",componentId:"sc-1fa0f81-2"})(["> img{width:auto;}"]),ie=G.ZP.button.withConfig({displayName:"GridViewImagesstyles__ImageContainer",componentId:"sc-1fa0f81-3"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;"]),te=({images:e,setDetailedView:i,setSelectedImageId:t,a11yLabel:n})=>{const a=e.length,r=a-1,o=!((a-1)%3);const s=(e,a)=>{var r,o;const s=e.url,l=null===e||void 0===e||null===(r=e.defaultDimensions)||void 0===r?void 0:r.width,d=null===e||void 0===e||null===(o=e.defaultDimensions)||void 0===o?void 0:o.height;return(0,p.jsx)(ie,{"aria-label":n,onClick:()=>{return n=e.id,t(n),void i(ci.FULLSCREEN);var n},"data-test":`mediagallery-grid-image-button-${a}`,children:(0,p.jsx)(ee,{assetIdMediaQueryMap:{default:s},width:l,height:d,altText:"",fit:"bounds","data-test":`mediagallery-grid-image-${a}`})})};return(0,p.jsx)("div",{className:K.gridFullWidthScroll,children:(0,p.jsx)("ol",{className:K.galleryGrid,"data-test":"mediagallery-grid-images",children:e.map(((e,i)=>o&&i===r||a<4?(0,p.jsx)(J,{"data-test":`mediagallery-grid-list-${i}`,children:s(e,i)},e.id):(0,p.jsx)(X,{"data-test":`mediagallery-grid-list-${i}`,children:s(e,i)},e.id)))})})};var ne=t(24031);const ae=(0,B.hO)(200),re=G.ZP.div.withConfig({displayName:"VideoPlayerstyles__VideoPlayerContainer",componentId:"sc-1k0vfog-0"})(["",""],(e=>(0,G.iv)(["height:calc(100% - ",");margin:0 auto;display:flex;"," ",""],ae,e.theme.media.min("small")((0,G.iv)(["height:calc(100% - ",");"],(0,B.hO)(150))),e.theme.media.min("medium","landscape")((0,G.iv)(["height:100%;width:100%;margin-right:",";"],(0,B.hO)(40)))))),oe=(0,G.ZP)(ne.Z).withConfig({displayName:"VideoPlayerstyles__StyledVideoPlayer",componentId:"sc-1k0vfog-1"})(["width:100%;"]),se=({url:e,autoPlay:i})=>(0,p.jsx)(re,{children:(0,p.jsx)(oe,{url:e,"data-test":"mediagallery-grid-videoplayer",active:!0,autoPlay:i})});var le=t(96926),de=t(34154),ce=t(93542),me=t(44390);const ue=({video:e,inDetailedGallery:i})=>{const t=i?me.gridPlayIconPosition:me.defaultPlayIconPosition;return(0,p.jsxs)(p.Fragment,{children:[e.video.thumbnailUrl?(0,p.jsx)(de.Z,{srcset:[{url:e.video.thumbnailUrl}],alt:"",style:{height:"100%",minWidth:"100%"},"data-test":`gallery-video-thumbnail-${e.id}`}):(0,p.jsx)("div",{className:me.emptyThumbnail,"data-test":`gallery-video-thumbnail-empty-${e.id}`}),(0,p.jsx)("div",{className:[me.playIconWrapper,t].join(" "),"data-test":`gallery-video-thumbnail-play-icon-${e.id}`,children:(0,p.jsx)(ce.J,{name:"play-f",size:"x-large",color:"color-neutral-white"})})]})},pe=({videos:e,currentlyPlayingVideo:i,a11yLabel:t,changePlayingVideo:n,scrollToElRef:a})=>(0,p.jsx)("div",{className:le.carouselWrapper,children:(0,p.jsx)("ul",{className:le.carouselContainer,"data-test":"mediagallery-grid-carousel",children:e.map(((e,r)=>{const o=e.video===i.video,s=o?[le.carouselThumbnail,le.activeThumbnail]:[le.carouselThumbnail],l=o?[le.thumbnailButton,le.activeThumbnailButton]:[le.thumbnailButton];return(0,p.jsx)("li",{className:s.join(" "),"data-test":`mediagallery-grid-carousel-item-${r}`,children:(0,p.jsx)("button",{className:l.join(" "),"aria-label":t,onClick:()=>n(e),ref:e.video===i.video?a:null,"data-test":`mediagallery-grid-carousel-button-${r}`,children:(0,p.jsx)(ue,{video:e,inDetailedGallery:!0})})},e.id)}))})}),ge=G.ZP.div.withConfig({displayName:"GridViewVideosstyles__GalleryGridVideosContainer",componentId:"sc-1pwwk0p-0"})(["",""],(e=>(0,G.iv)(["background:var(--color-layer-neutral-subdued);height:100%;",""],e.theme.media.min("medium","landscape")((0,G.iv)(["display:flex;flex-direction:row;max-width:",";margin:0 auto;padding:"," ",";min-height:0;"],(0,B.hO)(1020),e.theme.sizing("3xs"),e.theme.sizing("3xs")))))),ve=({videos:e,a11yLabel:i})=>{const{0:t,1:a}=(0,n.useState)(e[0]),{0:r,1:o}=(0,n.useState)(!1),{processMediaDisplayEvent:s}=(0,n.useContext)(V),l=(0,T.Z)(`(max-width: ${w.rS.media.breakpoints.small}px)`),d=(0,n.useRef)(null);return(0,n.useEffect)((()=>{s(t.id),setTimeout((()=>{var e;l&&(null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"}))}),100)}),[t,l,s]),(0,p.jsxs)(ge,{"data-test":"mediagallery-grid-videos",children:[(0,p.jsx)(se,{autoPlay:r,url:t.video.url}),(0,p.jsx)(pe,{videos:e,currentlyPlayingVideo:t,a11yLabel:i,changePlayingVideo:e=>{o(!0),a(e)},scrollToElRef:d})]})};function he(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}var ye;!function(e){e.IMAGES="images",e.VIDEOS="videos"}(ye||(ye={}));const fe=({mediaItems:e,setDetailedView:i,setSelectedImageId:t})=>{const a=e.filter((e=>e.__typename===ri.PRODUCTASSETIMAGE)),o=e.filter((e=>e.__typename===ri.PRODUCTVIDEO)),s=function(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?he(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}({images:{name:"productDetails.gallery.imagesTitle",tag:"images"}},o.length>0&&{videos:{name:"productDetails.gallery.videosTitle",tag:"videos"}}),l=(0,I.T)(),{0:d,1:c}=(0,n.useState)(s.images.tag);return(0,p.jsxs)(W,{"data-test":"mediagallery-grid",children:[(0,p.jsx)(H,{children:(0,p.jsx)(q,{"data-test":"mediagallery-grid-tabs",children:Object.keys(s).map((e=>(0,p.jsx)(Q,{$active:d===s[e].tag,onClick:()=>c(s[e].tag),"data-test":`grid-${s[e].tag}-tab`,children:l(s[e].name)},s[e].name)))})}),(()=>{switch(d){case ye.IMAGES:return(0,p.jsx)(te,{setDetailedView:i,setSelectedImageId:t,images:a,a11yLabel:l("productDetails.gallery.viewFullScreen")});case ye.VIDEOS:return(0,p.jsx)(ve,{videos:o,a11yLabel:l("productDetails.gallery.playVideo")});default:return null}})()]})};var ke=t(5328);const be=["currentItem","totalNumberOfItems"];function xe(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function we(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?xe(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}let _e;!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_MIDDLE=1]="TOP_MIDDLE"}(_e||(_e={}));const Ne=e=>{let{currentItem:i,totalNumberOfItems:t}=e,n=(0,o.Z)(e,be);return(0,p.jsxs)("span",we(we({className:[ke.galleryCounter,ke.topLeft].join(" ")},n),{},{children:[i,(0,p.jsx)("span",{className:ke.counterSlash,children:"/"}),t]}))};function Se(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Pe(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Se(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const je=({assetId:e,fit:i="crop",quality:t,width:n,height:a,pixelDensity:r,keepOriginalFormat:o})=>`${e}?${o?"":"format=webply&"}fit=${i}&quality=${t}&width=${n}&height=${a}&dpr=${r}`,Ce=e=>Object.keys(Oe).map((i=>{const t=Object.keys(Ie.standard).map((t=>`${je(Pe(Pe({},Te(i,e,t)),{},{pixelDensity:t}))} ${t}x`)).join(", ");return(0,p.jsx)("source",{type:"image/webp",srcSet:t,media:`${Oe[i]}`,width:e.width[i],height:e.height[i]},i)})),Ie={low:{1:"65",1.5:"60",2:"50",3:"45"},standard:{1:"75",1.5:"70",2:"60",3:"55"},high:{1:"100",1.5:"90",2:"80",3:"70"}},Te=(e,i,t)=>{var n;return{assetId:i.assetIdMediaQueryMap&&i.assetIdMediaQueryMap[e]||(null===(n=i.assetIdMediaQueryMap)||void 0===n?void 0:n.default),fit:i.fit,quality:Ie[i.quality||"standard"][t],width:i.width[e]||i.width.default,height:i.height[e]||i.height.default}},Oe={mobile:`(max-width: ${w.AV.small}px)`,tablet:`(max-width: ${w.AV.medium}px)`,desktop:`(min-width: ${w.AV.medium}px)`},Ee=["altText","assetIdMediaQueryMap","width","height","loading","role","draggable","objectFit","onImageLoad"];function Re(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Fe(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Re(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Re(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Ae=e=>{const{altText:i,assetIdMediaQueryMap:t,width:a,height:r,loading:s="lazy",role:l,draggable:d,objectFit:c,onImageLoad:m}=e,u=(0,o.Z)(e,Ee),g=je({assetId:null===t||void 0===t?void 0:t.default,width:a.default,height:r.default,keepOriginalFormat:!0,pixelDensity:"1",quality:"80"});let v;return(0,n.useEffect)((()=>{v=g}),[]),(0,p.jsxs)("picture",Fe(Fe({},u),{},{children:[Ce(e),(0,p.jsx)("img",{src:v,alt:i,decoding:"async",loading:s,onLoad:m,role:l,draggable:d,style:{objectFit:c}})]}))},De=G.ZP.div.withConfig({displayName:"SlideControlButtonstyles__ControlButtonWrapper",componentId:"nsa4k7-0"})(["",";position:absolute;padding:0 ",";top:45%;opacity:0;transition:0.5s;",";"],(e=>e.theme.zIndex("medium")),(e=>e.theme.sizing("xs")),(({position:e})=>"left"===e?(0,G.iv)(["left:0;"]):(0,G.iv)(["right:0;"]))),Ze=(0,B.hO)(512),Ve="70vh",ze=(0,G.iv)(["--numberOfSlides:",";display:flex;width:calc(var(--numberOfSlides) * 100%);height:100vw;align-items:center;justify-content:center;"],(e=>e.$numberOfSlides)),Le=(0,G.iv)(["width:100%;overflow-x:scroll;overflow-y:hidden;scroll-snap-type:x mandatory;white-space:nowrap;position:relative;scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{width:0 !important;height:0 !important;display:none !important;}"]),Me=G.ZP.section.withConfig({displayName:"ProductGallerystyles__ProductGalleryContainer",componentId:"sc-1uy048w-0"})(["position:relative;width:100%;max-height:",";",";",";"],Ve,(e=>e.theme.media.min("medium")((0,G.iv)(["max-height:",";display:flex;border-bottom:1px solid ",";"],Ze,e.theme.color("grey_light")))),(e=>e.theme.media.max("medium")((0,G.iv)(["box-shadow:0 2px 0 var(--color-neutral-gray-200);margin-bottom:1.125rem;"])))),Ge=G.ZP.div.withConfig({displayName:"ProductGallerystyles__MediaWrapper",componentId:"sc-1uy048w-1"})(["",""],Le),Be=G.ZP.ul.withConfig({displayName:"ProductGallerystyles__MediaContainer",componentId:"sc-1uy048w-2"})([""," max-height:",";",";"],ze,Ve,(e=>e.theme.media.min("medium")((0,G.iv)(["max-height:",";padding-bottom:1px;"],Ze)))),$e=G.ZP.li.withConfig({displayName:"ProductGallerystyles__MediaItem",componentId:"sc-1uy048w-3"})(["display:flex;align-items:center;justify-content:center;scroll-snap-align:center;scroll-snap-stop:always;position:relative;width:100%;height:100%;overflow:hidden;",";"],(e=>e.theme.media.min("medium")((0,G.iv)(["margin:1px;"])))),Ue=(0,G.ZP)(Ae).withConfig({displayName:"ProductGallerystyles__StyledPicture",componentId:"sc-1uy048w-4"})(["> img{height:100%;max-height:",";",";}"],Ve,(e=>e.theme.media.min("medium")((0,G.iv)(["max-height:",";"],Ze)))),We=(0,G.ZP)(ne.Z).withConfig({displayName:"ProductGallerystyles__StyledVideoPlayer",componentId:"sc-1uy048w-5"})(["video{max-height:",";max-width:100%;width:auto;",";}"],Ve,(e=>e.theme.media.min("medium")((0,G.iv)(["max-height:",";"],Ze)))),He=G.ZP.div.withConfig({displayName:"ProductGallerystyles__ViewAllButtonWrapper",componentId:"sc-1uy048w-6"})(["",""],(({theme:e,collapsed:i})=>(0,G.iv)(["position:absolute;bottom:",";right:0;justify-content:center;padding:0 ",";z-index:1;",";",";"],e.sizing("xxs"),e.sizing("xxs"),e.media.min("medium")((0,G.iv)(["bottom:auto;top:",";"],e.sizing("xs"))),e.media.max("medium")((0,G.iv)(["> button{transition:all 0.5s;> span{transition:all 0.5s;max-width:",";opacity:",";}> div{transition:all ",";margin-right:",";}}"],i?"0px":"100vw",i?"0":"1",i?"1.0s":"0.5s",i&&"0 !important"))))),qe=G.ZP.div.withConfig({displayName:"ProductGallerystyles__ImageViewport",componentId:"sc-1uy048w-7"})(["position:relative;width:100%;&:hover{","{opacity:1;}}&:focus-within{","{opacity:1;}}"],De,De),Ye=G.ZP.button.withConfig({displayName:"ProductGallerystyles__ImageAnchorButton",componentId:"sc-1uy048w-8"})(["width:100%;height:100%;"]),Qe=(0,G.F4)(["from{opacity:0;}to{opacity:1;}"]),Ke=G.ZP.section.withConfig({displayName:"DetailedGalleryFullscreenViewstyles__FullScreenViewContainer",componentId:"sc-1hrg47b-0"})(["background:var(--color-layer-neutral-subdued);position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center;animation:"," 0.5s;&:hover{","{opacity:1;}}&:focus-within{","{opacity:1;}}"],Qe,De,De),Xe=G.ZP.div.withConfig({displayName:"DetailedGalleryFullscreenViewstyles__FullscreenMediaWrapper",componentId:"sc-1hrg47b-1"})([""," height:100%;padding:0;"],Le),Je=G.ZP.ul.withConfig({displayName:"DetailedGalleryFullscreenViewstyles__FullscreenMediaContainer",componentId:"sc-1hrg47b-2"})([""," height:100%;"],ze),ei=(0,G.ZP)(f.t).withConfig({displayName:"DetailedGalleryFullscreenViewstyles__StyledPicture",componentId:"sc-1hrg47b-3"})(["height:100%;display:flex;align-items:center;justify-content:center;> img{background-color:var(--color-neutral-white);width:100%;max-width:100%;max-height:100%;}"]),ii=G.ZP.div.withConfig({displayName:"DetailedGalleryFullscreenViewstyles__ViewAllButtonWrapper",componentId:"sc-1hrg47b-4"})(["top:0;right:0;position:absolute;z-index:1000;"]);let ti;!function(e){e[e.NEXT=0]="NEXT",e[e.PREVIOUS=1]="PREVIOUS"}(ti||(ti={}));const ni=({type:e})=>{const{images:i,isDetailedGalleryOpen:t,totalNumberOfMedia:a,visibleItemIndex:r,goToSlide:o}=(0,n.useContext)(pi),s=(0,I.T)();let l=a,d="pdp";t&&(l=i.length,d="pdp-fullscreen");const c={[ti.NEXT]:{disabled:r===l-1,testAttribute:`${d}-gallery-controls-next`,iconName:"chevron-right",onClick:()=>o(r+1),ariaLabelKey:"pagination.next"},[ti.PREVIOUS]:{disabled:0===r,testAttribute:`${d}-gallery-controls-previous`,iconName:"chevron-left",onClick:()=>o(r-1),ariaLabelKey:"pagination.previous"}},{disabled:m,onClick:u,testAttribute:g,iconName:v,ariaLabelKey:h}=c[e];return(0,p.jsx)(D.z,{"data-test":g,onClick:u,iconA11yLabel:s(h),iconName:v,iconPosition:"icon-only",disabled:m,appearance:"static-dark"})},ai=()=>{const{processMediaDisplayEvent:e}=(0,n.useContext)(V),{images:i,visibleItemIndex:t,setVisibleItemIndex:a,selectedImageId:r,setDetailedGalleryView:o}=(0,n.useContext)(pi),s=(0,T.Z)(`(max-width: ${w.rS.media.breakpoints.small}px)`),l=(0,I.T)();(0,n.useEffect)((()=>{var e;null===(e=document.getElementById(r))||void 0===e||e.scrollIntoView()}),[r]);const d=(i,n)=>{var r,o;const{id:s,url:l}=i,d=null===i||void 0===i||null===(r=i.fullscreenDimensions)||void 0===r?void 0:r.width,c=null===i||void 0===i||null===(o=i.fullscreenDimensions)||void 0===o?void 0:o.height;return(0,p.jsx)(N.Z,{onIntersection:i=>((i,t,n)=>{i&&(e(n),a(t))})(i,n,s),threshold:.75,children:({onRef:e})=>(0,p.jsx)($e,{ref:e,id:s,children:(0,p.jsx)(ei,{assetIdMediaQueryMap:{default:l},width:d,height:c,altText:"",fit:"bounds","data-test":`fullscreen-image-${n}`,loading:n<=t+1?"eager":"lazy",objectFit:"contain"})})},s)};return(0,p.jsxs)(Ke,{"data-test":"mediagallery-fullscreen",children:[!s&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(De,{"data-test":"pdp-fullscreen-control-button-wrapper",position:"left",children:(0,p.jsx)(ni,{type:ti.PREVIOUS})}),(0,p.jsx)(De,{position:"right",children:(0,p.jsx)(ni,{type:ti.NEXT})})]}),(0,p.jsx)(Ne,{currentItem:t+1,totalNumberOfItems:i.length,"data-test":"fullscreen-counter"}),i.length>1&&(0,p.jsx)(ii,{children:(0,p.jsx)(D.z,{size:"medium",iconA11yLabel:l("productDetails.gallery.viewAll"),onClick:()=>{o(ci.GRID)},"data-test":"fullscreen-to-viewall",iconName:"cross",iconPosition:"icon-only",buttonVariant:"tertiary"})}),(0,p.jsx)(Xe,{id:ui,children:(0,p.jsx)(Je,{$numberOfSlides:i.length,children:i.map(((e,i)=>d(e,i)))})})]})};let ri;!function(e){e.PRODUCTASSETIMAGE="ProductAssetImage",e.PRODUCTVIDEO="ProductVideo"}(ri||(ri={}));const oi=()=>{const{mediaItems:e,isDetailedGalleryOpen:i,setDetailedGalleryOpen:t,setSelectedImageId:a,detailedGalleryView:r,setDetailedGalleryView:o}=(0,n.useContext)(pi),s=(0,I.T)(),l=r===ci.GRID?`${s("productDetails.gallery.imagesTitle")}/${s("productDetails.gallery.videosTitle")}`:s("productDetails.gallery.imagesTitle");return(0,p.jsx)(f.u_,{isOpen:i,closeLabel:s("common.close"),onClose:()=>{t(!1)},displayInFrame:!1,containerClassName:M.detailedViewFrame,sectionClassName:M.detailedViewSection,children:(0,p.jsx)("div",{className:M.modalContentWrapper,"data-test":"detailed-gallery-content","aria-label":l,children:r===ci.GRID?(0,p.jsx)(fe,{mediaItems:e,setDetailedView:o,setSelectedImageId:a}):(0,p.jsx)(ai,{})})})},si=e=>{const{0:i,1:t}=(0,n.useState)(e),a=(0,n.useRef)(i);return[i,a,e=>{a.current=e,t(e)}]};function li(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function di(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?li(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):li(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}let ci;!function(e){e[e.GRID=0]="GRID",e[e.FULLSCREEN=1]="FULLSCREEN"}(ci||(ci={}));const mi="pdp-media-wrapper",ui="pdp-fullscreen-media-wrapper",pi=(0,n.createContext)({mediaItems:[],totalNumberOfMedia:0,images:[],detailedGalleryView:ci.GRID,setDetailedGalleryView:()=>{},isDetailedGalleryOpen:!1,setDetailedGalleryOpen:()=>{},visibleItemIndex:0,setVisibleItemIndex:()=>{},selectedImageId:"",setSelectedImageId:()=>{},goToSlide:()=>{}}),gi=({children:e,productMediaAssets:i,experimentMediaAssets:t})=>{const r=(0,a.useRouter)(),[o,s,l]=si(!1),{0:d,1:c}=(0,n.useState)(!1),m=(0,L.D)(d),u=si(0),g=si(0),{0:v,1:h}=(0,n.useState)(""),y="on"===(0,R.aq)("pdp_image_carousel"),f=(0,n.useMemo)((()=>{const e=y&&null!==t&&void 0!==t&&t.length?t:i||[];return(null===e||void 0===e?void 0:e.length)>0&&e.filter(Boolean)||[]}),[y,t,i]),k=f.length,b=f.filter((e=>e.__typename===ri.PRODUCTASSETIMAGE)),x=(0,n.useMemo)((()=>(e=>e.length>1?ci.GRID:ci.FULLSCREEN)(f)),[f]),[w,_,N]=si(x),[S,,P]=o&&w===ci.FULLSCREEN?g:u,j=(0,n.useCallback)(((e,i)=>{var t,n,a;const o=(null===(t=window)||void 0===t||null===(n=t.history)||void 0===n||null===(a=n.state)||void 0===a?void 0:a.idx)>0;return e&&!o?(r.query.galleryOpen=`${e}`,r.query.galleryView=`${i}`,r.replace(r)):e||o?e||w!==ci.FULLSCREEN||x===ci.FULLSCREEN?void r.back():window.history.go(-2):(delete r.query.galleryOpen,delete r.query.galleryView,r.replace(r))}),[x,w,r]),C=(0,n.useCallback)(((e,i)=>{r.query.galleryOpen=`${e}`,r.query.galleryView=`${i}`,r.push(r)}),[r]),I=e=>{e?C(e,x):c(!0)},T=(0,n.useCallback)((e=>{e!==w&&"true"===r.query.galleryOpen&&(e===ci.FULLSCREEN?C(!0,e):j(!0,e))}),[w,r.query.galleryOpen,j,C]);(0,n.useEffect)((()=>{if(!1!==d){if(d===m)return c(!1);if(!1===o)return c(!1);j(!1),c(!1)}}),[x,w,d,o,m,r,j]);const O=e=>{return(({newIndex:e,elementToScrollId:i,totalSlides:t})=>{const n=document.getElementById(i);if(n)return n.scrollLeft=n.scrollWidth/t*e;throw new Error("No element found")})(di(di({},{totalSlides:(i=s.current)?b.length:k,elementToScrollId:i?ui:mi}),{},{newIndex:e}));var i},F=e=>{const{key:i}=e;if("ArrowRight"===i||"ArrowLeft"===i){if(s.current&&_.current===ci.GRID)return;const e=s.current?g[1]:u[1];return O("ArrowRight"===i?e.current+1:e.current-1)}if("Escape"===i)return I(!1),T(x)};(0,E.F)((()=>(window.addEventListener("keydown",F),()=>{window.removeEventListener("keydown",F)})));const A=(0,n.useCallback)((()=>{const e="true"===r.query.galleryOpen;e!==o&&l(e)}),[o,r.query.galleryOpen,l]),D=(0,n.useCallback)((()=>{if(void 0===r.query.galleryView||null===r.query.galleryView)return void N(x);const e=Number(r.query.galleryView);e!==w&&N(e)}),[x,w,r.query.galleryView,N]);return(0,n.useEffect)((()=>{D(),A()}),[D,A]),(0,p.jsx)(pi.Provider,{value:{mediaItems:f,totalNumberOfMedia:k,images:b,detailedGalleryView:w,setDetailedGalleryView:T,isDetailedGalleryOpen:o,setDetailedGalleryOpen:I,visibleItemIndex:S,setVisibleItemIndex:P,selectedImageId:v,setSelectedImageId:h,goToSlide:O},children:e})};var vi=t(5540);const hi=({mediaItem:e,index:i})=>{var t,a;const{visibleItemIndex:r,goToSlide:o}=(0,n.useContext)(pi),s=(0,I.T)(),l=r===i?[vi.galleryThumbnail,vi.activeThumbnail]:[vi.galleryThumbnail],d=(e=>e.__typename===ri.PRODUCTASSETIMAGE)(e);return(0,p.jsx)("button",{"data-test":`gallery-thumbnail-${i}`,onClick:()=>o(i),className:l.join(" "),"aria-label":`${s("pdp.gallery.thumbnail")} ${i+1}`,children:d?(0,p.jsx)(Ae,{className:vi.imageThumbnail,assetIdMediaQueryMap:{default:e.url},width:null===(t=e.thumbnailDimensions)||void 0===t?void 0:t.width,height:null===(a=e.thumbnailDimensions)||void 0===a?void 0:a.height,altText:"",fit:"bounds",objectFit:"contain","data-test":`gallery-image-thumbnail-${e.id}`,loading:"lazy"}):(0,p.jsx)(ue,{video:e})},i)};var yi=t(76815);const fi=()=>{const{mediaItems:e}=(0,n.useContext)(pi);return(0,p.jsx)("ul",{className:yi.galleryThumbnails,"data-test":"gallery-thumbnails-container",children:e.map(((e,i)=>(0,p.jsx)("li",{className:`${yi.galleryThumbnailLi} ${"video"in e&&e.video.thumbnailUrl?yi.videoThumbnailLi:""}`,children:(0,p.jsx)(hi,{mediaItem:e,index:i})},i)))})},ki=({product:e})=>{const{processMediaDisplayEvent:i}=(0,n.useContext)(V),{mediaItems:t,totalNumberOfMedia:a,detailedGalleryView:r,isDetailedGalleryOpen:o,setDetailedGalleryOpen:s,visibleItemIndex:l,setVisibleItemIndex:d,selectedImageId:c,setSelectedImageId:m}=(0,n.useContext)(pi),u=(0,T.Z)(`(max-width: ${w.rS.media.breakpoints.small}px)`),g=(0,I.T)(),v=a>0,h=r===ci.GRID?g("productDetails.gallery.viewAll"):g("productDetails.gallery.viewFullScreen"),{triggerEvent:y}=(0,R.FG)(),f=e=>{y({label:"pdpFullScreenGallery",eventType:["custom"]}),m(e),s(!0)},k=(e,i)=>{switch(e.__typename){case ri.PRODUCTASSETIMAGE:return((e,i)=>{var t,n;const a=e.url,r=null===e||void 0===e||null===(t=e.defaultDimensions)||void 0===t?void 0:t.width,o=null===e||void 0===e||null===(n=e.defaultDimensions)||void 0===n?void 0:n.height;return(0,p.jsx)(Ye,{onClick:()=>f(e.id),"aria-label":h,"data-test":`mediagallery-image-button-${i}`,children:(0,p.jsx)(Ue,{assetIdMediaQueryMap:{default:a},width:r,height:o,altText:"",fit:"bounds","data-test":`mediagallery-image-${i}`,objectFit:"contain",loading:i<=l+1?"eager":"lazy"})})})(e,i);case ri.PRODUCTVIDEO:return(({video:e},i)=>(0,p.jsx)(We,{url:e.url,"data-test":`mediaviewer-videoplayer-${i}`,backgroundColor:"white",active:i===l&&!o}))(e,i);default:return null}},b=l>0;return(0,p.jsx)(Me,{"data-test":"pdp-gallery-container",children:v?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(oi,{}),(0,p.jsx)(fi,{}),(0,p.jsxs)(qe,{children:[(0,p.jsx)(Ne,{"data-test":"mediagallery-counter",currentItem:l+1,totalNumberOfItems:a}),!u&&a>1&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(De,{"data-test":"pdp-control-button-wrapper",position:"left",tabIndex:-1,children:(0,p.jsx)(ni,{type:ti.PREVIOUS})}),(0,p.jsx)(De,{position:"right",tabIndex:-1,children:(0,p.jsx)(ni,{type:ti.NEXT})})]}),(0,p.jsx)(Ge,{id:mi,children:(0,p.jsx)(Be,{$numberOfSlides:a,children:(x=t,x.map(((e,t)=>(0,p.jsx)(N.Z,{onIntersection:n=>((e,t,n)=>{e&&(i(n),d(t))})(n,t,e.id),threshold:.75,children:({onRef:i})=>(0,p.jsx)($e,{id:`product-media-${t}`,ref:i,children:k(e,t)})},e.id))))})})]}),a>1&&(0,p.jsx)(He,{collapsed:b,children:(0,p.jsx)(D.z,{size:"medium",text:g("productDetails.gallery.viewAll"),onClick:()=>f(c),"data-test":"mediagallery-viewall",iconName:"view-thumbnail-large-f",iconPosition:"icon-left"})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fi,{}),(0,p.jsx)(qe,{children:(0,p.jsx)(Ge,{id:mi,children:(0,p.jsx)(Be,{$numberOfSlides:1,children:(0,p.jsx)("img",{"data-test":"mediagallery-primaryImage",src:e.mediaViewerPrimaryImage||"",alt:"",style:{objectFit:"contain",height:"100%"}})})})})]})});var x};var bi=t(84140),xi=t(37447),wi=t(29522),_i=t(8982),Ni=t(65634),Si=t.n(Ni),Pi=t(99729),ji=t.n(Pi);const Ci=G.ZP.div.withConfig({displayName:"SafetyWarningstyles__Container",componentId:"r1c2ir-0"})(["display:flex;align-items:center;justify-content:space-between;word-break:break-word;text-align:left;flex-direction:row;"]),Ii=G.ZP.div.withConfig({displayName:"SafetyWarningstyles__SafetyIcon",componentId:"r1c2ir-1"})([""," margin:",";background:url(",") no-repeat;background-position:center;"],(e=>"safety"===e.imageKey&&"SMALL_PARTS_BALL"===e.warningType?(0,G.iv)(["width:",";height:",";"],e.theme.sizing("3xl"),e.theme.sizing("3xl")):(0,G.iv)(["width:",";height:",";"],e.theme.sizing("xxl"),e.theme.sizing("xxl"))),(e=>`0 0 0 ${e.theme.sizing("lg")}`),(({imageKey:e})=>{switch(e){case"safety":return Si();case"safetyNA":return ji();default:return null}})),Ti=({label:e,type:i,className:t,showSafetyImage:n,imageKey:a})=>e&&i?(0,p.jsxs)(Ci,{className:t,"data-test":"product-overview-safety",children:[(0,p.jsx)(_i.Z,{tag:"span",size:"sm1",children:e}),n&&(0,p.jsx)(Ii,{"data-test":a,imageKey:a,warningType:i})]}):null;Ti.fragments={safetyWarning:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductAttributes_SafetyWarning"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAttributes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"safetyWarning"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showSafetyImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:174,source:{body:"\n    fragment ProductAttributes_SafetyWarning on ProductAttributes {\n      safetyWarning {\n        key\n        label\n        showSafetyImage\n        imageKey\n      }\n    }\n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}};var Oi=Ti,Ei=t(34171),Ri=t(6918),Fi=t(37411),Ai=t(22993),Di=t(56059),Zi=t(9160),Vi=t(87911),zi=t(54409);const Li=(0,G.iv)(["display:flex;justify-content:space-between;align-items:center;padding:",";width:100%;border-top:1px solid ",";max-width:",";",";"," ",""],(e=>e.theme.sizing("ms")),(e=>e.theme.color("grey_light")),(e=>e.theme.contentMaxWidth()),(e=>e.theme.media.between("small","medium")((0,G.iv)(["padding:",";&:nth-child(odd){border-bottom:1px solid ",";}&:nth-child(even){border-bottom:1px solid ",";}&:nth-child(-n + 2){margin-right:",";}&:last-child{margin-right:0;}"],e.theme.sizing("xs"),e.theme.color("grey_light"),e.theme.color("grey_light"),e.theme.sizing("lg")))),(({theme:e})=>e.media.max("medium")((0,G.iv)(["margin:0;&:nth-child(even){border-bottom:1px solid ",";}"],e.color("grey_light")))),(({theme:e})=>e.media.max("small")((0,G.iv)(["margin:0;&:nth-child(even){border-bottom:0;}"])))),Mi=(0,G.ZP)(zi.Z).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionLink",componentId:"k848dz-0"})(["background-color:white;color:black;border:none;display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding:",";width:100%;border-top:1px solid ",";max-width:",";",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.color("grey_light")),(e=>e.theme.contentMaxWidth()),(({theme:e})=>e.media.between("small","medium")((0,G.iv)(["padding:",";&:nth-child(-n + 2){margin-right:",";}&:last-child{border-top:0;border-bottom:1px solid ",";}"],e.sizing("xs"),e.sizing("3xs"),e.color("grey_light"))))),Gi=G.ZP.button.withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionButton",componentId:"k848dz-1"})([""," cursor:'pointer';"],Li),Bi=G.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionDisabledButton",componentId:"k848dz-2"})(["",""],Li),$i=G.ZP.span.withConfig({displayName:"ProductAccessoryActionstyles__IconWrapper",componentId:"k848dz-3"})(["color:",";opacity:",";display:flex;align-items:center;"],(e=>e.theme.color("grey_light")),(e=>e.$disabled?"0.3":1)),Ui=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionTitle",componentId:"k848dz-4"})(["flex-grow:2;font-size:",";font-weight:",";opacity:",";text-align:left;margin:0 0 0 ",";&:hover{color:",";}"],(e=>e.theme.fontSize("sm1")),(e=>e.theme.fontWeight("semiBold")),(e=>e.$disabled?"0.3":1),(e=>e.theme.sizing("ms")),(e=>e.$disabled?"inherit":e.theme.color("blue"))),Wi=G.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__InfoWrapper",componentId:"k848dz-5"})(["display:flex;"]),Hi=G.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__IconButtonWrapper",componentId:"k848dz-6"})(["display:flex;align-items:center;height:100%;"]),qi=G.ZP.button.withConfig({displayName:"ProductAccessoryActionstyles__IconButton",componentId:"k848dz-7"})(["margin-left:",";height:",";&:hover{color:",";}"],(e=>e.theme.sizing("xxs")),(0,B.hO)(20),(e=>e.$disabled?"inherit":e.theme.color("blue"))),Yi=G.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__TooltipBody",componentId:"k848dz-8"})(["width:",";"],(0,B.hO)(300)),Qi=(0,G.ZP)(Gi).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryBisemailActionButton",componentId:"k848dz-9"})(["justify-content:flex-start;background-color:",";margin-top:20px;border-radius:8px;border:0.5px solid ",";"," ",""],(e=>e.theme.color("grey_extra_light")),(e=>e.theme.color("grey_light")),(({theme:e})=>e.media.max("medium")((0,G.iv)(["margin-top:20px;"]))),(({theme:e})=>e.media.max("small")((0,G.iv)(["margin-top:20px;"])))),Ki=(0,G.ZP)(Ui).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryModalActionTitle",componentId:"k848dz-10"})(["font-size:",";"],(e=>e.theme.fontSize("s0"))),Xi=(G.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__ActionWrapper",componentId:"k848dz-11"})(["color:",";opacity:",";display:flex;align-items:center;"],(e=>e.theme.color("grey_light")),(e=>e.$disabled?"0.3":1)),G.ZP.div.withConfig({displayName:"ProductAccessoryActionstyles__ActionContainer",componentId:"k848dz-12"})(["display:flex;align-items:flex-start;flex-direction:column;"])),Ji=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductAccessoryActionstyles__ProductAccessoryActionDescription",componentId:"k848dz-13"})(["font-size:",";font-weight:",";line-height:",";margin:0 0 0 ",";opacity:",";text-align:left;"],(e=>e.theme.fontSize("sm2")),(e=>e.theme.fontWeight("normal")),(e=>e.theme.lineHeight("sm1")),(e=>e.theme.sizing("ms")),(e=>e.$disabled?"0.3":1));var et=e=>{const{title:i,description:t,channel:n,iconType:a,onClick:r,id:o,url:s,openInNewPage:l,iconWidth:d,iconHeight:c,iconColor:m,disabled:u,tooltip:g}=e,v=Boolean((null===g||void 0===g?void 0:g.title)&&(null===g||void 0===g?void 0:g.label)&&(null===g||void 0===g?void 0:g.body));return s?(0,p.jsxs)(Mi,{button:!0,to:s,target:l?"_blank":void 0,onClick:r,id:o,children:[(0,p.jsx)($i,{children:(0,p.jsx)(Zi.Z,{type:a,height:c,width:d,color:m})}),(0,p.jsx)(Ui,{children:(0,p.jsx)(wi.Z,{id:i})}),(0,p.jsx)(Zi.Z,{color:"grey",type:"chevron",width:20,height:15})]}):n?(0,p.jsxs)(Qi,{"aria-haspopup":"dialog",onClick:r,id:o,children:[(0,p.jsx)($i,{children:(0,p.jsx)(Zi.Z,{type:a,height:c,width:d,color:m})}),(0,p.jsxs)(Xi,{children:[(0,p.jsx)(Ki,{"data-test":"product-action-title",children:(0,p.jsx)(wi.Z,{id:i})}),t&&(0,p.jsx)(Ji,{"data-test":"product-action-description",children:(0,p.jsx)(wi.Z,{id:t})})]})]}):u?(0,p.jsxs)(Bi,{id:o,children:[(0,p.jsxs)(Wi,{children:[(0,p.jsx)($i,{$disabled:u,children:(0,p.jsx)(Zi.Z,{type:a,height:c,width:d,color:m})}),(0,p.jsx)(Ui,{$disabled:u,children:(0,p.jsx)(wi.Z,{id:i})}),v&&(0,p.jsx)(Vi.Z,{id:"product-accessory-action",title:null===g||void 0===g?void 0:g.title,renderTrigger:({open:e,ref:i,tooltipBodyId:t})=>(0,p.jsx)(Hi,{children:(0,p.jsx)(qi,{ref:i,"aria-describedby":t,"aria-label":null===g||void 0===g?void 0:g.label,onClick:i=>{r(i),e()},children:(0,p.jsx)(Zi.Z,{type:"info",width:20,height:20})})}),children:(0,p.jsx)(Yi,{children:(0,p.jsx)(_i.Z,{tag:"p",colour:"black",children:null===g||void 0===g?void 0:g.body})})})]}),(0,p.jsx)($i,{$disabled:u,children:(0,p.jsx)(Zi.Z,{color:"grey",type:"chevron",width:20,height:15})})]}):(0,p.jsxs)(Gi,{"aria-haspopup":"dialog",onClick:r,id:o,children:[(0,p.jsx)($i,{children:(0,p.jsx)(Zi.Z,{type:a,height:c,width:d,color:m})}),(0,p.jsx)(Ui,{children:(0,p.jsx)(wi.Z,{id:i})}),(0,p.jsx)(Zi.Z,{color:"grey",type:"chevron",width:20,height:15})]})},it=t(41305);const tt=G.ZP.div.withConfig({displayName:"sharedstyles__MaxWidthContainer",componentId:"hyyuh7-0"})(["width:100%;max-width:",";padding:",";",";margin:0 auto;"],(e=>e.theme.maxWidth()),(e=>`0 ${e.theme.sizing("ms")}`),(e=>e.theme.media.min("large")((0,G.iv)(["padding-right:",";padding-left:",";"],e.theme.sizing("xl"),e.theme.sizing("xl"))))),nt=(0,G.ZP)(_i.Z).attrs((()=>({tag:"h2",weight:"semiBold",color:"grey_dark"}))).withConfig({displayName:"sharedstyles__SectionTitle",componentId:"hyyuh7-1"})(["margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;",";",""],(e=>e.theme.font("s1")),(e=>e.theme.media.min("medium")((0,G.iv)(["",";"],e.theme.font("s3"))))),at=G.ZP.div.withConfig({displayName:"ProductDeliveryReturns__Container",componentId:"sc-7y1tj5-0"})(["padding:0;"]);var rt=()=>(0,p.jsx)(at,{"data-test":"product-drawer-delivery-returns-content",children:(0,p.jsx)(tt,{children:(0,p.jsx)(_i.Z,{size:"sm1",children:(0,p.jsx)(it.Z,{id:"product.deliveryReturns.body",noNormalisedStyles:!0})})})}),ot=t(61513),st=t(69382),lt=t(58326),dt=t(72600),ct=t(17952),mt=t(1583);const ut=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreCheckerContainer",componentId:"sc-1ogdbsf-0"})(["display:flex;flex-direction:column;justify-content:space-between;height:100%;"]),pt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreCheckerDescription",componentId:"sc-1ogdbsf-1"})(["",";"],(e=>(0,G.iv)(["padding:"," 0;"],e.theme.sizing("xs")))),gt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__DropdownChevronWrapper",componentId:"sc-1ogdbsf-2"})(["position:absolute;top:50%;right:",";transform:translateY(-50%);pointer-events:none;"],(e=>e.theme.sizing("sm"))),vt=(0,G.ZP)(lt.Z).withConfig({displayName:"StoreCheckerstyles__DropdownChevron",componentId:"sc-1ogdbsf-3"})(["transition:transform 0.3s;width:",";height:",";color:",";pointer-events:none;"],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey"))),ht=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreSelect",componentId:"sc-1ogdbsf-4"})(["position:relative;display:flex;flex-direction:column;margin-bottom:",";cursor:pointer;"],(e=>e.theme.sizing("sm"))),yt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreSelected",componentId:"sc-1ogdbsf-5"})(["padding:"," ",";border:1px solid ",";display:flex;flex-direction:column;user-select:none;",""],(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light")),(e=>e.selecting&&(0,G.iv)(["border:1px solid ",";box-shadow:0 0 "," 0 ",";"],e.theme.color("blue_light"),e.theme.sizing("xxs"),e.theme.color("grey_light")))),ft=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreSelectList",componentId:"sc-1ogdbsf-6"})(["position:absolute;top:100%;width:100%;",""],(e=>e.selecting&&(0,G.iv)(["box-shadow:0 "," "," 0 ",";"],e.theme.sizing("4xs"),e.theme.sizing("xxs"),e.theme.color("grey_light")))),kt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreNotSelected",componentId:"sc-1ogdbsf-7"})(["padding:"," ",";display:flex;align-items:center;border:1px solid ",";border-top:0;background:",";width:100%;height:",";user-select:none;"],(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light")),(e=>e.theme.color("white")),(e=>e.theme.sizing("xxl"))),bt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__AddressInput",componentId:"sc-1ogdbsf-8"})(["margin-top:",";width:100%;"],(e=>e.theme.sizing("sm"))),xt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreListHeader",componentId:"sc-1ogdbsf-9"})(["display:flex;align-items:center;padding:0 0 ",";"],(e=>e.theme.sizing("xs"))),wt=(0,G.ZP)(dt.ZP).withConfig({displayName:"StoreCheckerstyles__StoreLocationChange",componentId:"sc-1ogdbsf-10"})(["margin-left:auto;"]),_t=(0,G.ZP)(dt.ZP).withConfig({displayName:"StoreCheckerstyles__SeeStoreDetails",componentId:"sc-1ogdbsf-11"})(["margin-top:",";align-self:flex-start;"],(e=>e.theme.sizing("xxs"))),Nt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StorePreview",componentId:"sc-1ogdbsf-12"})(["display:flex;"]),St=G.ZP.li.withConfig({displayName:"StoreCheckerstyles__OpeningTime",componentId:"sc-1ogdbsf-13"})(["display:flex;justify-content:space-between;&:first-child{margin-right:",";}"],(0,B.hO)(10)),Pt=G.ZP.ul.withConfig({displayName:"StoreCheckerstyles__StoreOpeningTimes",componentId:"sc-1ogdbsf-14"})(["margin-top:",";",";",";"],(e=>e.theme.sizing("xs")),(e=>e.theme.media.between("large","massive")((0,G.iv)(["margin-right:",";"],(0,B.hO)(20)))),(e=>e.theme.media.between("tiny","large")((0,G.iv)(["margin-right:0;"])))),jt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__MainModalContent",componentId:"sc-1ogdbsf-15"})(["display:flex;flex-direction:column;"]),Ct=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__AddressWrapper",componentId:"sc-1ogdbsf-16"})(["display:flex;flex-direction:row;justify-content:space-between;"," ",";"],(e=>e.theme.media.max("small")((0,G.iv)(["flex-direction:column;"]))),(e=>e.theme.media.between("small","large")((0,G.iv)(["display:block;"])))),It=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreDetails",componentId:"sc-1ogdbsf-17"})(["display:flex;flex-direction:column;flex:1 1 100%;padding:0 ",";"],(e=>e.theme.sizing("xs"))),Tt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreDistance",componentId:"sc-1ogdbsf-18"})(["white-space:nowrap;font-weight:",";"],(e=>e.theme.fontWeight("bold"))),Ot=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreName",componentId:"sc-1ogdbsf-19"})(["font-weight:",";"],(e=>e.theme.fontWeight("semiBold"))),Et=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StatusIcon",componentId:"sc-1ogdbsf-20"})(["svg{color:",";margin-top:",";}"],(e=>e.inStock?e.theme.color("green"):e.theme.color("red")),(e=>e.inStock?0:e.theme.sizing("4xs"))),Rt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StatusText",componentId:"sc-1ogdbsf-21"})(["color:",";font-size:",";font-weight:",";"],(e=>e.theme.color("grey")),(e=>e.theme.sizing("xxs")),(e=>e.theme.fontWeight("semiBold"))),Ft=(0,G.ZP)(ct.Z).withConfig({displayName:"StoreCheckerstyles__StyledMediaQuery",componentId:"sc-1ogdbsf-22"})(["width:100%;padding-top:calc((240 / 600) * 100%);position:relative;"]),At=(0,G.ZP)(ct.Z).withConfig({displayName:"StoreCheckerstyles__StyledMediaQueryMobile",componentId:"sc-1ogdbsf-23"})(["width:100%;padding-top:calc((420 / 560) * 100%);position:relative;"]),Dt=(0,G.ZP)(mt.ZP).withConfig({displayName:"StoreCheckerstyles__ImageStyled",componentId:"sc-1ogdbsf-24"})(["position:absolute;top:0;left:0;width:100%;height:100%;"]),Zt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StoreAddress",componentId:"sc-1ogdbsf-25"})(["color:",";margin-bottom:",";font-size:",";max-width:",";"],(e=>e.theme.color("grey")),(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xs")),(0,B.hO)(150)),Vt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__StorePhone",componentId:"sc-1ogdbsf-26"})(["margin-bottom:",";font-size:",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xs"))),zt=(0,G.ZP)(_i.Z).withConfig({displayName:"StoreCheckerstyles__PhoneTitleText",componentId:"sc-1ogdbsf-27"})(["margin-right:",";"],(e=>e.theme.sizing("4xs"))),Lt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__AdditionalInfo",componentId:"sc-1ogdbsf-28"})(["margin-top:",";",""],(e=>e.theme.sizing("xs")),(e=>e.theme.media.max("small")((0,G.iv)(["border-top:1px solid ",";"],e.theme.color("grey_light"))))),Mt=G.ZP.div.withConfig({displayName:"StoreCheckerstyles__PromotionsDisclaimer",componentId:"sc-1ogdbsf-29"})(["border-top:1px solid ",";padding-top:",";margin-top:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),Gt=(G.ZP.span.withConfig({displayName:"StoreCheckerstyles__AddressFinderError",componentId:"sc-1ogdbsf-30"})(["display:block;margin-top:",";"],(e=>e.theme.sizing("xs"))),G.ZP.span.withConfig({displayName:"StoreCheckerstyles__InfoButtonWrapper",componentId:"sc-1ogdbsf-31"})(["",";line-height:",";margin-left:",";"],(e=>e.theme.font("sm2")),(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("4xs"))),G.ZP.div.withConfig({displayName:"StoreCheckerstyles__ModalWrapper",componentId:"sc-1ogdbsf-32"})(["max-width:",";padding:0;margin:0;"],(0,B.hO)(636))),Bt=(0,G.ZP)(_i.Z).withConfig({displayName:"StoreCheckerstyles__LabelText",componentId:"sc-1ogdbsf-33"})(["margin-top:",";"],(e=>e.theme.sizing("sm"))),$t=((0,G.ZP)(_i.Z).withConfig({displayName:"StoreCheckerstyles__TooltipText",componentId:"sc-1ogdbsf-34"})(["width:",";max-width:100%;"],(0,B.hO)(320)),{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StockCheck"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sku"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stores"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sku"},value:{kind:"Variable",name:{kind:"Name",value:"sku"}}},{kind:"Argument",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"storeId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"phone"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"openingTimes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeRange"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lng"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"distance"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"distanceUnit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statusCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inStock"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"storeUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"additionalInfo"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:386,source:{body:"\n  query StockCheck($sku: String, $location: String) {\n    stores(sku: $sku, location: $location) {\n      storeId\n      name\n      address\n      phone\n      openingTimes {\n        day\n        timeRange\n      }\n      coordinates {\n        lat\n        lng\n      }\n      distance\n      distanceUnit\n      status\n      statusCode\n      inStock\n      storeUrl\n      additionalInfo\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}});var Ut,Wt,Ht=({variables:e,children:i,selectedStore:t,setSelectedStore:a})=>{const r=(0,b.aM)($t,{variables:e});return(0,n.useEffect)((()=>{if(!t){const{stores:e=[]}=r.data||{};e.length&&a(e[0])}}),[r.data,t,a]),i(r)};const qt="INVENTORY",Yt=x.Z.google.directionsUrl,Qt=null===(Ut=x.Z.google)||void 0===Ut||null===(Wt=Ut.staticMap)||void 0===Wt?void 0:Wt.url,Kt=({store:e})=>{const{0:i,1:t}=(0,n.useState)(!1),a=(0,I.T)();if(i||!e.address)return null;const r=encodeURIComponent(e.address);let o="";if(e.coordinates){const{lat:i,lng:t}=e.coordinates;i&&t&&(o=`&markers=color:red%7Clabel:A%7C${i},${t}`)}const s=x.Z.google.staticMap.key,l=window.devicePixelRatio>=2?2:1,d=`${Qt}?center=${r}&zoom=15&size=600x240&scale=${l}&maptype=roadmap${o}&key=${s}`,c=`${Qt}?center=${r}&zoom=16&size=560x420&scale=${l}&maptype=roadmap${o}&key=${s}`;return(0,p.jsxs)("div",{"data-test":"store-inventory-map",children:[(0,p.jsx)(Ft,{breakpoint:"small",matchWidth:"min",children:(0,p.jsx)(Dt,{src:d,alt:a("store.map"),onError:()=>t(!0)})}),(0,p.jsx)(At,{breakpoint:"small",matchWidth:"max",children:(0,p.jsx)(Dt,{src:c,alt:a("store.map"),onError:()=>t(!0)})})]})},Xt=({store:e,origin:i,triggerStockCheckerEvent:t})=>{const n=encodeURIComponent(e.address),a=Yt.replace(/{ORIGIN_ADDR}/,i).replace(/{DEST_ADDR}/,n);return(0,p.jsxs)(Gt,{children:[(0,p.jsx)(_i.Z,{tag:"h1",size:"s2",children:e.name}),(0,p.jsxs)(jt,{children:[(0,p.jsx)(zi.Z,{to:a,target:"_blank",rel:"noopener noreferrer","data-test":"store-directions-map-link",onClick:()=>t("pdp_map_directions"),children:(0,p.jsx)(Kt,{store:e})}),(0,p.jsxs)(Ct,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(_i.Z,{tag:"h2",children:(0,p.jsx)(wi.Z,{id:"store.location"})}),e.address.length>0&&(0,p.jsx)(Zt,{"data-test":"store-inventory-modal-address",children:e.address}),"string"===typeof e.phone&&e.phone.length>0&&(0,p.jsxs)(Vt,{"data-test":"store-inventory-modal-phone",children:[(0,p.jsxs)(zt,{color:"grey",children:[(0,p.jsx)(wi.Z,{id:"store.phone.title"}),":"]}),e.phone]}),(0,p.jsx)(zi.Z,{to:a,target:"_blank",rel:"noopener noreferrer","data-test":"maps-link",onClick:()=>t("pdp_map_directions"),children:(0,p.jsx)(wi.Z,{id:"directions.and.map"})})]}),(0,p.jsx)("div",{children:e.openingTimes.length>0&&(0,p.jsxs)(Pt,{"data-test":"store-inventory-modal-opening-times",children:[(0,p.jsx)(_i.Z,{tag:"h2",children:(0,p.jsx)(wi.Z,{id:"opening.times"})}),e.openingTimes.map((({day:e,timeRange:i})=>(0,p.jsxs)(St,{children:[(0,p.jsx)(_i.Z,{color:"grey",children:e}),(0,p.jsx)(_i.Z,{color:"grey",children:i})]},e)))]})})]})]}),e.additionalInfo&&(0,p.jsxs)(Lt,{children:[(0,p.jsx)(_i.Z,{tag:"h2","data-test":"store-inventory-modal-additional-info",children:(0,p.jsx)(wi.Z,{id:"additional.info"})}),(0,p.jsx)(_i.Z,{tag:"p",color:"grey",children:e.additionalInfo})]}),(0,p.jsx)(Mt,{"data-test":"store-inventory-modal-promotion-disclaimer",children:(0,p.jsx)(_i.Z,{color:"grey",children:(0,p.jsx)(it.Z,{id:"promotions.in.store.may.vary",values:{STORE_URL:e.storeUrl}})})})]})},Jt=({store:e,showSelectedStore:i,triggerStockCheckerEvent:t})=>(0,p.jsxs)(Nt,{"data-test":"store-inventory-store-preview",children:[(0,p.jsx)(Et,{inStock:e.inStock,"data-test":"store-inventory-icon-"+(e.inStock?"instock":"nostock"),children:e.inStock?(0,p.jsx)(Zi.Z,{type:"tick"}):(0,p.jsx)(Zi.Z,{type:"cross"})}),(0,p.jsxs)(It,{children:[(0,p.jsx)(Ot,{"data-test":"store-inventory-preview-name",children:e.name}),(0,p.jsx)(Rt,{"data-test":"store-inventory-preview-status",children:e.status}),(0,p.jsx)(Zt,{"data-test":"store-inventory-preview-address",children:e.address}),(0,p.jsx)(_t,{type:"link",onClick:()=>{t("pdp_see_store_details",e.inStock?"true":"false"),i()},"data-test":"store-inventory-preview-see-more",children:(0,p.jsx)(wi.Z,{id:"see.store.details"})})]}),(0,p.jsxs)(Tt,{"data-test":"store-inventory-preview-distance",children:[e.distance," ",e.distanceUnit]})]},e.storeId);var en=({sku:e})=>{const{0:i,1:t}=(0,n.useState)(!1),{0:a,1:r}=(0,n.useState)(!1),{0:o,1:s}=(0,n.useState)(null),{0:l,1:d}=(0,n.useState)(null),{0:c,1:m}=(0,n.useState)(!0),u=(0,I.T)(),{triggerEvent:g}=(0,R.FG)(),v=(0,ot.Do)(qt),h=(e,i)=>{g({label:e,eventType:["custom"],data:i?{availability:i}:null})},y=()=>{t(!0),m(!1)};return(0,n.useEffect)((()=>{s(v)}),[v]),o?(0,p.jsxs)(ut,{children:[i&&l?(0,p.jsx)(Xt,{store:l,origin:o,triggerStockCheckerEvent:h}):(0,p.jsxs)(bt,{"data-test":"store-inventory",children:[(0,p.jsxs)(xt,{children:[(0,p.jsx)(_i.Z,{size:"sm1",children:(0,p.jsx)(wi.Z,{id:"nearest.store"})}),(0,p.jsx)(wt,{type:"link",onClick:()=>{h("pdp_change_location",l&&l.inStock?"true":"false"),r(!1),d(null),s(null)},children:(0,p.jsx)(_i.Z,{"data-test":"store-inventory-change-location",size:"sm1",children:(0,p.jsx)(wi.Z,{id:"change.store.location"})})})]}),o&&(0,p.jsx)(Ht,{variables:{sku:e,location:encodeURIComponent(o)},selectedStore:l,setSelectedStore:d,children:({loading:e,error:i,data:t={}})=>{if(i)return(0,p.jsx)(_i.Z,{"data-test":"store-inventory-error",children:(0,p.jsx)(wi.Z,{id:"error.finding.stores"})});if(e)return(0,p.jsx)(_i.Z,{children:(0,p.jsx)(wi.Z,{id:"loading.nearby.stores"})});const{stores:n}=t;return 0===n.length?(0,p.jsx)(_i.Z,{"data-test":"store-inventory-no-nearby-stores",children:(0,p.jsx)(wi.Z,{id:"no.nearby.stores"})}):l?(0,p.jsxs)(p.Fragment,{children:[n.length>1&&(0,p.jsxs)(ht,{"data-test":"store-inventory-select-store",children:[(0,p.jsxs)(yt,{onClick:()=>r(!a),selecting:a,"data-test":"store-inventory-selected-store",children:[(0,p.jsx)(_i.Z,{size:"sm1",children:(0,p.jsx)(wi.Z,{id:"select.a.store"})}),(0,p.jsx)(_i.Z,{children:l.name})]}),(0,p.jsx)(ft,{selecting:a,"data-test":"store-inventory-stores-list",children:a&&n.filter((e=>e.storeId!==l.storeId)).map((e=>(0,p.jsxs)(kt,{onClick:()=>{h("pdp_select_a_store_dropdown",l&&l.inStock?"true":"false"),d(e),r(!1)},"data-test":"store-inventory-store-unselected",children:[(0,p.jsx)(Et,{inStock:e.inStock,"data-test":"store-inventory-icon-"+(e.inStock?"instock":"nostock"),children:e.inStock?(0,p.jsx)(Zi.Z,{type:"tick"}):(0,p.jsx)(Zi.Z,{type:"cross"})}),(0,p.jsx)(It,{children:(0,p.jsx)(Ot,{children:e.name})}),(0,p.jsxs)(Tt,{children:[e.distance," ",e.distanceUnit]})]},e.storeId)))}),(0,p.jsx)(gt,{children:(0,p.jsx)(vt,{chevronDirection:a?"up":"down"})})]}),(0,p.jsx)(Jt,{store:l,showSelectedStore:y,triggerStockCheckerEvent:h})]}):null}})]}),c&&(0,p.jsx)(pt,{children:(0,p.jsx)(wi.Z,{id:"checkstock.description"})})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Bt,{tag:"p",size:"sm1",children:(0,p.jsx)(wi.Z,{id:"checkstock.check"})}),(0,p.jsx)(st.Z,{buttonIcon:"search",iconHeight:18,iconWidth:18,iconColor:"blue",buttonType:"secondary",label:(0,p.jsx)(wi.Z,{id:"enter.postcode"}),onSubmit:e=>{s(e),(0,ot.d8)({name:qt,value:e,session:!0}),h("pdp_check_store_stock_search")},buttonLabel:u("store-inventory.find-store")})]})},tn=t(10869),nn=t.n(tn);const an=G.ZP.div.withConfig({displayName:"EmailNotificationstyles__ModalContent",componentId:"sc-1fpcpv4-0"})(["margin:"," 0;"],(e=>e.theme.sizing("xxs"))),rn=((0,G.ZP)(_i.Z).withConfig({displayName:"EmailNotificationstyles__ButtonLabel",componentId:"sc-1fpcpv4-1"})(["margin-left:",";color:",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.color("grey_dark"))),(0,G.ZP)(dt.ZP).withConfig({displayName:"EmailNotificationstyles__StyledButton",componentId:"sc-1fpcpv4-2"})(["padding:0;display:flex;align-items:center;text-align:left;"]),G.ZP.svg.withConfig({displayName:"EmailNotificationstyles__StyledIcon",componentId:"sc-1fpcpv4-3"})(["height:",";width:",";flex-shrink:0;"],(e=>e.theme.sizing("lg")),(e=>e.theme.sizing("lg")))),on=G.ZP.div.withConfig({displayName:"EmailNotificationstyles__MessageHeading",componentId:"sc-1fpcpv4-4"})(["display:flex;flex-direction:row;"]),sn=(0,G.ZP)(_i.Z).withConfig({displayName:"EmailNotificationstyles__MessageTitle",componentId:"sc-1fpcpv4-5"})(["margin-top:0;margin-left:",";"],(e=>e.theme.sizing("3xs"))),ln=G.ZP.div.withConfig({displayName:"EmailNotificationstyles__IconWrapper",componentId:"sc-1fpcpv4-6"})(["height:",";width:",";"],(e=>e.theme.sizing("lg")),(e=>e.theme.sizing("lg")));var dn=()=>(0,p.jsx)(rn,{width:"100%",height:"100%",viewBox:"0 0 40 40",alt:"",children:(0,p.jsx)("g",{id:"Back-in-stock-/-Coming-soon-Notification",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,p.jsx)("g",{id:"Notify-Complete---success",transform:"translate(-633.000000, -408.000000)",children:(0,p.jsxs)("g",{id:"Iconography-/-Status-/-stages-Complete",transform:"translate(633.000000, 408.000000)",children:[(0,p.jsx)("g",{id:"Group-4",fill:"#008537",children:(0,p.jsx)("circle",{id:"Oval-3-Copy",cx:"17.5",cy:"17.5",r:"17.5"})}),(0,p.jsx)("g",{id:"Icon-/-Mono-/-Check-Copy",transform:"translate(9.000000, 12.000000)",fill:"#FFFFFF",children:(0,p.jsx)("g",{id:"Icon-/-Mono-/-Check",children:(0,p.jsx)("polygon",{id:"Shape",points:"0 5.26415094 6.45967742 12 18 0 15.9858871 0 13.9717742 0 6.45967742 7.79245283 4.02822581 5.28301887 2.0141129 5.28301887"})})})]})})})});var cn=()=>(0,p.jsx)(rn,{width:"100%",height:"100%",viewBox:"0 0 50 50",alt:"",children:(0,p.jsx)("g",{id:"Back-in-stock-/-Coming-soon-Notification",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,p.jsx)("g",{id:"Notify-Complete---fail",transform:"translate(-621.000000, -396.000000)",fill:"#D0021B",children:(0,p.jsx)("g",{id:"Iconography-/-Status-/-stages-Complete",transform:"translate(621.000000, 396.000000)",children:(0,p.jsx)("g",{id:"Shape-2",transform:"translate(0.625000, 0.625000)",children:(0,p.jsx)("polygon",{id:"Shape",transform:"translate(24.375000, 24.375000) rotate(-315.000000) translate(-24.375000, -24.375000) ",points:"26.9425 21.8075 26.9425 8.125 21.8075 8.125 21.8075 21.8075 8.125 21.8075 8.125 26.9425 21.8075 26.9425 21.8075 40.625 26.9425 40.625 26.9425 26.9425 40.625 26.9425 40.625 21.8075"})})})})})});const mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubscribeToEmailNotification"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"country"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"language"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"notificationType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sku"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"baseImgUrl"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscribeToEmailNotification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"ObjectField",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}},{kind:"ObjectField",name:{kind:"Name",value:"language"},value:{kind:"Variable",name:{kind:"Name",value:"language"}}},{kind:"ObjectField",name:{kind:"Name",value:"notificationType"},value:{kind:"Variable",name:{kind:"Name",value:"notificationType"}}},{kind:"ObjectField",name:{kind:"Name",value:"sku"},value:{kind:"Variable",name:{kind:"Name",value:"sku"}}},{kind:"ObjectField",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"productName"},value:{kind:"Variable",name:{kind:"Name",value:"productName"}}},{kind:"ObjectField",name:{kind:"Name",value:"baseImgUrl"},value:{kind:"Variable",name:{kind:"Name",value:"baseImgUrl"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:566,source:{body:"\n  mutation SubscribeToEmailNotification(\n    $email: String!\n    $country: String!\n    $language: String!\n    $notificationType: String!\n    $sku: String!\n    $productCode: String!\n    $productName: String!\n    $baseImgUrl: String!\n  ) {\n    subscribeToEmailNotification(\n      input: {\n        email: $email\n        country: $country\n        language: $language\n        notificationType: $notificationType\n        sku: $sku\n        productCode: $productCode\n        productName: $productName\n        baseImgUrl: $baseImgUrl\n      }\n    ) {\n      success\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var un=t(48601),pn=t(77708),gn=t(21913),vn=t(20348);(0,G.ZP)(_i.Z).withConfig({displayName:"EmailNotificationFormstyles__FormTitle",componentId:"sc-2togjv-0"})(["margin-bottom:",";"],(e=>e.theme.sizing("md")));const hn=G.ZP.form.withConfig({displayName:"EmailNotificationFormstyles__Form",componentId:"sc-2togjv-1"})(["margin-bottom:",";"],(e=>e.theme.sizing("md"))),yn=(G.ZP.svg.withConfig({displayName:"EmailNotificationFormstyles__StyledIcon",componentId:"sc-2togjv-2"})(["height:",";width:",";"],(e=>e.theme.sizing("lg")),(e=>e.theme.sizing("lg"))),G.ZP.div.withConfig({displayName:"EmailNotificationFormstyles__FieldWrapper",componentId:"sc-2togjv-3"})(["margin-bottom:",";font-size:14px;"],(e=>e.theme.sizing("xs")))),fn=G.ZP.div.withConfig({displayName:"EmailNotificationFormstyles__EmailWrapper",componentId:"sc-2togjv-4"})(["margin-bottom:",";"],(e=>e.theme.sizing("md")));function kn(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function bn(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?kn(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kn(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var xn=({mutate:e,sku:i,availabilityStatus:t,productCode:n,productName:a,baseImgUrl:r})=>{const{triggerEvent:o}=(0,R.FG)(),s=(0,O.v)(),{country:l,lang:d}=(0,Ei.b)(),c=(0,I.T)(),m=(0,un.Ry)({email:(0,un.Z_)().email(c("email.error.message")).required(),age:(0,un.O7)().test("age",(e=>!0===e)).required(c("notification.invalid.age")),terms:(0,un.O7)().test("terms",(e=>!0===e)).required(c("notification.invalid.terms"))}),u={email:s&&s.email||"",age:!1,terms:!1},[g,v,h,y,f]=(0,pn.c)(m,u);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(_i.Z,{tag:"p",size:"sm1",children:(0,p.jsx)(wi.Z,{id:"notification.form.text",values:{productName:a,productCode:n}})}),(0,p.jsxs)(hn,{onSubmit:o=>{o.preventDefault(),f(),e({variables:{email:g.values.email,language:d.toUpperCase(),notificationType:t,country:l,sku:i,productCode:n,productName:a,baseImgUrl:r}})},children:[(0,p.jsx)(fn,{children:(0,p.jsx)(vn.Z,bn(bn({},v("email")),{},{label:c("notification.form.email.label"),"data-test":"notification-form-email-input"}))}),(0,p.jsx)(yn,{children:(0,p.jsx)(gn.Z,bn(bn({},v("age")),{},{label:c("notification.form.age.label")}))}),(0,p.jsx)(yn,{children:(0,p.jsx)(gn.Z,bn(bn({},v("terms")),{},{label:c("notification.form.terms.label")}))}),(0,p.jsx)(_i.Z,{size:"sm2",children:(0,p.jsx)(it.Z,{id:"notification.terms",values:{productName:a,productCode:n}})}),(0,p.jsx)(dt.ZP,{fullWidth:!0,type:g.isValid?"primary":"disabled","data-test":"notification-form-submit",onClick:()=>o({label:"pdpNotifyMeEmailSubmission",eventType:["custom"]}),children:(0,p.jsx)(wi.Z,{id:"notification.form.button.label"})})]})]})};var wn=({sku:e,productCode:i,availabilityStatus:t,productName:a,baseImgUrl:r})=>{const[o,{data:s,error:l,loading:d}]=(0,b.Db)(mn),{0:c,1:m}=(0,n.useState)(!1),{0:u,1:g}=(0,n.useState)(!1),{triggerEvent:v}=(0,R.FG)();return(0,n.useEffect)((()=>{const e=nn()(s,(e=>e.subscribeToEmailNotification.success))||!1;!d&&e&&(v({label:"emailBackInStockAnalytics",eventType:["custom"]}),m(!0)),(!d&&l||s&&!e)&&g(!0)}),[s,l,d]),(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(an,{children:[u&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(on,{children:[(0,p.jsx)(ln,{children:(0,p.jsx)(cn,{})}),(0,p.jsx)(sn,{tag:"h2",size:"s1",weight:"semiBold",children:(0,p.jsx)(wi.Z,{id:"notification.error.title",values:{productName:a,productCode:i}})})]}),(0,p.jsx)(_i.Z,{tag:"p",children:(0,p.jsx)(wi.Z,{id:"notification.error.text"})})]}),c&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(on,{children:[(0,p.jsx)(ln,{children:(0,p.jsx)(dn,{})}),(0,p.jsx)(sn,{tag:"h2",size:"s1",weight:"semiBold",children:(0,p.jsx)(wi.Z,{id:"notification.success.title",values:{productName:a,productCode:i}})})]}),(0,p.jsx)(_i.Z,{tag:"p",children:(0,p.jsx)(wi.Z,{id:"notification.success.text"})})]}),!c&&!u&&(0,p.jsx)(xn,{mutate:o,sku:e,productCode:i,availabilityStatus:t,productName:a,baseImgUrl:r})]})})};const _n={"product-card-link-delivery":{title:"product.deliveryReturns.title",component:()=>(0,p.jsx)(rt,{})},"product-card-link-availability":{title:"check.store.stock",component:({sku:e})=>(0,p.jsx)(en,{sku:e})},"product-card-link-notify-stock":{title:"notification.button.label",component:({sku:e,productCode:i,availabilityStatus:t,productName:n,baseImgUrl:a})=>(0,p.jsx)(wn,{sku:e,productCode:i,availabilityStatus:t,productName:n,baseImgUrl:a})}},Nn={centAmount:0,formattedAmount:"",currencyCode:"",formattedValue:0},Sn=e=>{if(!e||"ReadOnlyVariant"===e.__typename)return Nn;const i=e.price||{};return{centAmount:i.centAmount||0,formattedAmount:i.formattedAmount||"",currencyCode:i.currencyCode||"",formattedValue:i.formattedValue||0}},Pn=e=>{if(!e||"ReadOnlyVariant"===e.__typename)return Nn;const i=e.listPrice||{};return{centAmount:i.centAmount||0,formattedAmount:i.formattedAmount||"",currencyCode:"",formattedValue:i.formattedValue||0}};var jn=t(731),Cn=t(50965),In=t(7429);const Tn=G.ZP.div.withConfig({displayName:"AddToBagContainerstyles__MinHeightContainer",componentId:"af7cfl-0"})(["min-height:",";"],(0,B.hO)(50)),On=G.ZP.div.withConfig({displayName:"AddToBagContainerstyles__Container",componentId:"af7cfl-1"})(["",""],(({theme:e,isFixed:i})=>(0,G.iv)(["",""],i?(0,G.iv)(["position:fixed;overflow:hidden;line-height:",";",";background-color:",";left:0;right:0;width:100%;",";",";animation-duration:400ms;animation-name:slidein;"],e.lineHeight("sm2"),e.zIndex("medium"),e.color("white"),e.media.min("large")((0,G.iv)(["@keyframes slidein{from{opacity:0;transform:translateY(-100%);}to{opacity:1;transform:translateY(0);}}top:0;box-shadow:0 0 "," 0 ",";"],e.sizing("xxs"),e.color("black",{transparency:.9}))),e.media.max("large")((0,G.iv)(["@keyframes slidein{from{opacity:0;transform:translateY(100%);}to{opacity:1;transform:translateY(0);}}bottom:0;border-top:1px solid ",";"],e.color("grey_light")))):(0,G.iv)(["position:relative;"])))),En=G.ZP.div.withConfig({displayName:"AddToBagContainerstyles__ContentHolder",componentId:"af7cfl-2"})(["",""],(({theme:e,isFixed:i})=>(0,G.iv)(["",""],i&&(0,G.iv)(["display:flex;align-items:center;max-width:",";padding:"," ",";",";margin:0 auto;"],e.maxWidth(),e.sizing("xs"),e.sizing("lg"),e.media.max("small")((0,G.iv)(["padding:",";"],e.sizing("xs"))))))),Rn=G.ZP.div.withConfig({displayName:"AddToBagContainerstyles__AddToBagHolder",componentId:"af7cfl-3"})(["",""],(({theme:e,isFixed:i})=>(0,G.iv)(["",""],i&&(0,G.iv)(["width:20%;",";"],e.media.max("small")((0,G.iv)(["width:100%;"])))))),Fn=G.ZP.div.withConfig({displayName:"AddToBagContainerstyles__BagBarDescriptionContainer",componentId:"af7cfl-4"})(["width:100%;","{line-height:",";}"],_i.k,(({theme:e})=>e.lineHeight("sm2"))),An=(0,G.ZP)(_i.Z).withConfig({displayName:"AddToBagContainerstyles__ProductName",componentId:"af7cfl-5"})(["display:block;font-weight:bold;"]),Dn=(0,G.ZP)(In.a).withConfig({displayName:"AddToBagContainerstyles__StyledAddToCart",componentId:"af7cfl-6"})(["",""],(({theme:e,isFixed:i})=>(0,G.iv)(["",";"],i?(0,G.iv)(["padding:"," ",";width:auto;min-width:",";",""],e.sizing("3xs"),e.sizing("lg"),(0,B.hO)(220),e.media.max("small")((0,G.iv)(["padding-right:",";padding-left:",";min-width:",";"],e.sizing("xs"),e.sizing("xs"),(0,B.hO)(150)))):(0,G.iv)(["",";"],e.media.between("small","medium")((0,G.iv)(["width:100%;"])))))),Zn=(0,n.memo)(Dn),Vn=({label:e,data:i,analyticsEvents:t,isProductAvailable:a,safetyWarning:r,useSkrollButton:o})=>{const{headerActions:s}=(0,n.useContext)(A.pI),[l,d]=(0,jn.Z)(),{0:c,1:m}=(0,n.useState)(!1),u=(0,T.Z)("screen and (min-width: 1200px)");(0,n.useEffect)((()=>{if(null!==u&&l&&l.current){const e=l.current.getBoundingClientRect(),i=(e.y||e.top)<0;s.setForceHide(i&&u),s.setChatOffset(i&&!u?"3xl":null)}}),[u,s]),(0,n.useEffect)((()=>()=>{s.setForceHide(!1),s.setChatOffset(null)}),[]),(0,n.useEffect)((()=>{const e=document.querySelector("footer");if(null!==e)if(c&&!u){const i=d.height+15;e.style.paddingBottom=`${i}px`}else e.style.paddingBottom="0px"}),[d.height,u,c]);const{name:g,onSale:v,formattedPrice:h,formattedListPrice:y}=i,f=()=>{t()};return(0,p.jsx)(N.Z,{onIntersection:(e,i={})=>{const t=!e&&i.top<0;t!==c&&(m(t),s.setChatOffset(t&&!u?"3xl":null))},children:({onRef:t})=>(0,p.jsx)(Tn,{ref:e=>{l(e),t(e)},children:(0,p.jsx)(On,{isFixed:c,"data-test":"add-to-bag-sticky-container",children:(0,p.jsxs)(En,{isFixed:c,children:[c&&(0,p.jsxs)(Fn,{children:[(0,p.jsx)(An,{"data-test":"add-to-bag-sticky-product-name",children:g}),h&&(0,p.jsx)(Cn.Z,{price:h,listPrice:y,onSale:v,size:"s0",align:"left","data-test":"add-to-bag-sticky-price"})]}),(0,p.jsx)(Rn,{isFixed:c,children:(0,p.jsx)(Zn,{isFixed:c,fullWidth:!0,label:e,"data-test":a?"add-to-bag":"add-to-bag-disabled",data:i,sendEvents:f,isProductAvailable:a,safetyWarning:r,useSkrollButton:o})})]})})})})};var zn=t(37697),Ln=t(94920);const Mn=G.ZP.div.withConfig({displayName:"BisMessageModalstyles__ModalContent",componentId:"kuor6l-0"})(["",""],(({theme:e})=>(0,G.iv)(["width:100%;padding:",";",""],e.sizing("ms"),e.media.min("small")((0,G.iv)(["width:",";"],(0,B.hO)(600)))))),Gn=(0,G.ZP)(_i.Z).withConfig({displayName:"BisMessageModalstyles__HeaderText",componentId:"kuor6l-1"})(["",""],(({theme:e})=>(0,G.iv)(["border-bottom:1px solid ",";padding-bottom:",";margin:0;font-weight:",";font-size:",";"],e.color("grey_light"),e.sizing("3xs"),e.fontWeight("semiBold"),(e=>e.theme.fontSize("s2"))))),Bn=G.ZP.div.withConfig({displayName:"BisMessageModalstyles__ContentWrapper",componentId:"kuor6l-2"})(["",""],(({theme:e})=>(0,G.iv)(["padding-top:",";"],e.sizing("ms")))),$n=(0,G.ZP)(_i.Z).withConfig({displayName:"BisMessageModalstyles__DescriptionText",componentId:"kuor6l-3"})(["font-size:",";margin:0;font-weight:",";line-height:",";"],(e=>e.theme.fontSize("s0")),(e=>e.theme.fontWeight("normal")),(e=>e.theme.lineHeight("s0")));var Un=e=>{const i=(0,I.T)(),{0:t,1:a}=(0,n.useState)(!0),{0:r,1:o}=(0,n.useState)(!1),{data:{notifyAction:{showBisEmailButton:s,bisTooltip:l,disableBackInStockFeature:d,handleBisNotificationClick:c},storeInventoryAction:{canShowStoreInventory:m,handleProductCardLinkClick:u}},channel:g,product:v}=e,{triggerEvent:h}=(0,R.FG)(),y=i("back.in.stock.pop.up.body",{productName:v||""});return s&&!d||m?(0,p.jsx)(Ln.Z,{isOpen:t,onRequestClose:()=>{a(!1),h({label:"backInStockPopUpClose",eventType:["custom"]})},label:"label",closeLabel:"element.modal.closeLabel",renderTrigger:()=>{r||(h({label:"backInStockPopUp",eventType:["custom"]}),o(!0))},children:(0,p.jsxs)(Mn,{"data-test":"bismessage-modal-content",children:[(0,p.jsx)(Gn,{tag:"h2",size:"s1",children:(0,p.jsx)(wi.Z,{id:"back.in.stock.pop.up.header"})}),(0,p.jsxs)(Bn,{children:[(0,p.jsx)($n,{tag:"p",color:"black",size:"sm1",weight:"semiBold","data-test":"product-overview-stockdrop",children:y}),m&&(0,p.jsx)(et,{title:"back.in.stock.pop.up.cta.header",description:"back.in.stock.pop.up.cta.body",channel:g,iconType:"pinpoint",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-availability","data-test":"message-modal-check-stock-button",onClick:e=>{a(!1),u(e),h({label:"backInStockPopUpCheckInStore",eventType:["custom"]})}}),s&&!d&&(0,p.jsx)(et,{title:"back.in.stock.pop.up.cta.2.header",description:"back.in.stock.pop.up.cta.2.body",channel:g,iconType:"email",id:"product-card-link-notify-stock","data-test":"message-modal-bis-email-button",tooltip:l,disabled:d,onClick:e=>{a(!1),c(e),h({label:"backInStockPopUpNotifyMe",eventType:["custom"]})}})]})]})}):null};var Wn=e=>{const{data:i,channel:t,product:n}=e;return(0,p.jsx)(Un,{data:i,channel:t,product:n})};function Hn(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function qn(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Hn(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hn(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Yn=(e,i)=>{switch(e.__typename){case"SingleVariantProduct":return nn()(e,(e=>e.variant));case"MultiVariantProduct":return"number"===typeof i?nn()(e,(e=>e.variants[i])):(e=>{if("MultiVariantProduct"===e.__typename){const i=e.variants[0],t=e.priceRange,n=t?{price:{__typename:"Price",centAmount:nn()(i,(e=>e.price.centAmount))||0,currencyCode:nn()(i,(e=>e.price.currencyCode))||"",formattedValue:nn()(i,(e=>e.price.formattedValue))||0,formattedAmount:t.formattedPriceRange},listPrice:{__typename:"Price",centAmount:nn()(i,(e=>e.listPrice.centAmount))||0,formattedValue:nn()(i,(e=>e.listPrice.formattedValue))||0,formattedAmount:t.formattedListPriceRange}}:{};return qn(qn({},i),{},{id:"",sku:"",vipPoints:null,attributes:qn(qn({},i.attributes||{}),{},{maxOrderQuantity:0})},n)}return null})(e);case"ReadOnlyProduct":return nn()(e,(e=>e.readOnlyVariant));default:return null}},Qn=(e,i)=>{if(e)return nn()(e,(e=>e[i]))},Kn=(e,i)=>{if(e)return nn()(e,(e=>e.attributes[i]))},Xn=e=>{var i;return"ProductVariant"===(null===e||void 0===e?void 0:e.__typename)&&(null===(i=e.attributes)||void 0===i?void 0:i.maxOrderQuantity)||null};var Jn=t(96775);const ea=G.ZP.div.withConfig({displayName:"TargetedPromotionstyles__Wrapper",componentId:"qjzds-0"})(["display:flex;width:100%;background:",";padding:"," ",";justify-content:center;"],(e=>e.theme.color("blue_extra_light")),(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xs"))),ia=(0,G.ZP)(_i.Z).withConfig({displayName:"TargetedPromotionstyles__Title",componentId:"qjzds-1"})(["margin:0;"]),ta=(0,G.ZP)(mt.ZP).withConfig({displayName:"TargetedPromotionstyles__StyledImage",componentId:"qjzds-2"})(["max-height:",";width:auto;margin-right:",";"],(e=>e.theme.sizing("xxl")),(e=>e.theme.sizing("xs"))),na=G.ZP.div.withConfig({displayName:"TargetedPromotionstyles__TooltipBody",componentId:"qjzds-3"})(["min-width:",";font-size:",";"],(e=>e.theme.sizing(4.5)),(e=>e.theme.fontSize("sm1"))),aa=(0,G.ZP)(dt.ZP).withConfig({displayName:"TargetedPromotionstyles__LinkButton",componentId:"qjzds-4"})(["padding:0;"]),ra=(0,G.ZP)(zi.Z).withConfig({displayName:"TargetedPromotionstyles__StyledLink",componentId:"qjzds-5"})(["font-weight:",";",";"],(e=>e.theme.fontWeight("semiBold")),(e=>e.theme.font("sm1"))),oa=G.ZP.div.withConfig({displayName:"TargetedPromotionstyles__Inner",componentId:"qjzds-6"})(["width:100%;"]),sa=({section:e,fetchOnClient:i})=>!!e&&!i;var la=({promotion:e,className:i,dataTest:t})=>{const{triggerEvent:a}=(0,R.FG)(),r=(0,n.useCallback)((i=>{var t;return a({label:"promoShown",eventType:["custom"],data:{message:null!==(t=e.section)&&void 0!==t&&t.text?e.section.text:"",promoInfo:`pdp:message box:${i}`}})}),[a,e]);(0,n.useEffect)((()=>{sa(e)&&r("shown")}),[e,r]);const{inExperimentAudience:o,variantId:s,testId:l}=e;if((0,n.useEffect)((()=>{o&&a({label:"abTest",eventType:["custom"],data:{experiment:{variant:s,id:l}}})}),[o,s,l,a]),!sa(e))return null;const{imageSrc:d,text:c,countdownDate:m,callToActionText:u,callToActionLink:g,tooltipText:v}=e.section;return(0,p.jsxs)(ea,{onClick:()=>{r("click")},className:i,"data-test":t,children:[d&&(0,p.jsx)(ta,{src:d,alt:""}),(0,p.jsxs)(oa,{children:[c&&(0,p.jsx)(ia,{size:"sm1",weight:"semiBold",tag:"div",children:(0,p.jsx)(it.Z,{id:c})}),m&&(0,p.jsx)(Jn.Z,{countdownToDate:m,kind:"small"}),u&&v&&(0,p.jsx)(Vi.Z,{id:"targeted-promotion-tooltip",renderTrigger:({open:e,ref:i,tooltipBodyId:t})=>(0,p.jsx)(aa,{"aria-describedby":t,onClick:e,innerRef:i,type:"ghost",children:u}),children:(0,p.jsx)(na,{children:(0,p.jsx)(it.Z,{colour:"black",id:v})})}),u&&g&&!v&&(0,p.jsx)(ra,{to:g,onClick:()=>a({label:"pdpPromotionalBannerClick",eventType:["custom"]}),children:u})]})]})};const da=(0,G.ZP)(la).withConfig({displayName:"Promotionsstyles__TargetedPromotion",componentId:"x7d7zp-0"})(["margin-bottom:",";",""],(e=>e.theme.sizing("ms")),(e=>e.theme.media.between("small","medium")((0,G.iv)(["width:70%;margin-right:",";"],(0,B.hO)(50)))));let ca,ma,ua,pa,ga,va,ha,ya,fa,ka,ba,xa,wa,_a,Na,Sa,Pa,ja,Ca,Ia,Ta,Oa,Ea,Ra,Fa,Aa,Da,Za,Va,za,La,Ma,Ga,Ba,$a,Ua,Wa,Ha,qa,Ya,Qa,Ka,Xa,Ja,er,ir,tr,nr,ar,rr,or,sr,lr,dr,cr,mr,ur,pr,gr,vr,hr,yr,fr,kr,br,xr,wr,_r,Nr,Sr,Pr,jr;!function(e){e.FAQ="FAQ",e.NONE="None"}(ca||(ca={})),function(e){e.FRAMES="FRAMES",e.SPRITE="SPRITE",e.VIDEO="VIDEO"}(ma||(ma={})),function(e){e.ALL="ALL",e.IMAGE="IMAGE",e.VIDEO="VIDEO"}(ua||(ua={})),function(e){e.A_PRE_ORDER_FOR_DATE="A_PRE_ORDER_FOR_DATE",e.B_COMING_SOON_AT_DATE="B_COMING_SOON_AT_DATE",e.C_PRE_ORDER="C_PRE_ORDER",e.D_COMING_SOON="D_COMING_SOON",e.E_AVAILABLE="E_AVAILABLE",e.F_BACKORDER_FOR_DATE="F_BACKORDER_FOR_DATE",e.G_BACKORDER="G_BACKORDER",e.H_OUT_OF_STOCK="H_OUT_OF_STOCK",e.K_SOLD_OUT="K_SOLD_OUT",e.L_READ_ONLY="L_READ_ONLY",e.P_FREE_ITEM="P_FREE_ITEM",e.Q_OUT_STOCK_FREE_ITEM="Q_OUT_STOCK_FREE_ITEM",e.R_RETIRED="R_RETIRED"}(pa||(pa={})),function(e){e.LARGE="LARGE",e.MEDIUM="MEDIUM",e.SMALL="SMALL"}(ga||(ga={})),function(e){e.ACTIVE="ACTIVE",e.DISABLED="DISABLED",e.HIDDEN="HIDDEN"}(va||(va={})),function(e){e.BROKEN="Broken",e.MISSING="Missing"}(ha||(ha={})),function(e){e.AMEX="AMEX",e.APPLE_PAY="APPLE_PAY",e.DISCOVER="DISCOVER",e.GIFT_CARD="GIFT_CARD",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.UNIONPAY="UNIONPAY",e.VISA="VISA"}(ya||(ya={})),function(e){e.CONTACT="CONTACT",e.DELIVERY="DELIVERY",e.PAYMENT="PAYMENT"}(fa||(fa={})),function(e){e.GIFTLINEITEM="GiftLineItem",e.STANDARD="Standard"}(ka||(ka={})),function(e){e.BAM="bam",e.BAP="bap",e.MFF="mff",e.PAB="pab",e.STANDARD="standard"}(ba||(ba={})),function(e){e.FRIDAY="Friday",e.MONDAY="Monday",e.SATURDAY="Saturday",e.SUNDAY="Sunday",e.THURSDAY="Thursday",e.TUESDAY="Tuesday",e.WEDNESDAY="Wednesday"}(xa||(xa={})),function(e){e.CENTER="Center",e.LEFT="Left",e.RIGHT="Right"}(wa||(wa={})),function(e){e.SHORT="Short",e.STANDARD="Standard",e.TALL="Tall",e.XL="XL"}(_a||(_a={})),function(e){e.CENTER="Center",e.LEFT="Left",e.RIGHT="Right"}(Na||(Na={})),function(e){e.MEDIUM="Medium",e.NARROW="Narrow",e.STANDARD="Standard"}(Sa||(Sa={})),function(e){e.BOTTOM="Bottom",e.MIDDLE="Middle",e.TOP="Top"}(Pa||(Pa={})),function(e){e.DARK="Dark",e.LIGHT="Light"}(ja||(ja={})),function(e){e.LEFT="LEFT",e.RIGHT="RIGHT"}(Ca||(Ca={})),function(e){e.INFO="INFO",e.WARNING="WARNING"}(Ia||(Ia={})),function(e){e.EMERGE="emerge",e.NONE="none",e.WIGGLE="wiggle"}(Ta||(Ta={})),function(e){e.RATING="RATING",e.TEXT="TEXT"}(Oa||(Oa={})),function(e){e.AGE="age",e.AVAILABILITY="availability",e.CATEGORY="category",e.FLAGS="flags",e.PIECECOUNT="piececount",e.PRICE="price"}(Ea||(Ea={})),function(e){e.AVAILABLE="available",e.BACKORDER="backorder",e.COMINGSOON="comingsoon",e.OUTOFSTOCK="outofstock",e.PREORDER="preorder",e.RETIRED="retired"}(Ra||(Ra={})),function(e){e.NEGATIVE="NEGATIVE",e.POSITIVE="POSITIVE"}(Fa||(Fa={})),function(e){e.LEFT="Left",e.MIDDLE="Middle",e.RIGHT="Right"}(Aa||(Aa={})),function(e){e.GIF="gif",e.JPEG="jpeg",e.JPG="jpg",e.PNG="png",e.WEBPLY="webply"}(Da||(Da={})),function(e){e.FULL_SCREEN="FULL_SCREEN",e.HIRES="HIRES",e.THUMBNAIL="THUMBNAIL"}(Za||(Za={})),function(e){e.LEFT="Left",e.RIGHT="Right"}(Va||(Va={})),function(e){e.LEFT="left",e.RIGHT="right"}(za||(za={})),function(e){e.BOTTOM="Bottom",e.TOP="Top"}(La||(La={})),function(e){e.ACC="ACC",e.HEAD="HEAD",e.HEADWEAR="HEADWEAR",e.LEG="LEG",e.TORSO="TORSO"}(Ma||(Ma={})),function(e){e.COLOR="color",e.LANGUAGE="language",e.SIZE="size"}(Ga||(Ga={})),function(e){e.DEFAULT="default",e.VIPLANGUAGES="vipLanguages"}(Ba||(Ba={})),function(e){e.DIGITAL_GIFTING="DIGITAL_GIFTING",e.PARTS_ORDER_BAM="PARTS_ORDER_BAM",e.PARTS_ORDER_BESTSELLER="PARTS_ORDER_BESTSELLER",e.PARTS_ORDER_STANDARD="PARTS_ORDER_STANDARD",e.STANDARD="STANDARD"}($a||($a={})),function(e){e.CANCELLED="CANCELLED",e.CONFIRMED="CONFIRMED",e.NONE="NONE",e.OPEN="OPEN"}(Ua||(Ua={})),function(e){e.AMEX="AMEX",e.APPLE_PAY="APPLE_PAY",e.APPLE_PAY_EXPRESS="APPLE_PAY_EXPRESS",e.CREDIT_CARD="CREDIT_CARD",e.DIRECT_DEBIT="DIRECT_DEBIT",e.DISCOVER="DISCOVER",e.ELV="ELV",e.GIFT_CARD="GIFT_CARD",e.IDEAL="IDEAL",e.INIPAY="INIPAY",e.INVOICE="INVOICE",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.PAYPAL="PAYPAL",e.PAYPAL_EXPRESS="PAYPAL_EXPRESS",e.POS="POS",e.TELEPHONE="TELEPHONE",e.UNIONPAY="UNIONPAY",e.UNKNOWN="UNKNOWN",e.VISA="VISA"}(Wa||(Wa={})),function(e){e.AMEX="AMEX",e.APPLE_PAY="APPLE_PAY",e.APPLE_PAY_EXPRESS="APPLE_PAY_EXPRESS",e.CREDIT_CARD="CREDIT_CARD",e.DIRECT_DEBIT="DIRECT_DEBIT",e.DISCOVER="DISCOVER",e.ELV="ELV",e.GIFT_CARD="GIFT_CARD",e.IDEAL="IDEAL",e.INIPAY="INIPAY",e.INVOICE="INVOICE",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.PAYPAL="PAYPAL",e.PAYPAL_EXPRESS="PAYPAL_EXPRESS",e.POS="POS",e.UNIONPAY="UNIONPAY",e.UNKNOWN="UNKNOWN",e.VISA="VISA"}(Ha||(Ha={})),function(e){e.ASC="ASC",e.DESC="DESC"}(qa||(qa={})),function(e){e.CREATED_AT="CREATED_AT",e.SCORE="SCORE"}(Ya||(Ya={})),function(e){e.APPLE_PAY="APPLE_PAY",e.CREDIT_CARD="CREDIT_CARD",e.DIRECT_DEBIT="DIRECT_DEBIT",e.IDEAL="IDEAL",e.INIPAY="INIPAY",e.INVOICE="INVOICE",e.PAYPAL="PAYPAL",e.POS="POS"}(Qa||(Qa={})),function(e){e.DATE_NEWEST_FIRST="DATE_NEWEST_FIRST",e.DATE_OLDEST_FIRST="DATE_OLDEST_FIRST",e.HELPFULNESS_HIGH_TO_LOW="HELPFULNESS_HIGH_TO_LOW",e.MOST_RELEVANT="MOST_RELEVANT",e.PHOTO_REVIEWS_FIRST="PHOTO_REVIEWS_FIRST",e.RATING_HIGH_TO_LOW="RATING_HIGH_TO_LOW",e.RATING_LOW_TO_HIGH="RATING_LOW_TO_HIGH",e.VIDEO_REVIEWS_FIRST="VIDEO_REVIEWS_FIRST"}(Ka||(Ka={})),function(e){e.COMING_SOON="COMING_SOON",e.MULTI_VARIANT_AVAILABLE="MULTI_VARIANT_AVAILABLE",e.MULTI_VARIANT_NOT_AVAILABLE="MULTI_VARIANT_NOT_AVAILABLE",e.OUT_OF_STOCK="OUT_OF_STOCK",e.OVERRIDE_URL="OVERRIDE_URL",e.READ_ONLY="READ_ONLY",e.RETIRED="RETIRED",e.STANDARD="STANDARD"}(Xa||(Xa={})),function(e){e.EARLY_ACCESS="EARLY_ACCESS",e.GWP="GWP",e.LOYALTY_POINTS="LOYALTY_POINTS"}(Ja||(Ja={})),function(e){e.BLUE="blue",e.GREEN="green",e.PINK="pink",e.PURPLE="purple",e.RED="red",e.YELLOW="yellow"}(er||(er={})),function(e){e.ADD_TO_BAG="ADD_TO_BAG",e.HOMEPAGE="HOMEPAGE",e.INTEREST="INTEREST",e.ORDER_DETAIL="ORDER_DETAIL",e.PRODUCT_DETAIL_PAGE="PRODUCT_DETAIL_PAGE",e.PRODUCT_LISTING_PAGE="PRODUCT_LISTING_PAGE",e.SEARCH_RESULTS="SEARCH_RESULTS",e.SHOPPING_CART="SHOPPING_CART",e.WISHLIST="WISHLIST"}(ir||(ir={})),function(e){e.ERROR="ERROR",e.WARNING="WARNING"}(tr||(tr={})),function(e){e.AVAILABLE="AVAILABLE",e.ERROR="ERROR",e.INITIATED="INITIATED",e.PENDING="PENDING"}(nr||(nr={})),function(e){e.BATTERY="BATTERY",e.DUPLO_BATTERY="DUPLO_BATTERY",e.EPILEPSY="EPILEPSY",e.EPILEPSY_BATTERY="EPILEPSY_BATTERY",e.SMALL_BALL="SMALL_BALL",e.SMALL_PARTS="SMALL_PARTS",e.SMALL_PARTS_BALL="SMALL_PARTS_BALL",e.SMALL_PARTS_BALL_BATTERY="SMALL_PARTS_BALL_BATTERY",e.SMALL_PARTS_BALL_EPILEPSY="SMALL_PARTS_BALL_EPILEPSY",e.SMALL_PARTS_BATTERY="SMALL_PARTS_BATTERY",e.SMALL_PARTS_EPILEPSY="SMALL_PARTS_EPILEPSY"}(ar||(ar={})),function(e){e.GIFT_CARD="GIFT_CARD",e.VIP="VIP"}(rr||(rr={})),function(e){e.CT="CT"}(or||(or={})),function(e){e.ELEMENT_GROUP="ELEMENT_GROUP",e.SET="SET"}(sr||(sr={})),function(e){e.ASC="ASC",e.DESC="DESC"}(lr||(lr={})),function(e){e.ASC="asc",e.DESC="desc"}(dr||(dr={})),function(e){e.AVAILABILITY_DATE="AVAILABILITY_DATE",e.CREATED_AT="CREATED_AT",e.FEATURED="FEATURED",e.NAME="NAME",e.PIECE_COUNT="PIECE_COUNT",e.PRICE="PRICE",e.RATING="RATING",e.RELEVANCE="RELEVANCE"}(cr||(cr={})),function(e){e.AVAILABILITYDATE="availabilitydate",e.FEATURED="featured",e.NAME="name",e.PIECECOUNT="piececount",e.PRICE="price",e.RATING="rating"}(mr||(mr={})),function(e){e.PRODUCTION="production",e.STAGING="staging"}(ur||(ur={})),function(e){e.CENTER="center",e.CENTERBOTTOM="centerBottom",e.CENTERTOP="centerTop",e.LEFT="left",e.RIGHT="right"}(pr||(pr={})),function(e){e.SHORT="short",e.STANDARD="standard",e.TALL="tall",e.XL="xl"}(gr||(gr={})),function(e){e.FAMILY="family",e.MARKETING="marketing"}(vr||(vr={})),function(e){e.DUPLO="DUPLO",e.LEGO="LEGO",e.TECHNIC="TECHNIC"}(hr||(hr={})),function(e){e.FAILURE="failure",e.PENDING="pending",e.SUCCESS="success"}(yr||(yr={})),function(e){e.CENTER="CENTER",e.LEFT="LEFT",e.RIGHT="RIGHT"}(fr||(fr={})),function(e){e.AVAILABLE_FOR_PICKUP="AVAILABLE_FOR_PICKUP",e.DELIVERED="DELIVERED",e.EXCEPTION="EXCEPTION",e.EXPIRED="EXPIRED",e.FAILED_ATTEMPT="FAILED_ATTEMPT",e.INFO_RECEIVED="INFO_RECEIVED",e.IN_TRANSIT="IN_TRANSIT",e.OUT_FOR_DELIVERY="OUT_FOR_DELIVERY",e.PENDING="PENDING"}(kr||(kr={})),function(e){e.CATEGORY="Category",e.STREAM="Stream"}(br||(br={})),function(e){e.LOGGEDIN="LoggedIn",e.NONVIP="NonVIP",e.NOTLOGGEDIN="NotLoggedIn",e.VIP="VIP"}(xr||(xr={})),function(e){e.ABOVECONTENT="AboveContent",e.BOTTOMCENTER="BottomCenter",e.BOTTOMLEFT="BottomLeft",e.BOTTOMRIGHT="BottomRight",e.LEFT="Left",e.RIGHT="Right"}(wr||(wr={})),function(e){e.BOTTOM="bottom",e.TOP="top"}(_r||(_r={})),function(e){e.EMAIL="EMAIL",e.ENCRYPTED_ID="ENCRYPTED_ID",e.LEGOID_PUID="LEGOID_PUID",e.VIP_NUMBER="VIP_NUMBER"}(Nr||(Nr={})),function(e){e.LINK_EXPIRED="LINK_EXPIRED",e.NOT_FOUND="NOT_FOUND",e.NOT_VERIFIED="NOT_VERIFIED",e.SUCCESS="SUCCESS"}(Sr||(Sr={})),function(e){e.AS="AS",e.EU="EU",e.ME="ME",e.NA="NA",e.SA="SA"}(Pr||(Pr={})),function(e){e.AFTER_LINKS="AFTER_LINKS",e.BEFORE_LINKS="BEFORE_LINKS"}(jr||(jr={}));var Cr=t(9112),Ir=t(92385),Tr=t(96841);const Or={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PdpPromotionResult"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"promoType"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"promotions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"promoType"},value:{kind:"Variable",name:{kind:"Name",value:"promoType"}}},{kind:"Argument",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"qualifyingText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageSrc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"membersOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"designToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contrastingTextColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promoTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDetailsUrl"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:394,source:{body:"\n  query PdpPromotionResult($promoType: [String!], $productCode: String) {\n    promotions(promoType: $promoType, productCode: $productCode) {\n      qualifyingText\n      imageSrc\n      promoType\n      endDate\n      logo {\n        logoName\n      }\n      membersOnly\n      backgroundColor {\n        designToken\n        contrastingTextColor\n      }\n      promoTitle\n      promoDetailsUrl\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Er=t(22966),Rr=t.n(Er);function Fr(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Ar(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Fr(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fr(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var Dr=({productCode:e})=>{var i,t,a,r;const{data:o}=(0,b.aM)(Or,{variables:{promoType:["GWP"],productCode:e},errorPolicy:"all",fetchPolicy:"cache-first"}),{triggerEvent:s}=(0,R.FG)(),{0:l,1:d}=(0,n.useState)(true),c=(0,I.T)();if(void 0===(null===o||void 0===o?void 0:o.promotions)||(null===o||void 0===o?void 0:o.promotions.length)<=0)return null;const{promotions:m}=o,u=null!==(i=m[0])&&void 0!==i&&i.backgroundColor?null===(t=m[0])||void 0===t?void 0:t.backgroundColor.designToken:"color-core-blue-1300",g=null!==(a=m[0])&&void 0!==a&&a.backgroundColor?null===(r=m[0])||void 0===r?void 0:r.backgroundColor.contrastingTextColor:"color-neutral-white";return(0,p.jsx)("div",{className:Rr().accordionBackground,style:{"--_background-color":`var(--${u})`},"data-test":"pdp-promo-accordion",children:(0,p.jsxs)(Cr.U,{iconName:"gift",title:`${c("promo.container.header")} (${m.length})`,appearance:"inverted",size:"medium",headingLevel:"h2",isExpandedByDefault:true,onClick:()=>{s({label:!l?"promoAccordionClickedOpen":"promoAccordionClickedClosed",eventType:[R.tw.CUSTOM]}),d((e=>!e))},children:[(0,p.jsx)(f.En,{labelText:`${c("promo.container.header")} (${m.length})`,children:m.map(((e,i)=>{var t;const n=1===m.length?void 0:i+1,a={promo_type:e.promoType,members_only:e.membersOnly,title:e.promoDetailsUrl,carousel_position:n};return(0,p.jsx)(f.Ix,{title:c("promo.gwp.header"),name:(null===e||void 0===e?void 0:e.promoTitle)||void 0,qualifyingText:(null===e||void 0===e?void 0:e.qualifyingText)||void 0,imageUrl:(null===e||void 0===e?void 0:e.imageSrc)||void 0,detailsUrl:e.promoDetailsUrl||void 0,logoName:(null===e||void 0===e||null===(t=e.logo)||void 0===t?void 0:t.logoName)||void 0,insiderQualifier:null!==e&&void 0!==e&&e.membersOnly?c("promo.card.membersOnly"):void 0,endDateQualifier:e.endDate?c("promo.card.endDate",{endDate:e.endDate}):"",textColor:g,onLoadCard:()=>s({label:"promoCardLoad",eventType:[R.tw.CUSTOM],data:a}),onClickCard:()=>s({label:"promoCardLinkClicked",eventType:[R.tw.CUSTOM],data:Ar(Ar({},a),{},{linkType:"compact-card-link",linkLabel:"compact-card-link"})})},i)}))}),(0,p.jsxs)("div",{className:Rr().accordionBottomSection,children:[(0,p.jsx)("div",{className:Rr().accordionLink,children:(0,p.jsx)(Ir.h,{text:c("product.review.terms"),variant:"neutral",size:"small",href:c("promo.url.termsconditions"),target:"_blank"})}),(0,p.jsx)(Tr.g,{linkWrapperVariant:"secondary",appearance:g,size:"medium",children:(0,p.jsx)("a",{href:c("promo.url.offerspromotions"),children:c("promo.offer.details")})})]})]})})};const Zr=({promotions:e,includeType:i,excludeType:t,isSinglePromotion:n=!1,productCode:a})=>{var r;if(i===Ja.GWP&&a)return(0,p.jsx)(Dr,{productCode:a});if(0===e.length)return null;const o=e.filter((e=>{var n,a;return!i&&!t||i&&(null===(n=e.section)||void 0===n?void 0:n.promotionType)===i||t&&(null===(a=e.section)||void 0===a?void 0:a.promotionType)!==t}));return 0===o.length?null:(0,p.jsx)("div",{"data-test":"pdp-targeted-promo",children:n?(0,p.jsx)(da,{promotion:o[0],dataTest:"pdp-single-promo-module"},null===(r=o[0].section)||void 0===r?void 0:r.text):o.map((e=>{var i;return(0,p.jsx)(da,{promotion:e,dataTest:"pdp-multiple-promo-module"},null===(i=e.section)||void 0===i?void 0:i.text)}))})};var Vr=t(79220),zr=t.n(Vr);var Lr=()=>(0,p.jsx)(tt,{children:(0,p.jsx)(_i.Z,{size:"sm1",children:(0,p.jsx)(it.Z,{id:"product.deliveryReturns.body",noNormalisedStyles:!0})})});const Mr=({price:e,availability:i,variant:t})=>{const a=(0,I.T)(),{triggerEvent:r}=(0,R.FG)(),{0:o,1:s}=(0,n.useState)(!1);if(!("E_AVAILABLE"===i||"A_PRE_ORDER_FOR_DATE"===i||"A_PRE_ORDER"===i||"C_PRE_ORDER"===i||"F_BACKORDER_FOR_DATE"===i||"G_BACKORDER"===i||"D_COMING_SOON"===i||"B_COMING_SOON_AT_DATE"===i))return null;const l=e>=50&&"Variant_C_20632"===t;return(0,p.jsxs)("div",{className:`${zr().deliveryMessageWrapper} ${zr().deliveryMessageContainer}`,"data-test":"pdp-delivery-message",children:[(0,p.jsx)(ce.J,{name:"truck",size:"large"}),(0,p.jsxs)("div",{className:zr().deliveryMessageTextWrapper,"data-test":"pdp-delivery-message-wrapper",children:[(0,p.jsxs)("div",{className:zr().deliveryMessageWrapper,children:[(0,p.jsx)(_i.Z,{size:"sm1",weight:"semiBold","data-test":"pdp-delivery-message-text",children:l?"FREE delivery with this product":"FREE delivery on orders above \xa350!*"}),l&&(0,p.jsx)(ce.J,{name:"check",size:"medium",color:"color-static-core-green-800",dataTest:"pdp-delivery-message-icon"})]}),(0,p.jsx)(Ir.h,{dataTest:"pdp-delivery-message-learn-more-link",onClick:()=>{s(!0),r({label:"pdpDeliveriesLearnMore",eventType:["custom"]})},className:"body-sm-medium",text:a("content.ctaText.learnMore")}),(0,p.jsx)(Ai.Z,{isOpen:o,label:a("product.deliveryReturns.title"),closeLabel:a("common.close"),onRequestClose:()=>{s(!1)},title:a("product.deliveryReturns.title"),width:35,"data-test":"pdp-delivery-message-drawer",children:(0,p.jsx)(Lr,{})})]})]})};var Gr=t(27189),Br=t(32679),$r=t(7985);const Ur=G.ZP.nav.withConfig({displayName:"ColorVariantProductsMenustyles__Container",componentId:"sc-1fdopn3-0"})(["margin:0 -",";"],(0,B.hO)(8)),Wr=G.ZP.ul.withConfig({displayName:"ColorVariantProductsMenustyles__List",componentId:"sc-1fdopn3-1"})(["display:flex;flex-wrap:wrap;"]),Hr=(0,G.ZP)(zi.Z).withConfig({displayName:"ColorVariantProductsMenustyles__Link",componentId:"sc-1fdopn3-2"})(["position:relative;display:inline-block;width:",";height:",";margin:0 ",";margin-bottom:",";"],(0,B.hO)(60),(0,B.hO)(60),(0,B.hO)(8),(e=>e.theme.sizing("4xs"))),qr=G.ZP.div.withConfig({displayName:"ColorVariantProductsMenustyles__Thumbnail",componentId:"sc-1fdopn3-3"})(["display:block;width:100%;height:100%;border-radius:",";overflow:hidden;",""],(0,B.hO)(30),(e=>e.selected?(0,G.iv)(["border:1px solid ",";"],e.theme.color("blue")):(0,G.iv)(["border:1px solid ",";"],e.theme.color("grey_light")))),Yr=(0,G.ZP)(mt.ZP).withConfig({displayName:"ColorVariantProductsMenustyles__Image",componentId:"sc-1fdopn3-4"})(["display:block;width:100%;height:100%;"]),Qr=G.ZP.div.withConfig({displayName:"ColorVariantProductsMenustyles__Badge",componentId:"sc-1fdopn3-5"})(["display:block;position:absolute;top:",";right:",";width:",";height:",";line-height:",";text-align:center;border-radius:",";background-color:",";color:",";"],(0,B.hO)(-2),(0,B.hO)(-2),(0,B.hO)(20),(0,B.hO)(20),(0,B.hO)(20),(0,B.hO)(10),(e=>e.theme.color("blue")),(e=>e.theme.color("white"))),Kr=(0,G.ZP)(Zi.Z).attrs({fill:"white",width:(0,B.hO)(10),height:(0,B.hO)(10)}).withConfig({displayName:"ColorVariantProductsMenustyles__Icon",componentId:"sc-1fdopn3-6"})([""]),Xr=e=>e.overrideUrl?e.overrideUrl:e.slug?(0,Br.gY)($r.y.PRODUCT,{slug:e.slug}):"";var Jr=e=>{const{productCode:i,products:t,className:n,"data-test":a}=e;return(0,p.jsx)(Ur,{className:n,"data-test":a,children:(0,p.jsx)(Wr,{children:t.map((e=>{const t=e.productCode===i;return(0,p.jsx)("li",{children:(0,p.jsxs)(Hr,{to:Xr(e),"aria-current":t?"page":void 0,children:[(0,p.jsx)(qr,{selected:t,children:(0,p.jsx)(Yr,{src:{url:e.primaryImage}})}),t&&(0,p.jsx)(Qr,{children:(0,p.jsx)(Kr,{type:"tick"})})]})},e.id)}))})})},eo=t(26169);const io=G.ZP.div.withConfig({displayName:"VariantSelectorstyles__Container",componentId:"sc-1qr5uve-0"})(["width:100%;"]),to=G.ZP.div.withConfig({displayName:"VariantSelectorstyles__SizeUtilsContainer",componentId:"sc-1qr5uve-1"})(["display:flex;justify-content:flex-end;"," font-weight:",";margin-bottom:",";"],(e=>e.theme.font("sm2")),(e=>e.theme.fontWeight("semiBold")),(e=>e.theme.sizing("3xs"))),no=(0,G.ZP)(_i.Z).withConfig({displayName:"VariantSelectorstyles__SelectText",componentId:"sc-1qr5uve-2"})(["font-size:inherit;line-height:inherit;white-space:nowrap;"," ",""],(e=>e.color&&(0,G.iv)(["color ",";"],e.theme.color(e.color))),(e=>!1===e.canAddToBag&&(0,G.iv)(["color ",";text-decoration:line-through;"],e.theme.color("grey")))),ao=G.ZP.div.withConfig({displayName:"VariantSelectorstyles__SelectHighlight",componentId:"sc-1qr5uve-3"})(["position:relative;z-index:1;margin-top:-2px;",""],(e=>e.color&&(0,G.iv)(["border-top:2px solid ",";"],e.theme.color(e.color)))),ro=(0,G.ZP)(_i.Z).withConfig({displayName:"VariantSelectorstyles__SelectInfoText",componentId:"sc-1qr5uve-4"})([""," font-weight:",";",""],(e=>e.theme.font("sm2")),(e=>e.theme.fontWeight("semiBold")),(e=>e.color&&(0,G.iv)(["color ",";"],e.theme.color(e.color)))),oo=e=>{if("MultiVariantProduct"===e.__typename){const i=e.multiVariantType,t={size:"pdp.variant.select.label.size",language:"pdp.variant.select.label.language",color:"pdp.variant.select.label.color"};if(i&&t.hasOwnProperty(i))return t[i]}return""};var so=e=>{const{product:i,isVipUser:t,value:n,onChange:a,promptSelection:r,className:o,"data-test":s,forceFocus:l}=e,d=(0,I.T)();if("MultiVariantProduct"!==i.__typename)return null;const c=oo(i),m=((e,i,t)=>{if("MultiVariantProduct"!==e.__typename)return[];const n=e.variants;return n?n.map((n=>{const{id:a,attributes:r={}}=n,{availabilityStatus:o,availabilityTextShort:s,availabilityTextColor:l,canAddToBag:d}=(0,P.UB)(n,i),{formattedAmount:c}=Sn(n),m=((e,i)=>{const t={E_AVAILABLE:"",P_FREE_ITEM:"",A_PRE_ORDER_FOR_DATE:"",C_PRE_ORDER:"",F_BACKORDER_FOR_DATE:"",G_BACKORDER:"",D_COMING_SOON:{size:"pdp.variant.select.info.sizeComingSoon",color:"pdp.variant.select.label.colorComingSoon",language:"pdp.variant.select.label.languageComingSoon"},B_COMING_SOON_AT_DATE:{size:"pdp.variant.select.info.sizeComingSoon",color:"pdp.variant.select.label.colorComingSoon",language:"pdp.variant.select.label.languageComingSoon"},K_SOLD_OUT:{size:"pdp.variant.select.info.sizeSoldOut",color:"pdp.variant.select.label.colorSoldOut",language:"pdp.variant.select.label.languageSoldOut"},H_OUT_OF_STOCK:{size:"pdp.variant.select.info.sizeOutOfStock",color:"pdp.variant.select.label.colorOutOfStock",language:"pdp.variant.select.label.languageOutOfStock"},Q_OUT_STOCK_FREE_ITEM:{size:"pdp.variant.select.info.sizeOutOfStock",color:"pdp.variant.select.label.colorOutOfStock",language:"pdp.variant.select.label.languageOutOfStock"},R_RETIRED:{size:"pdp.variant.select.info.sizeRetired",color:"pdp.variant.select.label.colorRetired",language:"pdp.variant.select.label.languageRetired"},Y_NOT_AVAILABLE:"",X_NOT_FOUND:"",Z_DO_NOT_SHOW:""};return e&&t.hasOwnProperty(e)&&i&&t[e].hasOwnProperty(i)?t[e][i]:""})(o,e.multiVariantType);return{value:a,valueText:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(no,{canAddToBag:d,children:`${r.skuSelectorValue||""} (${c})`}),(0,p.jsx)(no,{color:l,children:`&nbsp;${t(s)}`})]}),selectedText:(0,p.jsx)(no,{children:r.skuSelectorValue}),selectedExtraInfo:(0,p.jsx)(ao,{color:l,children:m&&(0,p.jsx)(ro,{color:l,children:(0,p.jsx)(wi.Z,{id:m})})})}})):[]})(i,t,d);return(0,p.jsxs)(io,{className:o,children:["size"===i.multiVariantType&&(0,p.jsx)(to,{children:(0,p.jsx)(zi.Z,{to:$r.y.SIZE_GUIDE,target:"_blank",rel:"noopener noreferrer",children:(0,p.jsx)(wi.Z,{id:"pdp.variant.link.sizeGuide"})})}),(0,p.jsx)(eo.Z,{id:"pdp-variant",label:c,value:n,options:m,onChange:a,active:r,"data-test":s,forceFocus:l})]})},lo=t(70862),co=t(89101);const mo=G.ZP.div.withConfig({displayName:"QuantitySelectorstyles__Container",componentId:"sc-1nfm8rg-0"})(["display:flex;align-items:center;flex-wrap:wrap;"]),uo=(0,G.ZP)(co.Z).withConfig({displayName:"QuantitySelectorstyles__Quantity",componentId:"sc-1nfm8rg-1"})(["flex:0 0 auto;min-width:",";margin-right:",";"],(0,B.hO)(160),(e=>e.theme.sizing("sm"))),po=G.ZP.div.withConfig({displayName:"QuantitySelectorstyles__MaxQuantityWrapper",componentId:"sc-1nfm8rg-2"})(["display:inline-flex;align-items:center;white-space:nowrap;margin-top:",";"],(e=>e.theme.sizing("4xs"))),go=(0,G.ZP)(Vi.Z).withConfig({displayName:"QuantitySelectorstyles__Tooltip",componentId:"sc-1nfm8rg-3"})(["margin-bottom:",";"],(0,B.hO)(3)),vo=G.ZP.div.withConfig({displayName:"QuantitySelectorstyles__TooltipBody",componentId:"sc-1nfm8rg-4"})(["width:",";white-space:normal;"],(e=>e.theme.sizing(4.5))),ho=G.ZP.span.withConfig({displayName:"QuantitySelectorstyles__InfoButtonWrapper",componentId:"sc-1nfm8rg-5"})(["",";line-height:",";margin-left:",";"],(e=>e.theme.font("sm2")),(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("4xs")));var yo=e=>{const{quantity:i,availableQuantity:t,maxQuantity:n,onQuantityChange:a,className:r}=e,o=(0,I.T)();return(0,p.jsxs)(mo,{className:r,children:[(0,p.jsx)(uo,{label:o("product.quantity"),value:i,maxValue:n?Math.min(n,t):t,minValue:1,onChange:a,"data-test":"product-overview-quantity"}),!!n&&(0,p.jsxs)(po,{children:[(0,p.jsx)(_i.Z,{tag:"span",color:"grey_dark",size:"sm1",children:(0,p.jsx)(wi.Z,{id:"product.limit",values:{maxQuantity:`${n}`}})}),(0,p.jsx)(go,{id:"max-quantity-info",title:o("limit.title"),renderTrigger:({open:e,ref:i,tooltipBodyId:t})=>(0,p.jsx)(ho,{children:(0,p.jsx)(lo.Z,{"aria-describedby":t,size:"sm",ref:i,onClick:e,label:o("more.info.about")})}),children:(0,p.jsx)(vo,{children:(0,p.jsx)(_i.Z,{tag:"p",colour:"black",children:(0,p.jsx)(wi.Z,{id:"limit.description"})})})})]})]})};const fo=G.ZP.div.withConfig({displayName:"ProductActionsstyles__ColorWrapper",componentId:"sc-18otgdy-0"})(["display:flex;margin:0;margin-bottom:",";"],(e=>e.theme.sizing("xxs"))),ko=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductActionsstyles__ColorValue",componentId:"sc-18otgdy-1"})(["margin-left:",";"],(e=>e.theme.sizing("4xs"))),bo=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductActionsstyles__ColorLabel",componentId:"sc-18otgdy-2"})(["color:",";"],(e=>e.theme.color("grey"))),xo=(0,G.ZP)(Jr).withConfig({displayName:"ProductActionsstyles__ColorVariantProductsMenu",componentId:"sc-18otgdy-3"})(["margin-bottom:",";"],(e=>e.theme.sizing("ms"))),wo=(0,G.ZP)(so).withConfig({displayName:"ProductActionsstyles__VariantSelector",componentId:"sc-18otgdy-4"})(["margin-bottom:",";",""],(e=>e.theme.sizing("lg")),(e=>e.theme.media.between("small","medium")((0,G.iv)(["width:50%;"])))),_o=(0,G.ZP)(yo).withConfig({displayName:"ProductActionsstyles__QuantitySelector",componentId:"sc-18otgdy-5"})(["margin-bottom:",";"],(e=>e.theme.sizing("ms"))),No=G.ZP.div.withConfig({displayName:"ProductActionsstyles__ButtonsWrapper",componentId:"sc-18otgdy-6"})(["display:flex;align-items:center;width:100%;margin-bottom:",";flex-direction:row;gap:var(--spacing-static-md);",";"],(({theme:e})=>e.sizing("ms")),(e=>e.theme.media.between("small","medium")((0,G.iv)(["width:50%;"])))),So=G.ZP.div.withConfig({displayName:"ProductActionsstyles__AddToBagButtonWrapper",componentId:"sc-18otgdy-7"})(["margin-right:",";};width:100%;flex-grow:",";"],(e=>e.$skrollButton?0:e=>e.theme.sizing("ms")),(e=>e.$skrollButton&&"2")),Po=(G.ZP.div.withConfig({displayName:"ProductActionsstyles__EmailNotificationButtonWrapper",componentId:"sc-18otgdy-8"})(["margin-top:",";display:none;",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.media.min("medium")((0,G.iv)(["margin-top:0;width:50%;"])))),G.ZP.div.withConfig({displayName:"ProductActionsstyles__StoreCheckAccordionWrapper",componentId:"sc-18otgdy-9"})(["width:100%;",""],(({theme:e})=>(0,G.iv)(["border-top:1px solid ",";max-width:",";"],e.color("grey_light"),e.contentMaxWidth()))),G.ZP.div.withConfig({displayName:"ProductActionsstyles__ProductAccessoryActionsContainer",componentId:"sc-18otgdy-10"})(["width:100%;"," ",";"],(({theme:e})=>(0,G.iv)(["max-width:",";"],e.contentMaxWidth())),(({theme:e})=>e.media.between("small","medium")((0,G.iv)(["display:grid;grid-template-columns:repeat(2,1fr);grid-column-gap:",";column-gap:",";max-height:",";"],e.sizing("md"),e.sizing("md"),(0,B.hO)(150)))))),jo=(G.ZP.div.withConfig({displayName:"ProductActionsstyles__StoreCheckTitle",componentId:"sc-18otgdy-11"})(["width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin:"," 0;",""],(e=>e.theme.sizing("ms")),(({theme:e})=>e.media.max("medium")((0,G.iv)(["margin:"," 0;"],e.sizing("xs"))))),(0,G.ZP)(_i.Z).withConfig({displayName:"ProductActionsstyles__StoreCheckTitleText",componentId:"sc-18otgdy-12"})(["",""],(({theme:e})=>(0,G.iv)(["margin:0;text-align:left;font-weight:",";",";"],e.fontWeight("semiBold"),e.font("s0")))),(0,G.ZP)(Gr.Z).withConfig({displayName:"ProductActionsstyles__StoreCheckExpandIcon",componentId:"sc-18otgdy-13"})(["",""],(e=>(0,G.iv)(["margin-right:",";",""],e.theme.sizing("3xs"),e.theme.media.min("medium")((0,G.iv)(["width:",";height:",";&:before,&:after{width:",";height:",";}"],e.theme.sizing("md"),e.theme.sizing("md"),(0,B.hO)(3),e.theme.sizing("sm")))))),G.ZP.div.withConfig({displayName:"ProductActionsstyles__StoreCheckWrapper",componentId:"sc-18otgdy-14"})(["padding-bottom:",";"],(e=>e.theme.sizing("ms"))),(0,G.ZP)(Oi).withConfig({displayName:"ProductActionsstyles__SafetyWarning",componentId:"sc-18otgdy-15"})(["margin-bottom:",";justify-content:left;",""],(e=>e.theme.sizing("ms")),(e=>e.theme.media.between("small","medium")((0,G.iv)(["margin-top:0;"]))))),Co=G.ZP.div.withConfig({displayName:"ProductActionsstyles__MessageWrapper",componentId:"sc-18otgdy-16"})(["display:flex;width:100%;flex-direction:column;",""],(e=>e.theme.media.between("small","medium")((0,G.iv)(["flex-direction:row;"])))),Io=G.ZP.div.withConfig({displayName:"ProductActionsstyles__GwpPdpSectionWrapper",componentId:"sc-18otgdy-17"})(["width:100%;margin-bottom:var(--spacing-static-6xl);"]);var To=t(46798),Oo=t(23744);var Eo={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PromotionResult"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"promoType"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"promotions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"promoType"},value:{kind:"Variable",name:{kind:"Name",value:"promoType"}}},{kind:"Argument",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"qualifyingText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"membersOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"designToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contrastingTextColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customCTAs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"link"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"logoName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"altText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:403,source:{body:"\n  query PromotionResult($promoType: [String!], $productCode: String) {\n    promotions(promoType: $promoType, productCode: $productCode) {\n      qualifyingText\n      membersOnly\n      endDate\n      backgroundColor {\n        designToken\n        contrastingTextColor\n      }\n      customCTAs {\n        text\n        link\n      }\n      logo {\n        logoName\n        altText\n      }\n      active\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ro=t(7864),Fo=t.n(Ro);const Ao="expanded-promo-card",Do={textColor:"color-neutral-white",accentColor:"color-core-azur-100",infoBgColor:"color-core-blue-1300"};var Zo=({gwpProduct:e,isUserLoggedIn:i,availabilityStatus:t})=>{var n,r;const{name:o,price:s,code:l}=e,{triggerEvent:d}=(0,R.FG)(),{data:c}=(0,b.aM)(Eo,{variables:{promoType:["GWP"],productCode:l},errorPolicy:"all",fetchPolicy:"cache-first"}),m=(0,I.T)(),{query:{locale:u},asPath:g}=(0,a.useRouter)();if(!c)return null;const v=null===c||void 0===c?void 0:c.promotions[0],h={active:(null===v||void 0===v?void 0:v.active)||!1,qualifyingText:null===v||void 0===v?void 0:v.qualifyingText,customCTAs:null===v||void 0===v?void 0:v.customCTAs,logo:null===v||void 0===v?void 0:v.logo,membersOnly:null===v||void 0===v?void 0:v.membersOnly,endDate:null===v||void 0===v?void 0:v.endDate,backgroundColor:(null===v||void 0===v||null===(n=v.backgroundColor)||void 0===n?void 0:n.designToken)||"color-core-blue-1300",textColor:(null===v||void 0===v||null===(r=v.backgroundColor)||void 0===r?void 0:r.contrastingTextColor)||"color-neutral-white"},y=Oo.Z.getInstance(),k=e=>{e.preventDefault(),y.login(u,g)},x=e=>{e.preventDefault(),y.register(u,g)},{active:w,qualifyingText:_,customCTAs:N,logo:S,membersOnly:P,endDate:j,backgroundColor:C,textColor:T}=h,O="Q_OUT_STOCK_FREE_ITEM"===t,E="P_FREE_ITEM"===t,F=(null===c||void 0===c?void 0:c.promotions.length)>0,A=O||!w,Z=w&&E&&F,V=e=>{d({label:"gwpPdpLinkClicked",eventType:[R.tw.CUSTOM],data:{members_only:P,link_type:e,link_label:e}})},z=null!==N&&void 0!==N&&N.length?(0,p.jsx)("ul",{className:Fo()["extra-ctas"],children:N.map(((e,i)=>e.link&&e.text?(0,p.jsx)("li",{children:(0,p.jsx)(Tr.g,{appearance:"static-light",linkWrapperVariant:"secondary",size:"medium",children:(0,p.jsx)(f.rU,{href:e.link,dataTest:`${Ao}-cta-${i}`,onClick:()=>V(`extra-cta-${i+1}`),children:e.text})})},i):null))}):null,L=(0,p.jsxs)("ul",{className:Fo()["user-ctas"],children:[(0,p.jsx)("li",{className:Fo()["join-membership"],children:(0,p.jsx)(D.z,{appearance:"static-light",buttonVariant:"secondary",onClick:e=>{null===x||void 0===x||x(e),V("join-membership")},text:m("membership.cta.join"),ariaLabel:m("membership.cta.join"),iconName:"chevron-right",iconPosition:"icon-right",size:"medium",dataTest:`${Ao}-join-membership`})}),(0,p.jsx)("li",{className:Fo()["sign-in"],children:(0,p.jsx)(Tr.g,{linkWrapperVariant:"tertiary",iconName:"chevron-right",iconPosition:"icon-right",size:"medium",appearance:"static-light",children:(0,p.jsx)(Ir.h,{text:m("header.utilityBar.account"),href:"/insiders",dataTest:`${Ao}-join-membership`,onClick:e=>{null===k||void 0===k||k(e),V("sign-in")}})})})]}),M=(0,p.jsx)("ul",{className:Fo()["user-ctas"],children:(0,p.jsx)("li",{className:Fo()["join-membership"],children:(0,p.jsx)(Tr.g,{appearance:"static-light",iconName:"chevron-right",iconPosition:"icon-right",linkWrapperVariant:"secondary",size:"medium",children:(0,p.jsx)(f.rU,{href:m("promo.url.offerspromotions"),dataTest:`${Ao}-offers-sales`,className:Fo()["join-link"],onClick:()=>V("offers-link"),children:m("content.ctaText.offers")})})})});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("article",{className:Fo().card,style:{"--_text-color":`var(--${T})`,"--_accent-color":`var(--${Do.accentColor})`,"--_info-bg-color":`var(--${C})`},"data-test":Ao,children:[(0,p.jsxs)("div",{className:Fo().product,children:[(0,p.jsxs)("h3",{"data-test":`${Ao}-title`,className:Fo().title,children:[(0,p.jsx)(ce.J,{name:"gift",size:"x-large",color:Do.accentColor}),m("promo.gwp.header")]}),(0,p.jsxs)("div",{className:Fo()["title-section"],children:[(0,p.jsx)("p",{className:`${Fo()["product-title"]} heading-04-medium`,"data-test":`${Ao}-product-title`,"aria-hidden":"true",children:o}),null!==S&&void 0!==S&&S.logoName?(0,p.jsx)("div",{className:Fo().logo,"data-test":`${Ao}-product-logo`,children:(0,p.jsx)(To.T,{name:null===S||void 0===S?void 0:S.logoName,size:"small"})}):null]}),(0,p.jsx)("span",{className:`${Fo()["product-price"]} heading-04-medium`,"data-test":`${Ao}-product-price`,"aria-hidden":"true",children:s.formattedAmount})]}),Z?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:Fo()["info-and-conditions"],children:(0,p.jsxs)("div",{className:Fo().conditions,children:[(0,p.jsx)(f.Lu,{markup:_||"",as:"div",className:Fo()["qualifying-text"],dataTest:`${Ao}-qualifying-text`}),P?(0,p.jsx)("p",{className:Fo()["members-only"],"data-test":`${Ao}-members-only`,children:m("promo.card.membersOnly")}):null,(0,p.jsx)("p",{"data-test":`${Ao}-end-date`,children:m("promo.card.endDate",{endDate:j||""})}),P||z?(0,p.jsx)("div",{className:Fo()["cta-container"],"data-test":`${Ao}-cta-container`,children:!i&&P?L:z}):null]})}),(0,p.jsx)("div",{className:Fo()["terms-conditions"],children:(0,p.jsx)(Ir.h,{href:m("promo.url.termsConditions"),text:m("product.review.terms"),variant:"neutral",size:"small",onClick:()=>V("terms-and-conditions-link")})})]}):(0,p.jsx)("div",{children:(0,p.jsx)("div",{className:Fo()["info-and-conditions"],children:(0,p.jsx)("div",{className:Fo()["cta-container"],"data-test":`${Ao}-offers-sales-container`,children:M})})})]}),A&&(0,p.jsx)("span",{className:Fo()["not-available"],children:m("promo.notAvailable")})]})};const Vo="bisemail";var zo=e=>{const i=(0,I.T)(),{query:{locale:t}}=(0,a.useRouter)(),{query:r}=(0,s.k)(),{country:o}=(0,Ei.b)(),l=(0,R.aq)("e2e_mandd_engb_free_delivery_20632"),d=l&&"Variant_A_20632"!==l,{actionRef:c,product:m,sku:u,isOver18yo:g,isVipUser:v,canAddToBag:h,canAddToWishlist:y,canShowStoreInventory:f,variantIndex:k,onVariantSelect:b,bisNotificationState:x,promotions:w,safetyWarningKey:_,safetyWarningLabel:N,showSafetyImage:S,imageKey:j,isGwpProduct:T}=e,F=(0,O.v)(),{lists:A}=(0,Ri.v)(),{triggerEvent:Z}=(0,R.FG)(),{0:V,1:z}=(0,n.useState)(1),{0:L,1:M}=(0,n.useState)(!1),{0:G,1:B}=(0,n.useState)(null),{0:$,1:U}=(0,n.useState)(!1),{0:W,1:H}=(0,n.useState)(""),{0:q,1:Y}=(0,n.useState)(!1),{0:Q,1:K}=(0,n.useState)(!1),{productCode:X,name:J,color:ee,colorVariantProducts:ie}=m,te="MultiVariantProduct"===m.__typename,ne=Yn(m,k),ae="ReadOnlyProduct"===m.__typename,re=Kn(ne,"isNew")||!1,oe=Kn(ne,"onSale")||!1,se=Kn(ne,"rating")||0,le=((e,i,t)=>"ProductVariant"===(null===e||void 0===e?void 0:e.__typename)?(Xn(e)||99)-((e,i)=>{var t;return(("LegoUser"===e.__typename&&(null===e||void 0===e||null===(t=e.cart)||void 0===t?void 0:t.lineItems)||[]).find((e=>e.product.productCode===i))||{}).quantity||0})(i,t):0)(ne,F,X),de=le>0,ce=Xn(ne),{availabilityStatus:me}=(0,P.UB)(ne,v),ue=m.productCategories&&m.productCategories.some((e=>"SETS"===e.key)),pe=Kn(ne,"featuredFlags")||null,ge=!(null===pe||void 0===pe||!pe.find((({key:e})=>"retiringSoon"===e))),ve=u&&"HIDDEN"!==x&&ue&&!oe&&!ge,he="DISABLED"===x,ye=h&&g,fe=(0,P.pb)(me,C.Z),ke=Kn(ne,"hideBuildingInstructions")||!1,be=()=>{const e=document.getElementById("sku-error");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},xe=()=>{M(!0),be(),K(!0)},we=e=>{const i=document.getElementById("sku-error");e.target.contains(i)||K(!1)};(0,E.F)((()=>{document.addEventListener("click",we,!1)})),(0,n.useEffect)((()=>{L&&be()}),[L]);const _e=e=>{e.currentTarget;const i=m.baseImgUrl||"";if(e.currentTarget.id){const t=e.currentTarget.id,n=_n[t].title,a=_n[t].component({sku:u,productCode:X,availabilityStatus:me,productName:J,baseImgUrl:i});H(n),B(a),U(!0)}},Ne=e=>{he?Z({label:"notify-me-disabled-tooltip",eventType:["custom"]}):(_e(e),Z({label:"pdpNotifyMe",eventType:["custom"]}))},Se=i("product.features.buildingInstructionsUrl",{locale:t,productCode:X}),Pe={title:i("notification.form.title"),label:i("notification.form.title"),body:i("notification.disabled.message",{productName:J||""})},je={showBisEmailButton:ve,bisTooltip:Pe,disableBackInStockFeature:he,handleBisNotificationClick:Ne},Ce={canShowStoreInventory:f,handleProductCardLinkClick:_e},{formattedValue:Ie}=Sn(ne);return(0,E.F)((()=>{const{channel:e}=r;"H_OUT_OF_STOCK"===me&&e&&e===Vo&&Y(!0)})),(0,p.jsxs)(p.Fragment,{children:[(()=>{const{baseImageUrl:e,url:i}=m,t=Sn(ne);if(T)return(0,p.jsx)(Io,{"data-test":"pdp-gwp-section",children:(0,p.jsx)(Zo,{gwpProduct:{code:X,name:J,price:t,baseImageUrl:e,url:i,availabilityStatus:me},isUserLoggedIn:F.isLid,availabilityStatus:me})})})(),d&&(0,p.jsx)("div",{"data-test":"pdp-delivery-message",children:(0,p.jsx)(Mr,{price:Ie,availability:me,variant:l})}),ee&&ie&&(0,p.jsxs)(p.Fragment,{children:[ee&&(0,p.jsxs)(fo,{children:[(0,p.jsx)(bo,{size:"sm1",children:(0,p.jsx)(wi.Z,{id:"product.label.color"})}),(0,p.jsx)(ko,{tag:"span",size:"sm1",children:ee})]}),ie&&(0,p.jsx)(xo,{productCode:X,products:ie})]}),L&&(0,p.jsx)("div",{id:"sku-error","data-test":"pdp-sku-error-message","aria-invalid":"true","aria-errormessage":i(oo(m)),"aria-live":"assertive",children:(0,p.jsx)(Fi.p,{text:i(oo(m)),variant:"error"})}),te&&(0,p.jsx)(wo,{value:u,product:m,isVipUser:v,onChange:e=>{M(!1),b(e)},promptSelection:L,"data-test":"pdp-variant-select","aria-required":"true",forceFocus:Q}),!T&&F.fetched&&w&&(0,p.jsx)(Co,{"data-test":"pdp-gwp-accordion",children:(0,p.jsx)(Zr,{promotions:w,includeType:Ja.GWP,productCode:X})}),de&&ye&&(0,p.jsx)(_o,{quantity:V,availableQuantity:le,maxQuantity:ce,onQuantityChange:e=>{if(!u)return M(!0);z(e)}}),ne&&(ye||y||ve)&&(0,p.jsxs)(No,{children:[ye&&(0,p.jsx)(So,{ref:c,$skrollButton:!0,children:(()=>{if(!u)return(0,p.jsx)(D.z,{fullWidth:!0,"data-test":"add-to-bag-no-sku",onClick:xe,text:i("product.addToBag"),appearance:"emphasis",iconName:"shopping-bag-o",iconPosition:"icon-left",iconA11yLabel:"shopping bag","aria-invalid":L});const{formattedValue:e,currencyCode:t,formattedAmount:n}=Sn(ne),{formattedAmount:a}=Pn(ne);if(!X||!e)return null;const r={name:J||"",productCode:X,sku:u,price:e,formattedPrice:n,formattedListPrice:a,currencyCode:t,quantity:V,isNew:re,onSale:oe,rating:se,baseImageUrl:m.baseImgUrl||""};return(0,p.jsx)(Vn,{label:fe,data:r,analyticsEvents:()=>{Z([{label:"addToBag",eventType:["custom"],data:{addedItem:{id:X,price:e,quantity:1},country:o}}])},isProductAvailable:de,safetyWarning:{safetyWarningKey:_,safetyWarningLabel:N,showSafetyImage:S,imageKey:j},useSkrollButton:!0},"AddToBagContainer-"+u)})()}),y&&(0,p.jsx)("div",{children:(()=>{if(!u){const e=!(null===A||void 0===A||!A.results.some((e=>e.lineItems.some((e=>!!e.product&&e.product.productCode===X)))));return(0,p.jsx)(Di.Z,{hideText:"always",isInWishlist:e,onClick:xe,useSkrollButton:!0,useLarge:!0,"aria-invalid":L})}const{formattedValue:e,currencyCode:i="NA"}=Sn(ne);return X&&e?(0,p.jsx)(zn.h,{productCode:X,sku:u,price:e,currencyCode:i,availability:me,rating:se,isNew:re,onSale:oe,useSkrollButton:!0,useLarge:!0}):null})()})]}),(0,p.jsxs)(Co,{children:[F.fetched&&!T&&w&&(0,p.jsx)("div",{"data-test":"pdp-promo-section",children:(0,p.jsx)(Zr,{promotions:w,excludeType:Ja.GWP,isSinglePromotion:!0})}),_&&N&&(0,p.jsx)(jo,{type:_,label:N,showSafetyImage:S,imageKey:j})]}),ae?(0,p.jsx)(Po,{children:ue&&!ke&&(0,p.jsx)(et,{title:"product.features.buildingInstructionsLabel",iconType:"buildingInstructions",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-building-instructions",url:Se,openInNewPage:!0,onClick:()=>{Z({label:"pdpBuildingInstructions",eventType:["custom"]})}})}):(0,p.jsxs)(Po,{children:[ve&&(0,p.jsx)(et,{title:"notification.form.title",iconType:"email",id:"product-card-link-notify-stock","data-test":"product-overview-bis-email-button",tooltip:Pe,disabled:he,onClick:Ne}),f&&(0,p.jsx)(et,{title:"check.store.stock",iconType:"pinpoint",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-availability","data-test":"product-overview-check-stock-button",onClick:e=>{_e(e),Z({label:"pdp_check_store_stock_tab",eventType:["custom"]})}}),(0,p.jsx)(et,{title:"product.deliveryReturns.title",iconType:"delivery",iconColor:"blue",id:"product-card-link-delivery","data-test":"product-overview-delivery-returns-button",onClick:e=>{_e(e),Z({label:"pdpDeliveriesAndReturns",eventType:["custom"]})}}),ue&&!ke&&(0,p.jsx)(et,{title:"product.features.buildingInstructionsLabel",iconType:"buildingInstructions",iconHeight:26,iconWidth:35,iconColor:"blue",id:"product-card-link-building-instructions",url:Se,openInNewPage:!0,onClick:()=>{Z({label:"pdpBuildingInstructions",eventType:["custom"]})}})]}),(0,p.jsx)(Ai.Z,{isOpen:$,label:W,closeLabel:i("common.close"),onRequestClose:()=>(U(!1),void B(null)),title:W,width:35,children:G}),q&&(0,p.jsx)(Wn,{data:{notifyAction:je,storeInventoryAction:Ce},channel:Vo,product:J})]})},Lo=t(18558),Mo=t(96710);const Go=G.ZP.span.withConfig({displayName:"Reviewsstyles__Microdata",componentId:"bzbdaf-0"})(["display:none;"]),Bo=G.ZP.div.withConfig({displayName:"Reviewsstyles__Container",componentId:"bzbdaf-1"})(["display:flex;align-items:baseline;flex-wrap:wrap;width:100%;height:100%;padding-bottom:",";"],(e=>e.theme.sizing("xxs"))),$o=(0,G.ZP)(Mo.Z).withConfig({displayName:"Reviewsstyles__StyledRatingBar",componentId:"bzbdaf-2"})(["",";margin:"," 0;"],(e=>e.theme.media.max("small")((0,G.iv)(["max-width:",";"],(0,B.hO)(96)))),(e=>e.theme.sizing("4xs"))),Uo=(0,G.ZP)(dt.ZP).withConfig({displayName:"Reviewsstyles__StyledButton",componentId:"bzbdaf-3"})(["padding:0;padding-top:",";",";margin-left:",";"],(0,B.hO)(3),(e=>e.theme.media.min("small")((0,G.iv)(["padding-top:",";"],e.theme.sizing("4xs")))),(e=>e.theme.sizing("3xs"))),Wo=G.ZP.span.withConfig({displayName:"Reviewsstyles__ReviewsText",componentId:"bzbdaf-4"})(["padding:0;margin-left:10px;margin-top:",";",""],(0,B.hO)(4),(({theme:e})=>(0,G.iv)([""," font-weight:",";"],e.font("sm1"),e.fontWeight("semiBold"))));var Ho=e=>{const{triggerEvent:i}=(0,R.FG)(),{productName:t,reviewsCount:n,reviewsRating:a,isOver16yo:r,onClickReviewsLink:o,className:s,showLabel:l=!1,showOnlyText:d,renderAggregateRatingsMicrodata:c=!1}=e;return n?(0,p.jsxs)(Bo,{className:s,children:[n&&c&&(0,p.jsxs)(Go,{itemType:"http://schema.org/AggregateRating",itemProp:"aggregateRating",itemScope:!0,"data-test":"aggregate-ratings-microdata",children:[(0,p.jsx)("span",{itemProp:"itemReviewed",children:t?(0,p.jsx)(Lo.Z,{markup:t}):null}),(0,p.jsx)("span",{itemProp:"ratingValue",children:a}),(0,p.jsx)("span",{itemProp:"bestRating",children:"5"}),(0,p.jsx)("span",{itemProp:"reviewCount",children:n}),"."]}),(0,p.jsx)($o,{type:"stars",size:"xs",mode:"display","data-test":"product-overview-rating",rating:a||0,hideOutput:!0}),null!==n&&(e=>{const t=0===e?"product.overview.noReviews":1===e?l?"product.overview.reviewCountSingular":"product.overview.reviewCount":l?"product.overview.reviewCountPlural":"product.overview.reviewCount";return r||0!==e?d?(0,p.jsx)(Wo,{"data-test":"accordion-reviews-label",children:(0,p.jsx)(wi.Z,{id:t,values:{reviewCount:e}})}):(0,p.jsx)(Uo,{type:"ghost","data-test":"product-overview-reviews",onClick:()=>{i({label:"pdpReviewsStarClick",eventType:["custom"]}),o&&o()},children:(0,p.jsx)(wi.Z,{id:t,values:{reviewCount:e}})}):(0,p.jsx)(Wo,{"data-test":"accordion-reviews-label",children:(0,p.jsx)(wi.Z,{id:t,values:{reviewCount:e}})})})(n)]}):null},qo=t(41971);const Yo=G.ZP.div.withConfig({displayName:"ProductOverviewstyles__ProductBadgesRow",componentId:"sc-1a1az6h-0"})(["width:100%;display:flex;justify-content:space-between;"]),Qo=G.ZP.div.withConfig({displayName:"ProductOverviewstyles__ProductOverviewContainer",componentId:"sc-1a1az6h-1"})(["width:100%;"]),Ko=G.ZP.div.withConfig({displayName:"ProductOverviewstyles__ProductOverviewRow",componentId:"sc-1a1az6h-2"})(["width:100%;display:flex;justify-content:space-between;margin-bottom:",";"],(({theme:e})=>e.sizing("ms"))),Xo=G.ZP.div.withConfig({displayName:"ProductOverviewstyles__Container",componentId:"sc-1a1az6h-3"})(["display:flex;align-items:flex-start;justify-content:flex-start;flex-direction:column;background:",";padding:0 ",";min-width:0;",";& > *:last-child{margin-bottom:0;}"],(e=>e.theme.color("white")),(e=>e.theme.sizing("ms")),(e=>e.theme.media.min("medium")((0,G.iv)(["flex:0 0 30%;padding:"," 0 0 ",";"],e.theme.sizing("ms"),e.theme.sizing("ms"))))),Jo=G.ZP.span.withConfig({displayName:"ProductOverviewstyles__Microdata",componentId:"sc-1a1az6h-4"})(["display:none;"]),es=(0,G.ZP)(xi.Z).withConfig({displayName:"ProductOverviewstyles__StyledProductBadges",componentId:"sc-1a1az6h-5"})(["font-size:",";"],(e=>e.theme.fontSize("sm1"))),is=G.ZP.div.withConfig({displayName:"ProductOverviewstyles__Badges",componentId:"sc-1a1az6h-6"})(["display:flex;flex-wrap:wrap;align-items:flex-start;width:50%;",""],(({theme:e})=>e.media.between("medium","large")((0,G.iv)(["flex-direction:column;"])))),ts=(0,G.ZP)(zi.Z).withConfig({displayName:"ProductOverviewstyles__BrandLink",componentId:"sc-1a1az6h-7"})(["display:block;margin-top:",";margin-bottom:",";& img{max-height:",";max-width:",";}"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("xxl")),(0,B.hO)(115)),ns=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductOverviewstyles__NameText",componentId:"sc-1a1az6h-8"})(["margin:0;margin-top:",";",""],(e=>e.theme.sizing("xs")),(({theme:e})=>(0,G.iv)(["font-weight:",";margin-right:",";"],e.fontWeight("semiBold"),(0,B.hO)(50)))),as=(0,G.ZP)(Ho).withConfig({displayName:"ProductOverviewstyles__Reviews",componentId:"sc-1a1az6h-9"})(["justify-content:flex-end;"]),rs=(0,G.ZP)(Cn.Z).withConfig({displayName:"ProductOverviewstyles__StyledProductPrice",componentId:"sc-1a1az6h-10"})(["",""],(({onSale:e})=>e&&(0,G.iv)(["display:flex;flex-direction:row;align-items:baseline;& span:nth-of-type(1){font-size:",";margin-right:",";}"],(e=>e.theme.fontSize("s1")),(e=>e.theme.sizing("ms"))))),os=G.ZP.div.withConfig({displayName:"ProductOverviewstyles__PriceAvailabilityWrapper",componentId:"sc-1a1az6h-11"})(["margin-bottom:",";"],(e=>e.theme.sizing("ms"))),ss=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductOverviewstyles__AvailabilityStatus",componentId:"sc-1a1az6h-12"})(["max-width:100%;margin:0;"]),ls=(0,G.ZP)(qo.Z).withConfig({displayName:"ProductOverviewstyles__ThirdPartyRetailers",componentId:"sc-1a1az6h-13"})(["",""],(({theme:e})=>(0,G.iv)(["width:100%;margin-top:",";margin-bottom:",";"],e.sizing("ms"),e.sizing("ms")))),ds=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductOverviewstyles__NextStockDropStatus",componentId:"sc-1a1az6h-14"})(["padding:3px 0;max-width:100%;margin:0;"]);var cs=t(67066);const ms={kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"TargetedPromotionSection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PromotionTargeter"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"section"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countdownDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callToActionText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"callToActionLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tooltipText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageSrc"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ImageAsset"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promotionType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fetchOnClient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"testId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variantId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inExperimentAudience"},arguments:[],directives:[]}]}}].concat(cs.S.definitions)),loc:{start:0,end:318,source:{body:"\n  fragment TargetedPromotionSection on PromotionTargeter {\n    section {\n      text\n      countdownDate\n      callToActionText\n      callToActionLink\n      tooltipText\n      imageSrc {\n        ...ImageAsset\n      }\n      promotionType\n    }\n    fetchOnClient\n    testId\n    variantId\n    inExperimentAudience\n  }\n\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},us=e=>{const{reviewsCount:i,reviewsRating:t,product:a,variantIndex:r,isReadOnlyProduct:o,isOver18yo:s,isOver16yo:l,isVipUser:d,shouldShowReviews:c,partnerProductUrl:m,onVariantSelect:u,onClickReviewsLink:g}=e,v=(0,n.useRef)(null),{media:h}=(0,n.useContext)(G.Ni),y=(0,T.Z)(`screen and (min-width: ${h.breakpoints.large}px)`),{productCode:f}=a,k=Yn(a,r),{availabilityText:b,availabilityTextColor:x,availabilityStatus:w,availabilityMetaProperty:_,canAddToBag:N,bisNotificationState:S}=(0,P.UB)(k,d),j="P_FREE_ITEM"===w||"Q_OUT_STOCK_FREE_ITEM"===w;if(!k||!k.attributes)return null;const I=Qn(k,"id")||"",O=Kn(k,"onSale")||!1,E=Sn(k).formattedAmount.replace(/-/," - "),R=Pn(k).formattedAmount.replace(/-/," - "),F=Sn(k).currencyCode,A=Sn(k).formattedValue.toFixed(2),D=Kn(k,"featuredFlags")||[],Z=Qn(k,"salePercentage")||0,V=Qn(k,"promos")||[],z=Qn(k,"thirdPartyRetailers")||[],{key:L,label:M,showSafetyImage:B,imageKey:$}=Kn(k,"safetyWarning")||{},U=w===C.Z.retired,{url:W,name:H,logoUrl:q}=a.brandCategory||{},Y=!o&&!U,Q=b&&I,K=O&&Y,X=!o&&c,J=Kn(k,"showStoreInventory")||!1,ee=Kn(k,"canAddToWishlist")||!1,ie=W&&q&&H,te=((e,i)=>{const t=(null===e||void 0===e?void 0:e.nextStockDropDate)||"";return!("H_OUT_OF_STOCK"!==i||!t)&&` ${t}`})(a,w),ne=V.filter((e=>e.section));return(0,p.jsxs)(Xo,{children:[(0,p.jsx)(Jo,{itemProp:"manufacturer",children:"LEGO\xae"}),(0,p.jsx)(Jo,{itemProp:"sku",children:f}),(0,p.jsxs)(Jo,{itemProp:"offers",itemType:"http://schema.org/Offer",itemScope:!0,children:[(0,p.jsx)("meta",{itemProp:"priceCurrency",content:F}),(0,p.jsx)("meta",{itemProp:"price",content:A}),(0,p.jsx)("meta",{itemProp:"availability",content:_})]}),(0,p.jsxs)(Yo,{children:[(D.length||K)&&(0,p.jsxs)(is,{children:[D.length?(0,p.jsx)(es,{badges:D,showAll:!0}):null,K&&(0,p.jsx)(bi.Z,{percent:Z})]}),X&&(0,p.jsx)(as,{productName:a.name,reviewsCount:i,reviewsRating:t,isOver16yo:l,onClickReviewsLink:()=>{let e=0;y&&v.current&&(e=v.current.offsetHeight),g(e)},renderAggregateRatingsMicrodata:!0})]}),!j&&(0,p.jsxs)(Qo,{"data-test":"product-overview-container",children:[(0,p.jsxs)(Ko,{children:[a.name&&(0,p.jsx)(ns,{tag:"h1",size:"s3","data-test":"product-overview-name",itemProp:"name",children:a.name}),ie&&(0,p.jsxs)(ts,{to:W,children:[(0,p.jsx)(Jo,{itemProp:"brand",children:H}),(0,p.jsx)("img",{src:q,alt:H})]})]}),(Y||Q)&&(0,p.jsxs)(os,{children:[Y&&(0,p.jsx)(rs,{price:E,listPrice:R,onSale:O,size:"s3",align:"center"}),Q&&(0,p.jsx)(ss,{tag:"p",color:x,size:"sm1",weight:"semiBold","data-test":"product-overview-availability",children:b}),te&&(0,p.jsxs)(ds,{tag:"p",color:"black",size:"sm1",weight:"semiBold","data-test":"product-overview-stockdrop",children:[(0,p.jsx)(wi.Z,{id:"product.stockUpdateText"}),te]})]})]}),o&&(0,p.jsx)(ls,{data:z,partnerProductUrl:m}),(0,p.jsx)(zo,{actionRef:v,sku:I,product:a,isOver18yo:s,isVipUser:d,canAddToBag:N,canAddToWishlist:ee,canShowStoreInventory:J,variantIndex:r,onVariantSelect:u,bisNotificationState:S,promotions:ne,safetyWarningKey:L,safetyWarningLabel:M,showSafetyImage:B,imageKey:$,isGwpProduct:j})]})},ps={product:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductOverview_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCategories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"brandCategory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logoUrl"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadOnlyProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readOnlyVariant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sku"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_SafetyWarning"},directives:[]},{kind:"Field",name:{kind:"Name",value:"featuredFlags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"thirdPartyRetailers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductOverview_ThirdPartyRetailer"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductOverview"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"multiVariantType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"priceRange"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formattedPriceRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedListPriceRange"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductOverview"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Variant_ProductOverview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sku"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"centAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedAmount"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"listPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"centAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedValue"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"salePercentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipCanAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canAddToWishlist"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"onSale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxOrderQuantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"skuSelectorValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showStoreInventory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bisNotificationState"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_Flags"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_SafetyWarning"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TargetedPromotionSection"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TargetedPromotionSection"},directives:[]}]}}]}}].concat(ms.definitions,xi.Z.fragments.badges.definitions,ls.fragments.thirdPartyRetailers.definitions,Oi.fragments.safetyWarning.definitions)),loc:{start:0,end:1830,source:{body:"\n    fragment ProductOverview_Product on Product {\n      id\n      name\n      productCode\n      metaTitle\n      productCategories {\n        name\n        url\n        key\n      }\n      brandCategory {\n        url\n        name\n        logoUrl\n      }\n      ... on ReadOnlyProduct {\n        color\n        readOnlyVariant {\n          id\n          sku\n          attributes {\n            ...ProductAttributes_SafetyWarning\n            featuredFlags {\n              key\n              label\n            }\n          }\n\n          thirdPartyRetailers {\n            ...ProductOverview_ThirdPartyRetailer\n          }\n        }\n      }\n      ... on SingleVariantProduct {\n        color\n        variant {\n          ...Variant_ProductOverview\n        }\n      }\n      ... on MultiVariantProduct {\n        multiVariantType\n        color\n        priceRange {\n          formattedPriceRange\n          formattedListPriceRange\n        }\n        variants {\n          ...Variant_ProductOverview\n        }\n      }\n    }\n    fragment Variant_ProductOverview on ProductVariant {\n      id\n      sku\n      price {\n        centAmount\n        formattedAmount\n      }\n      listPrice {\n        centAmount\n        formattedAmount\n        formattedValue\n      }\n      salePercentage\n      attributes {\n        canAddToBag\n        vipCanAddToBag\n        canAddToWishlist\n        availabilityStatus\n        availabilityText\n        vipAvailabilityStatus\n        vipAvailabilityText\n        onSale\n        rating\n        maxOrderQuantity\n        skuSelectorValue\n        showStoreInventory\n        showReviews\n        bisNotificationState\n        ...ProductAttributes_Flags\n        ...ProductAttributes_SafetyWarning\n      }\n      promo {\n        ...TargetedPromotionSection\n      }\n      promos {\n        ...TargetedPromotionSection\n      }\n    }\n    \n    \n    \n    \n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}};var gs=t(15278),vs=t(96087);const hs=G.ZP.span.withConfig({displayName:"ProductDetailsstyles__ProductID",componentId:"sc-16lgx7x-0"})(["display:none;"]),ys=G.ZP.span.withConfig({displayName:"ProductDetailsstyles__Mpn",componentId:"sc-16lgx7x-1"})(["display:none;"]),fs=G.ZP.section.withConfig({displayName:"ProductDetailsstyles__ProductAttributesWrapper",componentId:"sc-16lgx7x-2"})(["width:100%;"]),ks=e=>Math.ceil(e/2.54),bs=e=>{var i,t,n,a,r;const{product:o,variantIndex:s,isVipUser:l,vipPoints:d,handleOnIntersection:c}=e,m=(0,I.T)(),u=Yn(o,s),{triggerEvent:g}=(0,R.FG)(),v=(0,vs.y)("disco_dora_alacart_insiders");if(!u)return null;const{availabilityStatus:h}=(0,P.UB)(u,l),y=h===C.Z.retired,f=(null===u||void 0===u||null===(i=u.attributes)||void 0===i?void 0:i.pieceCount)||0,k=(null===u||void 0===u||null===(t=u.attributes)||void 0===t?void 0:t.minifigureCount)||0,b=(null===u||void 0===u||null===(n=u.attributes)||void 0===n?void 0:n.buildWidth)||0,x=(null===u||void 0===u||null===(a=u.attributes)||void 0===a?void 0:a.buildHeight)||0,w=(null===u||void 0===u||null===(r=u.attributes)||void 0===r?void 0:r.buildDepth)||0,_=o.productCode,S="P_FREE_ITEM"===h||"Q_OUT_STOCK_FREE_ITEM"===h,j=()=>g({label:"vipPointsTooltipClick",eventType:["custom"]});return(0,p.jsx)(N.Z,{onIntersection:()=>c("attributes"),threshold:.25,children:({onRef:e})=>{var i;return(0,p.jsxs)(fs,{ref:e,children:[(0,p.jsx)(gs.Z,{"data-test":"product-attributes",attributes:[{iconType:"scales",values:[null===u||void 0===u||null===(i=u.attributes)||void 0===i?void 0:i.ageRange],title:m("product.details.ages"),dataTest:"ages"},{hideAttribute:!f,iconType:"brick",values:[f.toString()],title:m("product.details.pieces"),dataTest:"pieces"},{hideAttribute:y||!d||S,iconType:v?"insidersPointsO":"vip",values:[!!d&&d.toString()],title:m("vip.title"),tooltip:{title:m("vip.title"),label:m("more.info.about"),body:m("vip.description"),onClick:j},dataTest:"vip-points"},{iconType:"hashtag",values:[_],title:m("product.details.item"),dataTest:"item"},{hideAttribute:!k,iconType:"minifigure",values:[k.toString()],title:m("product.details.minifigures"),dataTest:"minifigures"},{iconType:"dimensions",hideAttribute:!x&&!b&&!w,values:[x?m("product.details.dimensions.height",{height:x,heightInches:ks(x)}):null,b?m("product.details.dimensions.width",{width:b,widthInches:ks(b)}):null,w?m("product.details.dimensions.depth",{depth:w,depthInches:ks(w)}):null],title:m("product.details.dimensions"),dataTest:"dimensions"}]}),(0,p.jsx)(ys,{itemProp:"mpn",children:_}),(0,p.jsx)(hs,{itemProp:"productID",children:_})]})}})};const xs=G.ZP.div.withConfig({displayName:"ProductFeaturesstyles__Body",componentId:"tutz3a-0"})(["padding:"," 0;",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.layout.container({direction:{small:"column-reverse",medium:"row",large:"row"}}))),ws=G.ZP.div.withConfig({displayName:"ProductFeaturesstyles__Copy",componentId:"tutz3a-1"})(["",";",";"],(({theme:e})=>e.media.min("medium")((0,G.iv)(["flex-basis:60%;padding-right:",";"],(e=>e.theme.sizing("md"))))),(e=>e.theme.layout.item({width:{small:"100%",medium:"60%",large:"60%"}}))),_s=G.ZP.div.withConfig({displayName:"ProductFeaturesstyles__FeaturesText",componentId:"tutz3a-2"})(["ul{list-style-position:outside;margin-left:",";}ul li{list-style-type:disc;padding-bottom:",";}"],(e=>e.theme.sizing("md")),(e=>e.theme.sizing("md"))),Ns=(G.ZP.div.withConfig({displayName:"ProductFeaturesstyles__BulletText",componentId:"tutz3a-3"})(["ul{list-style-position:outside;margin-left:",";}ul li{list-style-type:disc;padding-bottom:",";}"],(e=>e.theme.sizing("md")),(e=>e.theme.sizing("md"))),G.ZP.div.withConfig({displayName:"ProductFeaturesstyles__Cta",componentId:"tutz3a-4"})(["flex:1;",";text-align:center;"],(e=>e.theme.layout.item({width:{small:"100%",medium:"40%",large:"40%"}})))),Ss=e=>{const{product:i}=e,t=i.productMedia&&i.productMedia.items.length||0;let n;return n=i.productMedia?t>1?i.secondaryImage:i.featuresPrimaryImage:"",i.featuresText?(0,p.jsx)(tt,{children:(0,p.jsxs)(xs,{children:[(0,p.jsx)(ws,{children:(0,p.jsx)(_s,{children:(0,p.jsx)(Lo.Z,{markup:i.featuresText})})}),(0,p.jsx)(Ns,{children:n&&(0,p.jsx)("img",{src:n,alt:i.name||"",itemProp:"image","data-test":"pdp-product-features-img"})})]})}):null};var Ps=t(30382),js=t.n(Ps);const Cs=js()`
  mutation SubmitHelpfulnessVote(
    $commentId: ID!
    $feedback: HelpfulnessFeedback
  ) {
    submitHelpfulnessVote(commentId: $commentId, feedback: $feedback) {
      success
      error
    }
  }
`,Is={productReviews:js()`
    fragment SubmitHelpfulnessVote_Reviews on ProductReviews {
      reviews {
        id
      }
    }
  `};var Ts=({children:e})=>{const[i,t]=(0,b.Db)(Cs);return e(i,t)};const Os={info:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"purchasedFor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buildingExperience"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"responses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Response"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customerPhotos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Photo"},directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ExtraInfo"},directives:[]}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"Response"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviewResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"department"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"Photo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviewCustomerPhoto"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ExtraInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playExperience"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"levelofDifficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildExperience"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueForMoney"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"days"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hours"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minutes"},arguments:[],directives:[]}]}}]}}])),loc:{start:0,end:276,source:{body:"\n    fragment ReviewInfo on ProductReview {\n      purchasedFor\n      content\n      id\n      userData {\n        buildingExperience\n      }\n      responses {\n        ...Response\n      }\n      customerPhotos {\n        ...Photo\n      }\n\n      ...ExtraInfo\n    }\n\n    \n    \n    \n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},Es={review:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"Review"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wouldRecommend"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"incentivized"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"helpfulnessVotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"yes"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"no"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewInfo"},directives:[]}]}}].concat(Os.info.definitions)),loc:{start:0,end:274,source:{body:"\n    fragment Review on ProductReview {\n      rating\n      title\n      date\n      wouldRecommend\n      incentivized\n      helpfulnessVotes {\n        yes\n        no\n      }\n\n      userData {\n        name\n        ageRange\n        id\n      }\n\n      ...ReviewInfo\n    }\n\n    \n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},Rs={productReviews:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductReviews_Reviews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviews"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statistics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Review"},directives:[]}]}}]}}].concat(Es.review.definitions)),loc:{start:0,end:154,source:{body:"\n    fragment ProductReviews_Reviews on ProductReviews {\n      statistics {\n        count\n      }\n      reviews {\n        ...Review\n      }\n    }\n\n    \n  ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},Fs={kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductReviews"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductReviewSortOptions"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewFilters"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewsPerPage"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"ratingFilter"},value:{kind:"Variable",name:{kind:"Name",value:"reviewFilters"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"reviewsPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductReviewsOverview_Reviews"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductReviews_Reviews"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmitHelpfulnessVote_Reviews"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductReviewsOverview_Reviews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductReviews"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statistics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallRating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"valueForMoney"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallDifficulty"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallPlayExperience"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"wouldRecommendPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ratingDistribution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],Rs.productReviews.definitions,Is.productReviews.definitions)),loc:{start:0,end:460,source:{body:"\n  query ProductReviews(\n    $productCode: String!\n    $sort: ProductReviewSortOptions!\n    $reviewFilters: [Int!]\n    $reviewsPerPage: Int!\n    $offset: Int!\n  ) {\n    productReviews(\n      productCode: $productCode\n      sort: $sort\n      ratingFilter: $reviewFilters\n      limit: $reviewsPerPage\n      offset: $offset\n    ) {\n      ...ProductReviewsOverview_Reviews\n      ...ProductReviews_Reviews\n      ...SubmitHelpfulnessVote_Reviews\n    }\n  }\n\n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},As={label:"pdpScroll",eventType:["custom"],data:{sectionName:"customer reviews"}},Ds={POSITIVE:"POSITIVE",NEGATIVE:"NEGATIVE"},Zs=(e,{fetchMoreResult:i})=>i,Vs=(0,n.createContext)({getProductReviews:()=>{},reviews:[],statistics:{},loading:!0,lazyQueryCalled:!1,error:void 0,sortOrder:Ka.MOST_RELEVANT,currentPage:1,filters:[],addReviewFilter:()=>{},removeReviewFilter:()=>{},clearFilters:()=>{},handleSortChange:()=>{},handlePageChange:()=>{},reviewsActive:!1,setReviewsActive:()=>{}}),zs=({productCode:e,reviewsActiveOverride:i,children:t})=>{const{query:a}=(0,s.k)(),{0:r,1:o}=(0,n.useState)(!1),{0:l,1:d}=(0,n.useState)(Ka.MOST_RELEVANT),{0:c,1:m}=(0,n.useState)([]),{0:u,1:g}=(0,n.useState)(parseInt(null===a||void 0===a?void 0:a.page,10)||1),[v,{data:h,loading:y,called:f,error:k,fetchMore:x}]=(0,b.td)(Fs,{variables:{productCode:e,sort:l,reviewFilters:[],reviewsPerPage:4,offset:1===u?0:4*(u-1)}});(({reviewsActiveOverride:e,setReviewsActive:i,lazyQueryCalled:t,getProductReviews:a})=>{(0,n.useEffect)((()=>{e&&(i(e),t||a())}),[e,t,a,i])})({reviewsActiveOverride:i,setReviewsActive:o,lazyQueryCalled:f,getProductReviews:v}),(({setReviewsActive:e,lazyQueryCalled:i,getProductReviews:t})=>{const{query:a}=(0,s.k)();(0,n.useEffect)((()=>{void 0!==(null===a||void 0===a?void 0:a["submit-review"])&&(e(!0),i||t())}),[a,t,i,e])})({setReviewsActive:o,lazyQueryCalled:f,getProductReviews:v}),(e=>{const{triggerEvent:i}=(0,R.FG)();(0,n.useEffect)((()=>{e&&i(As)}),[e,i])})(r);const w=e=>{x({variables:{offset:0,reviewFilters:e},updateQuery:Zs}),g(1),m(e)},_=y||!f||k;return(0,p.jsx)(Vs.Provider,{value:{getProductReviews:v,reviews:_?[]:h.productReviews.reviews,statistics:_?{}:h.productReviews.statistics,loading:y,lazyQueryCalled:f,error:k,sortOrder:l,currentPage:u,filters:c,addReviewFilter:e=>w([...c,e]),removeReviewFilter:e=>w(c.filter((i=>i!==e))),clearFilters:()=>w([]),handleSortChange:e=>{x({variables:{offset:0,sort:e},updateQuery:Zs}),d(e),g(1)},handlePageChange:e=>{x({variables:{offset:4*(e-1)},updateQuery:Zs}),g(e)},reviewsActive:r,setReviewsActive:o},children:t})};var Ls=t(1866);const Ms=G.ZP.div.withConfig({displayName:"ProductAccordionstyles__Title",componentId:"nxurdn-0"})(["width:100%;background:",";border-top:1px solid ",";"],(e=>e.theme.color("grey_extra_light")),(e=>e.theme.color("grey_light"))),Gs=G.ZP.div.withConfig({displayName:"ProductAccordionstyles__TitleContent",componentId:"nxurdn-1"})(["width:100%;max-width:",";margin:0 auto;padding:",";",";display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start;overflow:hidden;"],(e=>e.theme.maxWidth()),(e=>`${e.theme.sizing("lg")} ${e.theme.sizing("ms")}`),(e=>e.theme.media.min("large")((0,G.iv)(["padding-right:",";padding-left:",";"],e.theme.sizing("xl"),e.theme.sizing("xl"))))),Bs=G.ZP.div.withConfig({displayName:"ProductAccordionstyles__TitleRow",componentId:"nxurdn-2"})(["display:flex;flex-direction:row;align-items:baseline;",""],(e=>e.theme.media.max("small")((0,G.iv)(["flex-direction:column;"])))),$s=(0,G.ZP)(Gr.Z).withConfig({displayName:"ProductAccordionstyles__ExpandIcon",componentId:"nxurdn-3"})(["",""],(e=>(0,G.iv)(["margin-left:",";",""],e.theme.sizing("sm"),e.theme.media.min("medium")((0,G.iv)(["width:",";height:",";&:before,&:after{width:",";height:",";}"],e.theme.sizing("lg"),e.theme.sizing("lg"),(0,B.hO)(3),e.theme.sizing("ms")))))),Us=(G.ZP.div.withConfig({displayName:"ProductAccordionstyles__Content",componentId:"nxurdn-4"})(["overflow:visible;height:auto;position:relative;",""],(e=>!e.active&&(0,G.iv)(["height:0;"]))),G.ZP.span.withConfig({displayName:"ProductAccordionstyles__TitleSuffix",componentId:"nxurdn-5"})(["margin-left:",";",""],(e=>e.theme.sizing("xs")),(e=>e.theme.media.max("small")((0,G.iv)(["margin-left:0;"]))))),Ws=(0,n.forwardRef)(((e,i)=>{const{id:t,active:n,onToggle:a,title:r,titleSuffix:o,children:s,directMount:l}=e;return(0,p.jsx)(Ls.Z,{ref:i,id:t,active:n,onToggle:a,directMount:l,renderTitle:({isActive:e})=>(0,p.jsx)(Ms,{children:(0,p.jsxs)(Gs,{children:[(0,p.jsxs)(Bs,{children:[(0,p.jsx)(nt,{children:(0,p.jsx)(wi.Z,{id:r})}),o&&(0,p.jsx)(Us,{children:o})]}),(0,p.jsx)($s,{isActive:e})]})}),children:s})}));Ws.displayName="ProductAccordion";var Hs=Ws,qs=t(25418),Ys=t(33643);const Qs=(0,G.ZP)(Ys.Z).withConfig({displayName:"ProductDetailsPagestyles__Breadcrumbs",componentId:"sc-1waehzg-0"})(["max-width:",";padding:",";background:",";& > li:last-child{overflow:hidden;}& > li > span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],(e=>e.theme.maxWidth()),(e=>e.theme.sizing("ms")),(e=>e.theme.color("white"))),Ks=G.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductOverviewContainer",componentId:"sc-1waehzg-1"})(["width:100%;margin:0 auto;max-width:",";",""],(e=>e.theme.maxWidth()),(e=>e.theme.media.min("medium")((0,G.iv)(["padding:0 ",";"],e.theme.sizing("ms"))))),Xs=G.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductOverviewLayout",componentId:"sc-1waehzg-2"})(["display:flex;width:100%;flex-direction:column;",""],(e=>e.theme.media.min("medium")((0,G.iv)(["flex-direction:row;align-items:flex-start;border-top:1px solid ",";"],e.theme.color("grey_light"))))),Js=G.ZP.span.withConfig({displayName:"ProductDetailsPagestyles__LoadingSpinnerWrapper",componentId:"sc-1waehzg-3"})(["display:flex;justify-content:center;"]),el=(G.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__GalleryAttributesWrapper",componentId:"sc-1waehzg-4"})(["width:100%;display:flex;",""],(e=>e.theme.media.min("medium")((0,G.iv)(["flex-direction:column;border-right:1px solid ",";"],e.theme.color("grey_light"))))),G.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductGalleryWrapper",componentId:"sc-1waehzg-5"})(["",""],(({headerIsHidden:e,theme:i})=>(0,G.iv)(["height:100%;width:100% display:flex;align-items:center;justify-content:center;min-width:0;position:sticky;",""],i.media.min("medium")((0,G.iv)(["top:",";transition:top 400ms cubic-bezier(0.4,0,0.2,1);flex:0 0 70%;flex-direction:column;border-right:1px solid ",";"],e?"0px":"var(--header-height)}",i.color("grey_light"))))))),il=G.ZP.div.withConfig({displayName:"ProductDetailsPagestyles__ProductDynamicContentContainer",componentId:"sc-1waehzg-6"})(["padding:"," 0;"],(e=>e.theme.sizing("md")));var tl=t(82461),nl=t(86162),al=t.n(nl);const rl=G.ZP.button.withConfig({displayName:"ProductReviewsOverviewstyles__RatingBox",componentId:"be9bye-0"})(["margin-bottom:",";padding:0 "," 0 ",";margin-left:-",";display:flex;flex-direction:row;align-items:center;",";",";"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs")),(e=>e.selected?(0,G.iv)(["background-repeat:no-repeat;background-position:100% 50%;background-color:",";background-image:url(",");background-size:35px;"],e.theme.color("blue_extra_light"),al()):""),(e=>e.disabled?(0,G.iv)(["opacity:0.5;font-style:italic;cursor:no-drop;"]):"")),ol=G.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__PercentageBarWrapper",componentId:"be9bye-1"})(["width:",";"],(e=>e.theme.sizing(4))),sl=(0,G.ZP)(tl.Z).withConfig({displayName:"ProductReviewsOverviewstyles__BreakdownWrapper",componentId:"be9bye-2"})(["",";"],(e=>e.theme.layout.container({direction:{small:"column",medium:"row",large:"row"}}))),ll=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductReviewsOverviewstyles__BreakdownTitle",componentId:"be9bye-3"})(["margin-top:0;"]),dl=G.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__OverallExperienceWrapper",componentId:"be9bye-4"})(["",";",";"],(({theme:e})=>e.media.min("medium")((0,G.iv)(["border-left:1px solid ",";padding-left:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("ms"))))),(({theme:e})=>e.media.max("medium")((0,G.iv)(["border-top:1px solid ",";padding-top:",";"],e.color("grey_light"),e.sizing("ms"))))),cl=(0,G.ZP)(tl.Z).withConfig({displayName:"ProductReviewsOverviewstyles__WriteReviewButtonWrapper",componentId:"be9bye-5"})(["",";padding-bottom:",";"],(e=>e.theme.layout.item({width:{small:"100%",medium:"auto",large:"auto"}})),(e=>e.theme.sizing("ms"))),ml=G.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__Disclaimer",componentId:"be9bye-6"})(["width:100%;padding:"," 0;border-top:1px solid ",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.color("grey_light"))),ul=(0,G.ZP)(tl.Z).withConfig({displayName:"ProductReviewsOverviewstyles__OverviewWrapper",componentId:"be9bye-7"})(["",";justify-content:space-between;"],(e=>e.theme.layout.container({direction:{small:"column",medium:"row",large:"row"}}))),pl=G.ZP.div.withConfig({displayName:"ProductReviewsOverviewstyles__FirstSubmitReviewContainer",componentId:"be9bye-8"})(["display:flex;flex-direction:column;align-items:center;padding:"," 0;",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.media.min("medium")((0,G.iv)(["flex-direction:row;justify-content:flex-end;"])))),gl=(0,G.ZP)(tl.Z).withConfig({displayName:"ProductReviewsOverviewstyles__OverallRating",componentId:"be9bye-9"})(["display:flex;align-items:flex-end;"]),vl=(0,G.ZP)(tl.Z).withConfig({displayName:"ProductReviewsOverviewstyles__StatsWrapper",componentId:"be9bye-10"})(["display:flex;flex-direction:column;"]);var hl=({overallPlayExperience:e,overallDifficulty:i,valueForMoney:t})=>{const n=(0,I.T)();return(0,p.jsxs)(dl,{children:[(0,p.jsx)(ll,{size:"s0",tag:"h3",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.overallExperience"})}),e?(0,p.jsx)(tl.Z,{bottom:"xs",children:(0,p.jsx)(Mo.Z,{mode:"display",type:"bricks",label:n("product.details.reviews.playExperience"),rating:e})}):null,i?(0,p.jsx)(tl.Z,{bottom:"xs",children:(0,p.jsx)(Mo.Z,{mode:"display",type:"bricks",label:n("product.details.reviews.levelOfDifficulty"),rating:i})}):null,t?(0,p.jsx)(Mo.Z,{mode:"display",type:"bricks",label:n("product.details.reviews.valueForMoney"),rating:t}):null]})},yl=t(23365),fl=t(1131),kl=t(60206),bl=t(4525),xl=t(98379),wl=t(95691),_l=t(2964),Nl=t(77386);const Sl=G.ZP.div.withConfig({displayName:"Stepsstyles__Field",componentId:"sc-1scpc6g-0"})(["margin-bottom:",";& ","{padding-left:",";","}"],(e=>e.theme.sizing("xs")),_l.ub,(({theme:e})=>e.sizing("xs")),(e=>e.theme.media.max("small")((0,G.iv)(["max-width:",";"],e.theme.sizing("4xl"))))),Pl=(0,G.ZP)(_i.Z).withConfig({displayName:"Stepsstyles__FieldTitle",componentId:"sc-1scpc6g-1"})(["display:block;margin:0;margin-bottom:",";"],(e=>e.theme.sizing("4xs"))),jl=G.ZP.div.withConfig({displayName:"Stepsstyles__FieldSet",componentId:"sc-1scpc6g-2"})(["border-bottom:1px solid ",";margin-bottom:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("ms"))),Cl=G.ZP.span.attrs((()=>({role:"alert"}))).withConfig({displayName:"Stepsstyles__ErrorText",componentId:"sc-1scpc6g-3"})(["color:",";font-size:",";font-weight:",";"],(e=>e.theme.color("red")),(e=>e.theme.fontSize("sm2")),(e=>e.theme.fontWeight("semiBold"))),Il=G.ZP.div.withConfig({displayName:"Stepsstyles__Wrapper",componentId:"sc-1scpc6g-4"})(["display:",";padding:0 ",";margin-bottom:",";"],(e=>e.active?"block":"none"),(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm"))),Tl=(G.ZP.div.withConfig({displayName:"Stepsstyles__TooltipContainer",componentId:"sc-1scpc6g-5"})(["display:flex;justify-content:flex-end;"]),G.ZP.span.withConfig({displayName:"Stepsstyles__TooltipText",componentId:"sc-1scpc6g-6"})(["color:",";font-size:",";"],(e=>e.theme.color("blue")),(e=>e.theme.sizing("xxs"))),(0,G.ZP)(Mo.Z).withConfig({displayName:"Stepsstyles__StyledRatingBar",componentId:"sc-1scpc6g-7"})(["margin-bottom:",";"],(e=>e.theme.sizing("4xs")))),Ol=(0,G.ZP)(Nl.Z).withConfig({displayName:"Stepsstyles__StyledRadioInput",componentId:"sc-1scpc6g-8"})(["display:inline-flex;margin:0;margin-right:",";&:last-child{margin-right:0;}"],(e=>e.theme.sizing("xxl"))),El=G.ZP.div.withConfig({displayName:"Stepsstyles__NextButtonContainer",componentId:"sc-1scpc6g-9"})(["text-align:right;"]),Rl=(0,G.ZP)(wl.Z).withConfig({displayName:"Stepsstyles__StyledTextArea",componentId:"sc-1scpc6g-10"})(["& > textarea{padding-top:",";}"],(e=>e.theme.sizing("sm")));var Fl=t(81775);const Al=["error"];function Dl(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Zl(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Dl(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dl(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Vl=(e,i)=>{if(!e||!i)return null;const{error:t}=i,n=(0,o.Z)(i,Al);switch(e.type){case"select":return(0,p.jsxs)(Sl,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,p.jsxs)(Pl,{tag:"label",htmlFor:`review-field-${n.name}-select`,children:[e.label," ",e.required&&" *"]}),(0,p.jsx)(Fl.Z,Zl(Zl({},n),{},{id:`review-field-${n.name}-select`,"data-test":`review-field-${n.name}-select`,hideLabel:!0,label:"",options:e.options})),t?(0,p.jsx)(Cl,{children:t}):null]});case"number":return(0,p.jsxs)(Sl,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,p.jsxs)(Pl,{tag:"p",children:[e.label," ",e.required&&" *"]}),(0,p.jsx)(Tl,Zl(Zl({},n),{},{name:n.name,"data-test":`review-field-${n.name}-rating`,type:"bricks",size:"lg",onSegmentClick:e=>{n.onChange&&n.onChange({target:{name:n.name,value:e}})},ratingText:["product.review.rating.poor","product.review.rating.fair","product.review.rating.average","product.review.rating.good","product.review.rating.excellent"],mode:"interactive",rating:n.value||0})),t?(0,p.jsx)(Cl,{children:t}):null]});case"textarea":return(0,p.jsxs)(Sl,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,p.jsxs)(Pl,{tag:"label",htmlFor:`review-field-${n.name}-textarea`,children:[e.label," ",e.required&&" *"]}),(0,p.jsx)(Rl,Zl(Zl({},n),{},{id:`review-field-${n.name}-textarea`,"data-test":`review-field-${n.name}-textarea`,hideLabel:!0,label:"",error:t}))]});case"radio":return(0,p.jsxs)(Sl,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,p.jsxs)(Pl,{tag:"p",children:[e.label," ",e.required&&" *"]}),(0,p.jsx)(Ol,Zl(Zl({},n),{},{onChange:()=>n.onChange({target:{name:n.name,value:"yes"}}),name:n.name,value:"yes",checked:"yes"===n.value,label:"common.yes","data-test":`review-field-${n.name}-radio-yes`})),(0,p.jsx)(Ol,Zl(Zl({},n),{},{onChange:()=>n.onChange({target:{name:n.name,value:"no"}}),name:n.name,value:"no",checked:"no"===n.value,label:"common.no","data-test":`review-field-${n.name}-radio-no`})),t?(0,p.jsx)(Cl,{children:t}):null]});case"text":return(0,p.jsxs)(Sl,{"data-test":`review-field-${n.name}`,children:[e.label&&(0,p.jsxs)(Pl,{tag:"label",htmlFor:`review-field-text-input-${n.name}`,children:[e.label," ",e.required&&" *"]}),(0,p.jsx)(vn.Z,Zl(Zl({},n),{},{id:`review-field-text-input-${n.name}`,"data-test":`review-field-text-input-${n.name}`,hideLabel:!0,label:""})),t?(0,p.jsx)(Cl,{children:t}):null]})}};var zl=t(88058);const Ll=(0,t(4402).C8)({id:"Review Form",initial:"open",states:{open:{on:{NEXT_STEP:"rating"}},rating:{on:{NEXT_STEP:"about",EDIT_RATING:"rating"}},about:{on:{NEXT_STEP:"review",EDIT_RATING:"rating"}},review:{on:{NEXT_STEP:"photo",EDIT_RATING:"rating",EDIT_ABOUT:"about"}},photo:{on:{NEXT_STEP:"preview",EDIT_RATING:"rating",EDIT_ABOUT:"about",EDIT_REVIEW:"review"}},preview:{on:{BACK_TO_EDIT:"photo",SUCCESS:"complete"}},complete:{on:{}}}}),Ml=(0,zl.jS)(Ll),Gl=e=>{const{currentState:i,errors:t,fields:a,valuesRef:r}=e,o=Ml.useActorRef(),s=(0,I.T)(),{triggerEvent:l}=(0,R.FG)(),d=(0,un.Ry)({rating:(0,un.Z_)().required(s("product.review.required.field")),playExperience:(0,un.Z_)(),buildExperience:(0,un.Z_)(),valueForMoney:(0,un.Z_)(),wouldRecommend:(0,un.Z_)(),incentivizedReview:(0,un.Z_)(),legoEmployee:(0,un.Z_)()}),[c,m,u,g,v]=(0,pn.c)(d,(null===r||void 0===r?void 0:r.current)||null);(0,n.useEffect)((()=>{Object.keys(t).length&&g(t)}),[t,g]);return(0,p.jsx)("form",{onSubmit:e=>{e.preventDefault(),v(),void 0!==r&&(r.current=c.values),c.isValid&&(o.send({type:"NEXT_STEP"}),l({label:"pdp-reviews-next-step-click",eventType:["custom"]}))},id:"rating-section","aria-labelledby":"rating-title",children:(0,p.jsx)(xl.Z,{children:(0,p.jsxs)(Il,{active:"rating"===i,children:[(0,p.jsx)(jl,{children:Vl(a.rating,m("rating"))}),(0,p.jsxs)(jl,{children:[Vl(a.buildExperience,m("buildExperience")),Vl(a.playExperience,m("playExperience")),Vl(a.valueForMoney,m("valueForMoney"))]}),(0,p.jsxs)(jl,{children:[Vl(a.wouldRecommend,m("wouldRecommend")),Vl(a.incentivizedReview,m("incentivizedReview")),Vl(a.legoEmployee,m("legoEmployee"))]}),(0,p.jsx)(El,{children:(0,p.jsx)(dt.ZP,{type:"primary","data-test":"go-to-next-step",children:(0,p.jsx)(wi.Z,{id:"product.review.step.next"})})})]})})})};function Bl(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function $l(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Bl(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bl(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var Ul=({fields:e})=>e.reduce(((e,i)=>i&&i.id?$l($l({},e),{},{[i.id]:i}):e),{});const Wl=e=>{const{currentState:i,errors:t,fields:a,valuesRef:r}=e,o=Ml.useActorRef(),s=(0,I.T)(),{triggerEvent:l}=(0,R.FG)(),d=(0,un.Ry)({nickname:(0,un.Z_)().required(s("product.review.required.field")).max(25,s("product.review.maximum.characters",{max:25})),country:(0,un.Z_)().required(s("product.review.required.field")),ageRange:(0,un.Z_)().required(s("product.review.required.field")),bestDescription:(0,un.Z_)(),purchasedFor:(0,un.Z_)(),skillLevel:(0,un.Z_)()}),[c,m,u,g,v]=(0,pn.c)(d,(null===r||void 0===r?void 0:r.current)||null);(0,n.useEffect)((()=>{Object.keys(t).length&&g(t)}),[t,g]);return(0,p.jsx)("form",{onSubmit:e=>{e.preventDefault(),v(),void 0!==r&&(r.current=c.values),c.isValid&&(o.send({type:"NEXT_STEP"}),l({label:"pdp-reviews-next-step-click",eventType:["custom"]}))},id:"about-section","aria-labelledby":"about-title",children:(0,p.jsx)(xl.Z,{children:(0,p.jsxs)(Il,{active:"about"===i,children:[(0,p.jsxs)(jl,{children:[Vl(a.nickname,m("nickname")),Vl(a.country,m("country")),Vl(a.ageRange,m("ageRange"))]}),(0,p.jsxs)(jl,{children:[Vl(a.bestDescription,m("bestDescription")),Vl(a.purchasedFor,m("purchasedFor")),Vl(a.skillLevel,m("skillLevel"))]}),(0,p.jsx)(El,{children:(0,p.jsx)(dt.ZP,{type:"primary","data-test":"go-to-next-step",children:(0,p.jsx)(wi.Z,{id:"product.review.step.next"})})})]})})})},Hl=e=>{const{currentState:i,errors:t,fields:a,valuesRef:r}=e,o=Ml.useActorRef(),{triggerEvent:s}=(0,R.FG)(),l=(0,I.T)(),d=(0,un.Ry)({title:(0,un.Z_)().max(50,l("product.review.maximum.characters",{max:50})).required(l("product.review.required.field")),reviewContent:(0,un.Z_)().min(50,l("product.review.minimum.characters",{min:50})).required(l("product.review.required.field"))}),[c,m,u,g,v]=(0,pn.c)(d,(null===r||void 0===r?void 0:r.current)||null);(0,n.useEffect)((()=>{Object.keys(t).length&&g(t)}),[t,g]);return(0,p.jsx)("form",{onSubmit:e=>{e.preventDefault(),v(),void 0!==r&&(r.current=c.values),c.isValid&&(s({label:"pdp-reviews-next-step-click",eventType:["custom"]}),o.send({type:"NEXT_STEP"}))},id:"review-section","aria-labelledby":"review-title",children:(0,p.jsx)(xl.Z,{children:(0,p.jsxs)(Il,{active:"review"===i,children:[(0,p.jsxs)(jl,{children:[Vl(a.title,m("title")),Vl(a.reviewContent,m("reviewContent"))]}),(0,p.jsx)(El,{children:(0,p.jsx)(dt.ZP,{type:"primary","data-test":"go-to-next-step",children:(0,p.jsx)(wi.Z,{id:"product.review.step.next"})})})]})})})};var ql=t(79802),Yl=t.n(ql),Ql=t(18042);const Kl=(0,n.createContext)({submitReviewModalOpen:!1,openSubmitReviewModal:()=>{},closeSubmitReviewModal:()=>{},onRef:()=>{},bazaarvoiceToken:null}),Xl=(e,i,t,n)=>{if(null===e||void 0===e||!e.length){const e=`${t}?submit-review`;i.getInstance().login(n,e)}},Jl=({children:e})=>{const{bazaarvoiceToken:i,email:t,fetched:r}=(0,O.v)(),{triggerEvent:o}=(0,R.FG)(),{query:{locale:l}}=(0,a.useRouter)(),{query:d,pathname:c}=(0,s.k)(),m=(0,n.useRef)(null),{0:u,1:g}=(0,n.useState)(!1),v=void 0!==d["submit-review"],h=(0,n.useCallback)((()=>{r&&(t?g(!0):(g(!1),Xl(i,Oo.Z,c,l)),o({label:"pdpWriteAReview",eventType:["custom"]}))}),[r,t,i,c,l,o]);return(0,n.useEffect)((()=>{r&&v&&(t?h():Xl(i,Oo.Z,c,l))}),[r,v,t,i,c,l,h]),(0,p.jsx)(Kl.Provider,{value:{submitReviewModalOpen:u,openSubmitReviewModal:h,closeSubmitReviewModal:()=>{g(!1),o({label:"pdp-reviews-pop-up-closed",eventType:["custom"]})},bazaarvoiceToken:i,onRef:e=>{e&&(m.current=e)}},children:e})},ed=G.ZP.section.withConfig({displayName:"PhotoStepstyles__Section",componentId:"sc-1xorefi-0"})(["border-top:1px solid ",";border-bottom:1px solid ",";margin-bottom:",";padding:"," 0;"],(e=>e.theme.color("grey_light")),(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),id=G.ZP.div.withConfig({displayName:"PhotoStepstyles__GuidelineContainer",componentId:"sc-1xorefi-1"})(["background-color:",";padding:",";"],(e=>e.theme.color("blue_extra_light")),(e=>e.theme.sizing("sm"))),td=(0,G.ZP)(gn.Z).withConfig({displayName:"PhotoStepstyles__ConsentCheckbox",componentId:"sc-1xorefi-2"})(["margin-bottom:",";"],(e=>e.theme.sizing("sm"))),nd=G.ZP.ul.withConfig({displayName:"PhotoStepstyles__Previews",componentId:"sc-1xorefi-3"})(["max-width:100%;display:flex;flex-wrap:wrap;align-items:center;"]),ad=G.ZP.li.withConfig({displayName:"PhotoStepstyles__PreviewContainer",componentId:"sc-1xorefi-4"})(["position:relative;display:inline-block;max-width:33%;padding:0;margin-right:",";margin-bottom:",";border:1px solid ",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light"))),rd=G.ZP.button.withConfig({displayName:"PhotoStepstyles__PreviewRemove",componentId:"sc-1xorefi-5"})(["position:absolute;top:0;right:0;cursor:pointer;background:",";color:",";border-radius:50%;width:",";height:",";display:flex;align-items:center;justify-content:center;"],(e=>e.theme.color("black")),(e=>e.theme.color("white")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),od=(0,G.ZP)(_i.Z).withConfig({displayName:"PhotoStepstyles__SubHeader",componentId:"sc-1xorefi-6"})(["margin-top:0;"]),sd=G.ZP.div.withConfig({displayName:"PhotoStepstyles__UnorderedListWrapper",componentId:"sc-1xorefi-7"})(["ul{list-style-position:inside;margin:0;padding:0;li{list-style-type:disc;font-size:",";span{font-weight:",";}}}"],(e=>e.theme.sizing("xs")),(e=>e.theme.fontWeight("bold"))),ld=(G.ZP.div.withConfig({displayName:"PhotoStepstyles__ErrorText",componentId:"sc-1xorefi-8"})(["color:",";font-size:",";margin-bottom:",";"],(e=>e.theme.color("red")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("3xs"))),({currentState:e,valuesRef:i,expires:t,signature:a,productCode:r,submitPreview:o,submissionLoading:s})=>{const{bazaarvoiceToken:l}=(0,n.useContext)(Kl),{0:d,1:c}=(0,n.useState)([]),{0:m,1:u}=(0,n.useState)(i.current.consent),{0:g,1:v}=(0,n.useState)(!1),{0:h,1:y}=(0,n.useState)(!1),{0:f,1:k}=(0,n.useState)(i.current.photoUrls),{triggerEvent:b}=(0,R.FG)(),w=(0,I.T)();return(0,p.jsx)(xl.Z,{children:(0,p.jsxs)(Il,{active:"photo"===e,id:"photo-section","aria-labelledby":"photo-title",children:[(0,p.jsxs)(ed,{children:[(0,p.jsx)(td,{checked:m,onChange:()=>u((e=>!e)),label:w("product.review.photo.image.consent")}),g?(0,p.jsx)(Cl,{children:w("product.review.required.field")}):null,(0,p.jsx)(Ql.Z,{disabled:!m||f.length>=6||h,onChange:async e=>{const n=e.target.files[0];if(!n)return void c([w("product.review.photo.error.file.missing")]);y(!0);const o=new FormData;o.append("file",n);try{const e=await Yl()({url:x.Z.bazaarvoice.imageUploadUrl,method:"POST",data:o,params:{signature:a,expires:t,productId:r,profileId:l},headers:{"content-type":"multipart/form-data"}});if(y(!1),e.data.errors)return void c([w("product.review.photo.error")]);const n=[...f,e.data.Url];k(n),i.current.photoUrls=n,c([])}catch(s){c([w("product.review.photo.error")]),y(!1)}},"data-test":"review-field-upload-photo-button",children:h?(0,p.jsx)(qs.Z,{color:"white",size:"sm"}):(0,p.jsx)(wi.Z,{id:"product.review.upload.image"})}),(null===f||void 0===f?void 0:f.length)>0&&(0,p.jsx)(nd,{children:f.map((e=>(0,p.jsxs)(ad,{children:[(0,p.jsx)(mt.ZP,{src:e,alt:"","data-test":"photo-preview"}),(0,p.jsx)(rd,{onClick:()=>(e=>{const t=f.filter((i=>i!==e));k(t),i.current.photoUrls=t})(e),"aria-label":w("product.review.photo.remove"),"data-test":"photo-remove",children:(0,p.jsx)(Zi.Z,{type:"cross",width:10,height:10})})]},e)))}),d.length?d.map((e=>(0,p.jsx)(Cl,{children:e},e))):null,(0,p.jsxs)(id,{"data-test":"review-field-upload-photo-guidelines",children:[(0,p.jsx)(od,{tag:"p",size:"s2",children:(0,p.jsx)(wi.Z,{id:"product.review.photo.upload.guidelines.title"})}),(0,p.jsx)(sd,{children:(0,p.jsx)(Lo.Z,{markup:w("product.review.photo.upload.guidelines.content"),as:"div"})})]})]}),(0,p.jsx)(El,{children:(0,p.jsx)(dt.ZP,{type:"primary","data-test":"go-to-preview",onClick:()=>{i.current={consent:m,photoUrls:f},f.length>0&&!m?v(!0):(v(!1),b({label:"pdp-reviews-preview-click",eventType:["custom"]}),o())},disabled:s,children:s?(0,p.jsx)(qs.Z,{color:"white",size:"sm"}):(0,p.jsx)(wi.Z,{id:"product.review.go.to.preview"})})})]})})});var dd=t(45209);G.ZP.div.withConfig({displayName:"StepTitlestyles__Wrapper",componentId:"sc-1u7be40-0"})(["display:",";"],(e=>e.active?"block":"none"));const cd=G.ZP.div.withConfig({displayName:"StepTitlestyles__Container",componentId:"sc-1u7be40-1"})(["display:flex;align-items:center;justify-content:space-between;padding:",";margin-bottom:",";background-color:",";"],(e=>e.theme.sizing("sm")),(e=>e.isActive?e.theme.sizing("sm"):0),(e=>e.isActive?"transparent":e.theme.color("grey_extra_light"))),md=G.ZP.h3.withConfig({displayName:"StepTitlestyles__Title",componentId:"sc-1u7be40-2"})(["text-transform:uppercase;font-weight:",";margin:0 auto 0 ",";color:",";overflow:hidden;"],(({theme:e})=>e.fontWeight("semiBold")),(e=>e.theme.sizing("3xs")),(e=>e.isActive?"inherit":e.theme.color("grey_medium"))),ud=(0,G.ZP)(dt.ZP).withConfig({displayName:"StepTitlestyles__EditButton",componentId:"sc-1u7be40-3"})(["color:",";font-weight:",";",";"],(e=>e.theme.color("blue")),(e=>e.theme.fontWeight("semiBold")),(e=>e.theme.font("s0"))),pd=({step:e,isActive:i,totalSteps:t,changeStep:n,title:a,stepName:r,hasSuccess:o})=>{const s=i?"display":o?"success":"disabled";return(0,p.jsxs)(cd,{id:`${r}-title`,isActive:i,"aria-expanded":i,children:[(0,p.jsx)(dd.Z,{type:s,children:e}),(0,p.jsx)(md,{isActive:i,children:a}),i?(0,p.jsx)(_i.Z,{color:"grey",tag:"span",children:(0,p.jsx)(wi.Z,{id:"product.review.step.title",values:{currentStep:e,totalSteps:t}})}):o?(0,p.jsx)(ud,{type:"link","aria-controls":`${r}-section`,onClick:n,children:(0,p.jsx)(wi.Z,{id:"product.review.step.edit"})}):null]})};var gd=t(41065);const vd=G.ZP.div.withConfig({displayName:"Previewstyles__Container",componentId:"sc-1wx20j8-0"})(["padding:",";position:relative;width:100%;height:100%;",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.media.min("medium")((0,G.iv)(["min-height:80vh;width:",";"],(0,B.hO)(500))))),hd=(0,G.ZP)(dt.ZP).withConfig({displayName:"Previewstyles__ButtonLink",componentId:"sc-1wx20j8-1"})(["display:flex;align-items:center;padding-bottom:",";border-bottom:1px solid ",";color:",";",";& > svg{margin-right:",";}"],(e=>e.theme.sizing("xxs")),(e=>e.theme.color("grey_light")),(e=>e.theme.color("blue")),(e=>e.theme.font("s0")),(e=>e.theme.sizing("3xs"))),yd=(0,G.ZP)(Mo.Z).withConfig({displayName:"Previewstyles__StyledRatingBar",componentId:"sc-1wx20j8-2"})(["margin-bottom:",";"],(e=>e.theme.sizing("xs"))),fd=G.ZP.div.withConfig({displayName:"Previewstyles__Gallery",componentId:"sc-1wx20j8-3"})(["padding-top:",";padding-bottom:",";max-width:100%;display:flex;flex-wrap:wrap;align-items:center;"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),kd=(0,G.ZP)(mt.ZP).withConfig({displayName:"Previewstyles__ImageGallery",componentId:"sc-1wx20j8-4"})(["max-width:33%;padding:0;margin-right:",";margin-bottom:",";border:1px solid ",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.color("grey_light"))),bd=G.ZP.div.withConfig({displayName:"Previewstyles__ActionContainer",componentId:"sc-1wx20j8-5"})(["border-top:2px solid ",";padding:"," 0;display:flex;justify-content:flex-end;"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("sm"))),xd=({reviewFields:e,submitReview:i,backToEdit:t,submissionLoading:n})=>{const{rating:a,buildExperience:r,playExperience:o,valueForMoney:s,wouldRecommend:l,incentivizedReview:d,legoEmployee:c,nickname:m,countryLabel:u,ageRange:g,bestDescription:v,purchasedFor:h,skillLevel:y,title:f,reviewContent:k,photos:b}=e,x=(0,I.T)();return(0,p.jsxs)(vd,{"data-test":"review-preview-container",children:[(0,p.jsxs)(hd,{type:"link",onClick:t,"data-test":"review-preview-back-to-editing",children:[(0,p.jsx)(lt.Z,{chevronDirection:"left",width:15,height:15}),(0,p.jsx)(wi.Z,{id:"product.review.back.to.editing"})]}),(0,p.jsx)(_i.Z,{tag:"p",size:"s0",weight:"semiBold",uppercase:!0,children:(0,p.jsx)(wi.Z,{id:"product.review.review.preview"})}),(0,p.jsxs)(jl,{"data-test":"review-preview-rating-fields",children:[(0,p.jsx)(yd,{label:x("product.review.overall.rating"),mode:"display",rating:a,type:"bricks",size:"lg","data-test":"review-preview-rating-rating",hideOutput:!0}),r?(0,p.jsx)(yd,{label:x("product.review.rating.build.experience"),mode:"display",rating:r,type:"bricks",size:"lg","data-test":"review-preview-rating-buildExperience",hideOutput:!0}):null,o?(0,p.jsx)(yd,{label:x("product.review.rating.play"),mode:"display",rating:o,type:"bricks",size:"lg","data-test":"review-preview-rating-playExperience",hideOutput:!0}):null,s?(0,p.jsx)(yd,{label:x("product.review.rating.price"),mode:"display",rating:s,type:"bricks",size:"lg","data-test":"review-preview-rating-valueForMoney",hideOutput:!0}):null,l&&(0,p.jsx)(_i.Z,{tag:"p",size:"s0",color:"green","data-test":"review-preview-rating-wouldRecommend",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.user.would.recommend"})}),d&&(0,p.jsxs)("p",{"data-test":"review-preview-rating-incentivizedReview",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.received.free"}),":"]})," ",(0,p.jsx)(wi.Z,{id:"common.yes"})]}),c&&(0,p.jsxs)("p",{"data-test":"review-preview-rating-legoEmployee",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.lego.employee"}),":"]})," ",(0,p.jsx)(wi.Z,{id:"common.yes"})]})]}),(0,p.jsxs)(jl,{"data-test":"review-preview-about-me-fields",children:[(0,p.jsxs)("p",{"data-test":"review-preview-about-me-nickname",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.nickname"}),":"]})," ",m]}),(0,p.jsxs)("p",{"data-test":"review-preview-about-me-country",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.country"}),":"]})," ",u]}),(0,p.jsxs)("p",{"data-test":"review-preview-about-me-age",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.age"}),":"]})," ",(0,p.jsx)(wi.Z,{id:`product.review.age.${g.toLowerCase()}`})]}),v&&(0,p.jsxs)("p",{"data-test":"review-preview-about-me-bestDescription",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.best.description"}),":"]})," ",v]}),h&&(0,p.jsxs)("p",{"data-test":"review-preview-about-me-purchasedFor",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.purchased.for"}),":"]})," ",h]}),y&&(0,p.jsxs)("p",{"data-test":"review-preview-about-me-skillLevel",children:[(0,p.jsxs)(_i.Z,{size:"s0",weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.review.skill.level"}),":"]})," ",y]})]}),(0,p.jsx)(_i.Z,{tag:"p",size:"s1",weight:"semiBold","data-test":"review-preview-title",children:f}),(0,p.jsx)(gd.u,{lineHeight:"st-line-height-s0",fontSize:"st-font-size-s0",maxLines:8,text:k,"data-test":"review-preview-content"}),b&&(0,p.jsx)(fd,{"data-test":"review-preview-photo-gallery",children:b.map(((e,i)=>(0,p.jsx)(kd,{src:e,"data-test":`review-preview-photo-${i}`},e)))}),(0,p.jsx)(bd,{children:(0,p.jsx)(dt.ZP,{"data-test":"submit-preview",onClick:()=>{i()},disabled:n,children:n?(0,p.jsx)(qs.Z,{color:"white",size:"sm"}):(0,p.jsx)(wi.Z,{id:"product.review.submit.review"})})})]})},wd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"preview"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rating"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wouldRecommend"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"incentivizedReview"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"legoEmployee"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playExperience"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"buildExperience"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"valueForMoney"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"purchasedFor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"nickname"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ageRange"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bestDescription"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skillLevel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"country"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"photos"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fp"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"preview"},value:{kind:"Variable",name:{kind:"Name",value:"preview"}}},{kind:"ObjectField",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}},{kind:"ObjectField",name:{kind:"Name",value:"rating"},value:{kind:"Variable",name:{kind:"Name",value:"rating"}}},{kind:"ObjectField",name:{kind:"Name",value:"wouldRecommend"},value:{kind:"Variable",name:{kind:"Name",value:"wouldRecommend"}}},{kind:"ObjectField",name:{kind:"Name",value:"incentivizedReview"},value:{kind:"Variable",name:{kind:"Name",value:"incentivizedReview"}}},{kind:"ObjectField",name:{kind:"Name",value:"legoEmployee"},value:{kind:"Variable",name:{kind:"Name",value:"legoEmployee"}}},{kind:"ObjectField",name:{kind:"Name",value:"playExperience"},value:{kind:"Variable",name:{kind:"Name",value:"playExperience"}}},{kind:"ObjectField",name:{kind:"Name",value:"buildExperience"},value:{kind:"Variable",name:{kind:"Name",value:"buildExperience"}}},{kind:"ObjectField",name:{kind:"Name",value:"valueForMoney"},value:{kind:"Variable",name:{kind:"Name",value:"valueForMoney"}}},{kind:"ObjectField",name:{kind:"Name",value:"purchasedFor"},value:{kind:"Variable",name:{kind:"Name",value:"purchasedFor"}}},{kind:"ObjectField",name:{kind:"Name",value:"reviewContent"},value:{kind:"Variable",name:{kind:"Name",value:"reviewContent"}}},{kind:"ObjectField",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"ObjectField",name:{kind:"Name",value:"nickname"},value:{kind:"Variable",name:{kind:"Name",value:"nickname"}}},{kind:"ObjectField",name:{kind:"Name",value:"ageRange"},value:{kind:"Variable",name:{kind:"Name",value:"ageRange"}}},{kind:"ObjectField",name:{kind:"Name",value:"bestDescription"},value:{kind:"Variable",name:{kind:"Name",value:"bestDescription"}}},{kind:"ObjectField",name:{kind:"Name",value:"skillLevel"},value:{kind:"Variable",name:{kind:"Name",value:"skillLevel"}}},{kind:"ObjectField",name:{kind:"Name",value:"country"},value:{kind:"Variable",name:{kind:"Name",value:"country"}}},{kind:"ObjectField",name:{kind:"Name",value:"photos"},value:{kind:"Variable",name:{kind:"Name",value:"photos"}}},{kind:"ObjectField",name:{kind:"Name",value:"fp"},value:{kind:"Variable",name:{kind:"Name",value:"fp"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"preview"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formErrors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"field"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1328,source:{body:"\n  mutation SubmitReview(\n    $preview: Boolean!\n    $productCode: String!\n    $rating: Int!\n    $wouldRecommend: Boolean!\n    $incentivizedReview: Boolean!\n    $legoEmployee: Boolean!\n    $playExperience: Int\n    $buildExperience: Int\n    $valueForMoney: Int\n    $purchasedFor: String\n    $reviewContent: String!\n    $title: String!\n    $nickname: String!\n    $ageRange: String!\n    $bestDescription: String\n    $skillLevel: String\n    $country: String\n    $photos: [String!]\n    $fp: String!\n  ) {\n    submitReview(\n      input: {\n        preview: $preview\n        productCode: $productCode\n        rating: $rating\n        wouldRecommend: $wouldRecommend\n        incentivizedReview: $incentivizedReview\n        legoEmployee: $legoEmployee\n        playExperience: $playExperience\n        buildExperience: $buildExperience\n        valueForMoney: $valueForMoney\n        purchasedFor: $purchasedFor\n        reviewContent: $reviewContent\n        title: $title\n        nickname: $nickname\n        ageRange: $ageRange\n        bestDescription: $bestDescription\n        skillLevel: $skillLevel\n        country: $country\n        photos: $photos\n        fp: $fp\n      }\n    ) {\n      preview\n      success\n      formErrors {\n        field\n        message\n        code\n      }\n      error {\n        message\n        code\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var _d=t(23003);const Nd=G.ZP.div.withConfig({displayName:"SubmissionContainerstyles__Header",componentId:"sc-1jwr9wc-0"})(["margin-bottom:",";padding:",";padding-bottom:0;display:flex;align-items:center;",""],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("sm")),(e=>e.theme.media.max("small")((0,G.iv)(["margin:0;"])))),Sd=G.ZP.div.withConfig({displayName:"SubmissionContainerstyles__Footer",componentId:"sc-1jwr9wc-1"})(["padding:"," ",";display:flex;",""],(e=>e.theme.sizing("sm")),(e=>e.theme.sizing("sm")),(e=>e.theme.media.max("small")((0,G.iv)(["flex-direction:column;align-items:flex-start;"])))),Pd=(0,G.ZP)(zi.Z).withConfig({displayName:"SubmissionContainerstyles__StyledLink",componentId:"sc-1jwr9wc-2"})(["margin-right:",";text-transform:uppercase;"],(e=>e.theme.sizing("xs"))),jd=(0,G.ZP)(mt.ZP).withConfig({displayName:"SubmissionContainerstyles__Img",componentId:"sc-1jwr9wc-3"})(["max-width:calc(50% - ",");margin-right:",";"," ",""],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs")),(e=>e.theme.media.max("small")((0,G.iv)(["width:",";"],(0,B.hO)(125)))),(e=>e.theme.media.max("small")((0,G.iv)(["margin:0;"])))),Cd=G.ZP.div.withConfig({displayName:"SubmissionContainerstyles__Wrapper",componentId:"sc-1jwr9wc-4"})(["border-top:1px solid ",";border-bottom:1px solid ",";padding:"," 0;"],(e=>e.theme.color("grey_light")),(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("sm"))),Id=G.ZP.div.withConfig({displayName:"SubmissionContainerstyles__ContentWrapper",componentId:"sc-1jwr9wc-5"})(["position:relative;width:100%;height:100%;",";"],(e=>e.theme.media.min("medium")((0,G.iv)(["min-height:80vh;width:",";"],(0,B.hO)(500))))),Td=G.ZP.div.withConfig({displayName:"SubmissionContainerstyles__CentreSpinner",componentId:"sc-1jwr9wc-6"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);"]),Od=G.ZP.div.withConfig({displayName:"SubmissionContainerstyles__NotifySubmitWrapper",componentId:"sc-1jwr9wc-7"})(["padding:"," ",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.sizing("xl"))),Ed=(0,G.ZP)(_i.Z).withConfig({displayName:"SubmissionContainerstyles__NotifySubmitHeader",componentId:"sc-1jwr9wc-8"})(["margin:0;"]),Rd=(0,G.ZP)(Zi.Z).withConfig({displayName:"SubmissionContainerstyles__StyledIcon",componentId:"sc-1jwr9wc-9"})(["display:inline-block;vertical-align:middle;color:",";border-radius:50%;border:2px solid ",";background-color:",";padding:",";height:",";width:",";margin-right:",";"],(e=>e.theme.color("white")),(e=>e.theme.color("white")),(e=>e.theme.color(e.hasError?"red":"green")),(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("xxs"))),Fd=(0,G.ZP)(dt.ZP).withConfig({displayName:"SubmissionContainerstyles__NotifySubmitButton",componentId:"sc-1jwr9wc-10"})(["margin-left:auto;display:block;padding:"," ",";"],(e=>e.theme.sizing("3xs")),(e=>e.theme.sizing("ms"))),Ad=G.ZP.div.withConfig({displayName:"SubmissionContainerstyles__ToastWrapper",componentId:"sc-1jwr9wc-11"})(["position:absolute;left:0;right:0;top:0;bottom:0;"]),Dd=(0,G.ZP)(_d.Z).withConfig({displayName:"SubmissionContainerstyles__StyledToastHeader",componentId:"sc-1jwr9wc-12"})(["position:sticky;top:0;left:0;width:100%;",""],(e=>e.theme.zIndex("medium")));function Zd(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Vd(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Zd(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Zd(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const zd=["rating","about","review","photo"],Ld=zd.length,Md=({fields:e,productCode:i,productName:t,primaryImage:a,expires:r,signature:o})=>{var s,l;const{notification:d,displayNotification:c}=(0,n.useContext)(fl.Z),{submitReviewModalOpen:m,closeSubmitReviewModal:u}=(0,n.useContext)(Kl),g=(0,O.v)(),v=(0,I.T)(),{triggerEvent:h}=(0,R.FG)(),y=Ml.useSelector((e=>e.value)),f=Ml.useActorRef(),[k,{loading:w,data:_,error:N}]=(0,b.Db)(wd);(0,n.useEffect)((()=>{m&&"open"===y&&f.send({type:"NEXT_STEP"})}),[m,y,f]);const S=(0,n.useRef)(null);(0,yl.T)((()=>{zd.includes(y)&&S.current&&S.current.scrollIntoView&&S.current.scrollIntoView(!0)}),[y]);const P=(0,n.useRef)(""),j=x.Z.iovation.scriptUrl;(0,E.F)((()=>{window.io_install_stm=!1,window.io_exclude_stm=12,window.io_install_flash=!1,window.io_enable_rip=!0}));const[C,T]=(0,kl.Z)(j),F=()=>{if(C&&""===P.current){const e=(0,bl.Z)()||"";P.current=encodeURIComponent(e),oe&&(oe.fp=P.current)}};(0,n.useEffect)((()=>{F()}),[C,T]);const A=(0,n.useRef)({wouldRecommend:"",incentivizedReview:"no",legoEmployee:"no",rating:"",playExperience:"",valueForMoney:"",buildExperience:""}),{0:D,1:Z}=(0,n.useState)({}),V=(0,n.useRef)({nickname:(null===e||void 0===e||null===(s=e.nickname)||void 0===s?void 0:s.value)||(null===g||void 0===g?void 0:g.username)||"",ageRange:"",country:"",bestDescription:"",purchasedFor:"",skillLevel:""}),{0:z,1:L}=(0,n.useState)({}),M=(0,n.useRef)({title:"",reviewContent:""}),{0:G,1:B}=(0,n.useState)({}),$=(0,n.useRef)({consent:!1,photoUrls:[]});(0,n.useEffect)((()=>{if(!w&&null!==_&&void 0!==_&&_.submitReview){const{success:e,preview:i,formErrors:t,error:n}=_.submitReview;if(e&&i)return void f.send({type:"NEXT_STEP"});if(e&&!1===i)return f.send({type:"SUCCESS"}),void h({label:"pdp-reviews-submit",eventType:["custom"]});if(n&&c({type:"error",message:n.message,isModalOpen:!0}),t){const e={},i={},n={};t.forEach((t=>{void 0!==A.current[t.field]&&(e[t.field]=t.message),void 0!==V.current[t.field]&&(i[t.field]=t.message),void 0!==M.current[t.field]&&(n[t.field]=t.message)})),Z(e),L(i),B(n);const a=Object.keys(e).length,r=Object.keys(i).length,o=Object.keys(n).length;a?f.send({type:"EDIT_RATING"}):r?f.send({type:"EDIT_ABOUT"}):o&&f.send({type:"EDIT_REVIEW"})}}}),[_,w,N,f,h,c]);const{rating:U,playExperience:W,valueForMoney:H,buildExperience:q}=A.current,{reviewContent:Y,title:Q}=M.current,{nickname:K,ageRange:X,country:J,bestDescription:ee,purchasedFor:ie,skillLevel:te}=V.current,ne="yes"===A.current.wouldRecommend,ae="yes"===A.current.incentivizedReview,re="yes"===A.current.legoEmployee,oe={productCode:i,rating:Number(U),wouldRecommend:ne,incentivizedReview:ae,legoEmployee:re,playExperience:"number"===typeof W?W:null,valueForMoney:"number"===typeof H?H:null,buildExperience:"number"===typeof q?q:null,purchasedFor:ie,reviewContent:Y,title:Q,nickname:K,ageRange:X,bestDescription:ee,skillLevel:te,country:J,photos:$.current.photoUrls,fp:P.current},se=(null===(l=e.country.options.find((e=>e.value===J)))||void 0===l?void 0:l.label)||"";return(0,p.jsxs)(p.Fragment,{children:[(null===d||void 0===d?void 0:d.isVisible)&&(null===d||void 0===d?void 0:d.isModalOpen)&&(0,p.jsx)(Ad,{children:(0,p.jsx)(Dd,{type:d.type,message:d.message})}),"preview"===y&&(0,p.jsx)(xd,{backToEdit:()=>f.send({type:"BACK_TO_EDIT"}),submitReview:()=>{F(),k({variables:Vd(Vd({},oe),{},{preview:!1,agreedtotermsandconditions:!0})}).catch((()=>{c({type:"error",message:"product.review.error",isModalOpen:!0})}))},reviewFields:Vd(Vd({},oe),{},{countryLabel:se}),submissionLoading:w}),"complete"===y&&(0,p.jsxs)(Od,{children:[(0,p.jsxs)(Ed,{tag:"h3",size:"s0",weight:"bold",children:[(0,p.jsx)(Rd,{type:"tick"}),(0,p.jsx)(wi.Z,{id:"product.review.successful.submission.title"})]}),(0,p.jsx)(_i.Z,{tag:"p",size:"sm",children:(0,p.jsx)(wi.Z,{id:"product.review.successful.submission.text"})}),(0,p.jsx)(Fd,{onClick:()=>{u()},"data-test":"review-success-confirm-button",children:(0,p.jsx)(wi.Z,{id:"product.review.successful.submission.cta"})})]}),"preview"!==y&&"complete"!==y&&(0,p.jsxs)(Id,{ref:S,children:[(0,p.jsxs)(Nd,{children:[(0,p.jsx)(jd,{src:a,alt:""}),(0,p.jsx)(_i.Z,{size:"s2",weight:"semiBold",children:t})]}),(0,p.jsxs)(Cd,{children:[(0,p.jsx)(pd,{changeStep:()=>f.send({type:"EDIT_RATING"}),isActive:"rating"===y,hasSuccess:zd.findIndex((e=>e===y))>0,step:1,title:v("product.review.step.rating.title"),totalSteps:Ld,stepName:"rating"}),(0,p.jsx)(Gl,{currentState:y,errors:D,fields:e,valuesRef:A}),(0,p.jsx)(pd,{changeStep:()=>f.send({type:"EDIT_ABOUT"}),isActive:"about"===y,hasSuccess:zd.findIndex((e=>e===y))>1,step:2,title:v("product.review.step.about.title"),totalSteps:Ld,stepName:"about"}),(0,p.jsx)(Wl,{currentState:y,errors:z,fields:e,valuesRef:V}),(0,p.jsx)(pd,{changeStep:()=>f.send({type:"EDIT_REVIEW"}),isActive:"review"===y,hasSuccess:zd.findIndex((e=>e===y))>2,step:3,title:v("product.review.step.review.title"),totalSteps:Ld,stepName:"review"}),(0,p.jsx)(Hl,{currentState:y,errors:G,fields:e,valuesRef:M}),(0,p.jsx)(pd,{changeStep:()=>f.send({type:"NEXT_STEP"}),isActive:"photo"===y,hasSuccess:zd.findIndex((e=>e===y))>3,step:4,title:v("product.review.step.photo.title"),totalSteps:Ld,stepName:"photo"}),(0,p.jsx)(ld,{currentState:y,errors:G,fields:e,valuesRef:$,expires:r,signature:o,productCode:i,submissionLoading:w,submitPreview:()=>{F(),k({variables:Vd(Vd({},oe),{},{preview:!0,agreedtotermsandconditions:!0})}).catch((()=>{c({type:"error",message:"product.review.error",isModalOpen:!0})}))}})]}),(0,p.jsxs)(Sd,{children:[(0,p.jsx)(Pd,{to:$r.y.BV_REVIEW_TERMS_AND_CONDITIONS,target:"_blank",rel:"noopener noreferrer","data-test":"review-terms-conditions-link",children:(0,p.jsx)(wi.Z,{id:"product.review.terms"})}),(0,p.jsx)(Pd,{to:$r.y.BV_REVIEW_GUIDELINES,target:"_blank",rel:"noopener noreferrer","data-test":"review-guidelines-link",children:(0,p.jsx)(wi.Z,{id:"product.review.guidelines"})})]})]})]})},Gd={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"reviewFields"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewFields"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"BVAuth"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expires"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:363,source:{body:"\n  query reviewFields($productCode: String!) {\n    reviewFields(productCode: $productCode) {\n      error {\n        message\n        code\n      }\n      fields {\n        id\n        value\n        label\n        options {\n          label\n          value\n        }\n        type\n        required\n      }\n      BVAuth {\n        signature\n        expires\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Bd=e=>{var i,t,a;const{productCode:r,productName:o,primaryImage:s}=e,{closeSubmitReviewModal:l}=(0,n.useContext)(Kl),{data:d,loading:c,error:m}=(0,b.aM)(Gd,{variables:{productCode:r},fetchPolicy:"network-only"});if(!r)return null;if(c)return(0,p.jsx)(Id,{children:(0,p.jsx)(Td,{children:(0,p.jsx)(qs.Z,{size:3,color:"yellow"})})});if(m||null!==d&&void 0!==d&&null!==(i=d.reviewFields)&&void 0!==i&&i.error){var u,g,v,h;const e="ERROR_DUPLICATE_SUBMISSION"!==(null===d||void 0===d||null===(u=d.reviewFields)||void 0===u||null===(g=u.error)||void 0===g?void 0:g.code);return(0,p.jsxs)(Od,{children:[e&&(0,p.jsxs)(Ed,{tag:"p",size:"s0",weight:"bold",children:[(0,p.jsx)(Rd,{type:"cross",hasError:!0}),(0,p.jsx)(wi.Z,{id:"product.review.error"})]}),(0,p.jsx)(_i.Z,{tag:"p",size:"sm",children:m?(0,p.jsx)(wi.Z,{id:"product.review.error"}):null===d||void 0===d||null===(v=d.reviewFields)||void 0===v||null===(h=v.error)||void 0===h?void 0:h.message}),(0,p.jsx)(Fd,{onClick:()=>{l()},children:(0,p.jsx)(wi.Z,{id:"common.close"})})]})}if(null===d||void 0===d||null===(t=d.reviewFields)||void 0===t||null===(a=t.fields)||void 0===a||!a.length)return null;const y=Ul(d.reviewFields);return(0,p.jsx)(Ml.Provider,{children:(0,p.jsx)(Md,{productCode:r,productName:o,primaryImage:s,fields:y,signature:d.reviewFields.BVAuth.signature,expires:d.reviewFields.BVAuth.expires,user:d.reviewFields.BVAuth.user})})};var $d=({productCode:e,productName:i,primaryImage:t})=>{const{submitReviewModalOpen:a,openSubmitReviewModal:r,closeSubmitReviewModal:o}=(0,n.useContext)(Kl),s=(0,I.T)();return(0,p.jsx)(Ln.Z,{isOpen:a,onRequestClose:o,renderTrigger:({onRef:e})=>(0,p.jsx)(dt.ZP,{onClick:()=>{r()},innerRef:e,type:"primary","data-test":"submit-review",children:(0,p.jsx)(wi.Z,{id:"product.reviews.submit"})}),label:s("product.reviews.submit"),closeLabel:s("element.modal.closeLabel"),children:(0,p.jsx)(Bd,{productCode:e,productName:i,primaryImage:t})})};var Ud=function({productCode:e,productName:i,primaryImage:t}){return(0,p.jsx)(cl,{all:"xs",children:(0,p.jsx)($d,{productCode:e,productName:i,primaryImage:t})})};const Wd=(0,G.ZP)(Mo.Z).withConfig({displayName:"OverallRating__StyledRatingBar",componentId:"h1pual-0"})(["margin-right:"," 0;"],(e=>e.theme.sizing("4xs")));var Hd=({overallRating:e,totalResults:i})=>{const t=(0,I.T)();return(0,p.jsxs)(gl,{bottom:"xs",top:"xs",children:[e?(0,p.jsx)(Wd,{size:"md",mode:"display",type:"stars",label:t("product.details.reviews.overallRating"),rating:e}):null,i?(0,p.jsx)(tl.Z,{left:"xxs",children:(0,p.jsxs)(_i.Z,{"data-test":"product-reviews-overview-label",children:[`(${i} `,(0,p.jsx)(wi.Z,{id:"product.details.reviews.reviews"}),")"]})}):null]})},qd=t(10388);const Yd=(e,i)=>e/i*100||0;var Qd=({starRating:e,toggleFilter:i,reviewFilters:t,totalResults:n})=>(0,p.jsxs)(tl.Z,{right:"ms",children:[(0,p.jsx)(ll,{size:"s0",tag:"h3",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.ratings"})}),e.map(((e,a)=>{const r=nn()(e,(e=>e.value))||5-a,o=nn()(e,(e=>e.count))||0,s=0===o;return(0,p.jsxs)(rl,{"data-test":`pdp-reviews-${r}-percentage-bar`,disabled:s,onClick:()=>{s||i(r)},selected:!s&&t.includes(r),children:[(0,p.jsxs)(_i.Z,{children:[5-a+" ",(0,p.jsx)(wi.Z,{id:"product.details.reviews.stars"})]}),(0,p.jsx)(ol,{children:(0,p.jsx)(qd.Z,{fill:Yd(o,n)})}),`${o} `,(0,p.jsx)(wi.Z,{id:"product.details.reviews.reviews"})]},e.value)}))]});class Kd extends n.Component{constructor(...e){super(...e),(0,r.Z)(this,"toggleFilter",(e=>{this.props.reviewFilters.includes(e)?this.props.removeReviewFilter(e):this.props.addReviewFilter(e)}))}render(){const{statistics:{overallRating:e,count:i=0,wouldRecommendPercent:t,overallPlayExperience:n,overallDifficulty:a,valueForMoney:r,ratingDistribution:o=[]},reviewFilters:s,productCode:l,productName:d,primaryImage:c,isOver16yo:m}=this.props,u=Array.from({length:5},((e,i)=>5-i)).map((e=>(null===o||void 0===o?void 0:o.find((i=>i.value===e)))||{value:e,count:0}));return(0,p.jsxs)(Jl,{children:[0===i&&m&&(0,p.jsxs)(pl,{children:[(0,p.jsx)(_i.Z,{size:"sm1",children:(0,p.jsx)(wi.Z,{id:"product.details.reviewsFirstSubmit"})}),(0,p.jsx)(tl.Z,{top:"xs",left:"xs"}),(0,p.jsx)($d,{productCode:l,productName:d,primaryImage:c})]}),0!==i&&(0,p.jsxs)(ul,{children:[(0,p.jsxs)(vl,{children:[(0,p.jsx)(Hd,{overallRating:e,totalResults:i}),t?(0,p.jsxs)(_i.Z,{color:"green",children:[`${t}% `,(0,p.jsx)(wi.Z,{id:"product.details.reviews.wouldRecommendMessage"})]}):null,(0,p.jsxs)(sl,{top:"ms",bottom:"xs",children:[(0,p.jsx)(Qd,{starRating:u,toggleFilter:this.toggleFilter,reviewFilters:s,totalResults:i}),(0,p.jsx)(hl,{overallPlayExperience:n,overallDifficulty:a,valueForMoney:r})]})]}),m&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ud,{productName:d,primaryImage:c,productCode:l}),(0,p.jsx)(ml,{children:(0,p.jsx)(_i.Z,{size:"sm1",children:(0,p.jsx)(it.Z,{id:"product.details.reviews.disclaimer"})})})]})]})]})}}var Xd=t(53978),Jd=t(10397);const ec={DATE_NEWEST_FIRST:"DATE_NEWEST_FIRST",DATE_OLDEST_FIRST:"DATE_OLDEST_FIRST",HELPFULNESS_HIGH_TO_LOW:"HELPFULNESS_HIGH_TO_LOW",MOST_RELEVANT:"MOST_RELEVANT",PHOTO_REVIEWS_FIRST:"PHOTO_REVIEWS_FIRST",RATING_HIGH_TO_LOW:"RATING_HIGH_TO_LOW",RATING_LOW_TO_HIGH:"RATING_LOW_TO_HIGH",VIDEO_REVIEWS_FIRST:"VIDEO_REVIEWS_FIRST"},ic=G.ZP.div.withConfig({displayName:"ProductReviewsDisplaystyles__Filters",componentId:"sc-1emzm5k-0"})(["display:flex;flex-wrap:wrap;align-items:center;"]),tc=G.ZP.div.withConfig({displayName:"ProductReviewsDisplaystyles__SelectWrapper",componentId:"sc-1emzm5k-1"})(["padding-bottom:",";display:flex;"],(e=>e.theme.sizing("xs")));var nc=t(76103),ac=t(80308),rc=t(71388);const oc=G.ZP.div.withConfig({displayName:"ProductReviewHelpfulness__Helpfulness",componentId:"vk7wrd-0"})(["display:flex;align-items:center;"]),{POSITIVE:sc,NEGATIVE:lc}=Ds;var dc=({positiveHelpfulnessSubmitted:e,negativeHelpfulnessSubmitted:i,reviewId:t,positiveHelpfulnessVotes:n,negativeHelpfulnessVotes:a,handleThumbClick:r})=>"number"!==typeof n||"number"!==typeof a?null:(0,p.jsxs)(oc,{children:[(0,p.jsx)(Ts,{children:i=>(0,p.jsx)(rc.Z,{direction:"up",onClick:()=>{e||t&&r(i,t,sc)},isActive:e,value:n})}),(0,p.jsx)(Ts,{children:e=>(0,p.jsx)(rc.Z,{direction:"down",onClick:()=>{i||t&&r(e,t,lc)},isActive:i,value:a})})]});const cc=G.ZP.div.withConfig({displayName:"ProductReviewInfostyles__InfoWrapper",componentId:"sc-1fu6ff-0"})(["",";"],(e=>e.theme.layout.container({direction:{small:"column",medium:"row",large:"row"}}))),mc=G.ZP.div.withConfig({displayName:"ProductReviewInfostyles__Info",componentId:"sc-1fu6ff-1"})(["",";overflow:hidden;"],(({theme:e})=>e.media.min("small")((0,G.iv)(["flex:1;margin-right:",";"],(e=>e.theme.sizing("xl")))))),uc=(0,G.ZP)(dt.ZP).withConfig({displayName:"ProductReviewInfostyles__ReadMore",componentId:"sc-1fu6ff-2"})(["padding:0;margin-bottom:",";",";"],(e=>e.theme.sizing("sm")),(({cropped:e,theme:i})=>i.media.min("medium")((0,G.iv)(["",";"],e?"display:block":"display: none"))));var pc=t(55624),gc=t(98572);const vc=G.ZP.article.withConfig({displayName:"ProductReviewResponsesstyles__Response",componentId:"sc-3h9siw-0"})(["background-color:",";padding:",";margin-bottom:",";"],(e=>e.theme.color("yellow_extra_light")),(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),hc=G.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseHeader",componentId:"sc-3h9siw-1"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:space-between;margin-bottom:",";",";"],(e=>e.theme.sizing("xxs")),(({theme:e})=>e.media.min("medium")((0,G.iv)(["flex-direction:row;align-items:center;"])))),yc=(0,G.ZP)(gc.Z).attrs((()=>({width:25}))).withConfig({displayName:"ProductReviewResponsesstyles__LegoLogoStyled",componentId:"sc-3h9siw-2"})(["margin-right:",";"],(e=>e.theme.sizing("xxs"))),fc=G.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseTitleWrapper",componentId:"sc-3h9siw-3"})(["display:flex;align-items:center;"]),kc=(0,G.ZP)(_i.Z).withConfig({displayName:"ProductReviewResponsesstyles__ResponseTitle",componentId:"sc-3h9siw-4"})(["margin-top:0;margin-bottom:0;"]),bc=G.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseDate",componentId:"sc-3h9siw-5"})(["justify-self:space-between;"]),xc=G.ZP.div.withConfig({displayName:"ProductReviewResponsesstyles__ResponseAuthor",componentId:"sc-3h9siw-6"})(["margin-bottom:",";"],(e=>e.theme.sizing("sm")));class wc extends n.Component{render(){const{responses:e}=this.props;return e.map((e=>{if(!e)return null;const{content:i,date:t,department:n,name:a}=e;return(0,p.jsxs)(vc,{children:[(0,p.jsxs)(hc,{children:[(0,p.jsxs)(fc,{children:[(0,p.jsx)(yc,{}),(0,p.jsx)(kc,{tag:"h3",weight:"semiBold",size:"s1",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.responseTitle"})})]}),(0,p.jsx)(bc,{children:(0,p.jsx)(_i.Z,{size:"sm1",children:t})})]}),(0,p.jsx)(xc,{children:(0,p.jsxs)(_i.Z,{size:"sm1",children:[a,", ",n]})}),(0,p.jsx)(_i.Z,{itemProp:"description",children:i})]},`${t}:${i}`)}))}}var _c=wc;const Nc=G.ZP.div.withConfig({displayName:"ProductReviewExtraInfostyles__MoreInfo",componentId:"sc-198h28e-0"})(["",";",";"],(({theme:e})=>e.media.min("small")((0,G.iv)(["width:",";overflow:hidden;"],e.sizing(4.5)))),(({expanded:e,theme:i})=>i.media.max("medium")((0,G.iv)(["",";"],e||"display: none")))),Sc=({expanded:e,playExperience:i,valueForMoney:t,buildExperience:n})=>{const a=(0,I.T)();return(0,p.jsxs)(Nc,{expanded:e,children:[i&&(0,p.jsx)(Mo.Z,{mode:"display",type:"bricks",label:a("product.details.reviews.playExperience"),rating:i}),n&&(0,p.jsx)(Mo.Z,{mode:"display",type:"bricks",label:a("product.details.reviews.buildingExperience"),rating:n}),t&&(0,p.jsx)(Mo.Z,{mode:"display",type:"bricks",label:a("product.details.reviews.valueForMoney"),rating:t})]})};var Pc=t(37418);const jc=G.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__PhotoBox",componentId:"ldhcxj-0"})(["padding-bottom:",";margin-bottom:",";width:100%;display:flex;flex-wrap:nowrap;overflow-x:auto;"],(e=>e.theme.sizing("xs")),(e=>e.theme.sizing("xs"))),Cc=(0,G.ZP)(dt.ZP).withConfig({displayName:"ProductReviewPhotosstyles__ThumbnailButton",componentId:"ldhcxj-1"})(["flex:0 0 auto;padding:0;margin-right:",";"],(e=>e.theme.sizing("md"))),Ic=(0,G.ZP)(Pc.Z).withConfig({displayName:"ProductReviewPhotosstyles__Thumbnail",componentId:"ldhcxj-2"})(["border:1px solid ",";height:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xxl"))),Tc=G.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__ImgContainer",componentId:"ldhcxj-3"})(["display:flex;justify-content:center;align-items:center;"]),Oc=G.ZP.img.withConfig({displayName:"ProductReviewPhotosstyles__Img",componentId:"ldhcxj-4"})(["max-width:75vw;max-height:75vh;"]),Ec=G.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__LoadingContainer",componentId:"ldhcxj-5"})(["padding:",";"],(e=>e.theme.sizing("xxl"))),Rc=G.ZP.div.withConfig({displayName:"ProductReviewPhotosstyles__ModalContent",componentId:"ldhcxj-6"})(["padding:",";"],(e=>e.theme.sizing("sm")));var Fc=({customerPhotos:e})=>{const{0:i,1:t}=(0,n.useState)(!1),{0:a,1:r}=(0,n.useState)(!0),{0:o,1:s}=(0,n.useState)(null),{triggerEvent:l}=(0,R.FG)();return(0,p.jsxs)(jc,{children:[e.map((e=>e&&(0,p.jsx)(Cc,{onClick:()=>(e=>{t(!0),r(!1),s(e),l({label:"pdpReviewImageClick",eventType:["custom"]})})(e),type:"ghost","aria-label":"review-image","aria-disabled":!0,"data-test":"pdp-review-image-button",children:(0,p.jsx)(Ic,{srcset:[{url:e.thumbnail}],alt:""})},e.thumbnail))),(0,p.jsx)(Ln.Z,{isOpen:i,onRequestClose:()=>{t(!1)},label:"",closeLabel:"close photo",children:a?(0,p.jsx)(Rc,{children:(0,p.jsx)(Ec,{children:(0,p.jsx)(qs.Z,{color:"yellow",size:3})})}):(0,p.jsx)(Rc,{children:(0,p.jsx)(Tc,{children:o&&(0,p.jsx)(Oc,{src:o.full,alt:""})})})})]})};const Ac=G.ZP.div.withConfig({displayName:"ProductReviewInfo__LineClamp",componentId:"sc-1w3xs7u-0"})(["margin-bottom:",";max-height:",";overflow:hidden;position:relative;width:100%;&:after{content:'';position:absolute;top:6rem;width:100%;height:"," ",";}"],(e=>e.theme.sizing("xs")),(({maxHeightShown:e})=>e?"auto":"7.5rem"),(e=>e.theme.lineHeight("s0")),(({cropped:e,theme:i})=>e&&(0,G.iv)(["background:linear-gradient( rgba(255,255,255,0) 0%,"," );"],i.color("white"))));class Dc extends n.Component{constructor(...e){super(...e),(0,r.Z)(this,"state",{contentShown:!1,cropped:!1}),(0,r.Z)(this,"reviewContentRef",(0,n.createRef)()),(0,r.Z)(this,"lineClampRef",(0,n.createRef)()),(0,r.Z)(this,"handleContentShown",(()=>{this.setState({contentShown:!this.state.contentShown})})),(0,r.Z)(this,"cropContent",(()=>{const e=this.reviewContentRef.current&&this.reviewContentRef.current.offsetHeight,i=this.lineClampRef.current&&this.lineClampRef.current.offsetHeight;if(!e||!i)return;e>i&&!this.state.cropped&&this.setState({cropped:!0})}))}componentDidMount(){this.cropContent()}render(){const{id:e,content:i,purchasedFor:t,playExperience:n,valueForMoney:a,customerPhotos:r,responses:o,buildExperience:s}=this.props;if(!i||!e)return null;const{contentShown:l,cropped:d}=this.state;return(0,p.jsxs)(cc,{children:[(0,p.jsxs)(mc,{children:[t&&(0,p.jsxs)(_i.Z,{className:pc.productReviewText,tag:"p",children:[(0,p.jsxs)(_i.Z,{weight:"semiBold",children:[(0,p.jsx)(wi.Z,{id:"product.details.reviews.purchasedFor"}),":"]}),(0,p.jsxs)(_i.Z,{children:[" ",t]})]}),(0,p.jsx)(xl.Z,{children:(0,p.jsx)(Ac,{ref:this.lineClampRef,maxHeightShown:l,cropped:d&&!l,children:(0,p.jsx)("div",{ref:this.reviewContentRef,children:(0,p.jsx)(_i.Z,{size:"s1",itemProp:"description",children:i})})})}),(0,p.jsx)(uc,{cropped:d,type:"ghost",onClick:()=>this.handleContentShown(),children:l?(0,p.jsx)(wi.Z,{id:"productDetails.reviews.showLess"}):(0,p.jsx)(wi.Z,{id:"productDetails.reviews.readMore"})}),r.length>0&&(0,p.jsx)(Fc,{customerPhotos:r}),(0,p.jsx)(_c,{responses:o||[]})]}),(0,p.jsx)(Sc,{expanded:l,playExperience:n,valueForMoney:a,buildExperience:s})]})}}var Zc=Dc;function Vc(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function zc(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Vc(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vc(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var Lc=({review:e,productName:i})=>{var t,a;const{0:r,1:o}=(0,n.useState)(!1),{0:s,1:l}=(0,n.useState)(!1),{0:d,1:c}=(0,n.useState)((null===e||void 0===e||null===(t=e.helpfulnessVotes)||void 0===t?void 0:t.yes)||0),{0:m,1:u}=(0,n.useState)((null===e||void 0===e||null===(a=e.helpfulnessVotes)||void 0===a?void 0:a.no)||0);if(!e)return null;const{content:g,id:v}=e;if(!g||!v)return null;const{title:h="",rating:y=0,date:f="",userData:k}=e,b=(null===k||void 0===k?void 0:k.name)||"",x=(null===k||void 0===k?void 0:k.ageRange)||"";return(0,p.jsxs)("li",{className:pc.productReviewContainer,itemProp:"review",itemScope:!0,itemType:"http://schema.org/Review",children:[f&&(0,p.jsx)(_i.Z,{className:pc.productReviewText,tag:"p",children:(0,ac.Z)(new Date(f),"PPP")}),y&&(0,p.jsx)(Mo.Z,{mode:"display",type:"stars",rating:y}),(0,p.jsx)(_i.Z,{className:pc.productReviewText,tag:"p",size:"s1",weight:"semiBold",children:h}),(0,p.jsxs)(_i.Z,{className:pc.productReviewText,tag:"p",size:"sm1",children:[(0,p.jsx)("span",{itemProp:"author",children:b}),x&&` | ${x}`]}),e.wouldRecommend&&(0,p.jsx)(_i.Z,{className:pc.productReviewText,tag:"p",color:"green",weight:"bold",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.user.would.recommend"})}),e.incentivized&&(0,p.jsxs)("p",{className:pc.incentivizedWrapper,children:[(0,p.jsx)(Zi.Z,{className:pc.presentIcon,type:"present",width:26,height:30}),(0,p.jsx)(_i.Z,{className:pc.productReviewText,size:"sm1",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.incentivized"})})]}),(0,p.jsx)(Zc,zc({},e)),(0,p.jsx)(_i.Z,{className:pc.productReviewText,tag:"p",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.helpful.message"})}),(0,p.jsx)(dc,{reviewId:v,positiveHelpfulnessVotes:d,negativeHelpfulnessVotes:m,positiveHelpfulnessSubmitted:r,negativeHelpfulnessSubmitted:s,handleThumbClick:(e,i,t)=>{e({variables:{commentId:i,feedback:t}}).then((()=>{const{setHelpfulnessVotes:e,helpfulnessSubmitted:i,setHelpfulnessSubmitted:n,setOppositeHelpfulnessVotes:a,oppositeHelpfulnessSubmitted:d,setOppositeHelpfulnessSubmitted:m}=(e=>e.toUpperCase()===Ds.POSITIVE?{setHelpfulnessVotes:c,helpfulnessSubmitted:r,setHelpfulnessSubmitted:o,setOppositeHelpfulnessVotes:u,oppositeHelpfulnessSubmitted:s,setOppositeHelpfulnessSubmitted:l}:{setHelpfulnessVotes:u,helpfulnessSubmitted:s,setHelpfulnessSubmitted:l,setOppositeHelpfulnessVotes:c,oppositeHelpfulnessSubmitted:r,setOppositeHelpfulnessSubmitted:o})(t);e((e=>i?e-1:e+1)),d&&(a((e=>e-1)),m(!1)),n((e=>!e))}))}}),(0,p.jsxs)(nc.Z,{"aria-hidden":"true",children:[(0,p.jsxs)("span",{itemProp:"reviewRating",itemScope:!0,itemType:"http://schema.org/Rating",children:[(0,p.jsx)("span",{itemProp:"ratingValue",children:y}),(0,p.jsx)("span",{itemProp:"bestRating",children:"5"})]}),(0,p.jsx)("span",{itemProp:"name",children:i&&(0,p.jsx)(Lo.Z,{markup:i})}),f&&(0,p.jsx)("meta",{itemProp:"datePublished",content:(0,ac.Z)(new Date(f),"yyyy-MM-dd")})]})]},v)};const Mc=[{value:"DATE_NEWEST_FIRST",label:"dateNewestFirst"},{value:"DATE_OLDEST_FIRST",label:"dateOldestFirst"},{value:"RATING_HIGH_TO_LOW",label:"ratingHighToLow"},{value:"RATING_LOW_TO_HIGH",label:"ratingLowToHigh"},{value:"HELPFULNESS_HIGH_TO_LOW",label:"helpfulnessHighToLow"},{value:"MOST_RELEVANT",label:"mostRelevant"}],Gc={1:"product.details.reviews.OneStarRatings",2:"product.details.reviews.TwoStarRatings",3:"product.details.reviews.ThreeStarRatings",4:"product.details.reviews.FourStarRatings",5:"product.details.reviews.FiveStarRatings"};var Bc=e=>{const i=(0,I.T)(),{productName:t,reviews:a,statistics:r,productReviewsRef:o}=e,s=r.count||0;return(0,p.jsx)(n.Fragment,{children:0!==s&&(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(_i.Z,{tag:"p",size:"s1",weight:"semiBold",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.reviews"})}),(0,p.jsx)(tc,{children:(0,p.jsx)(Fl.Z,{id:"pdp-reviews-select",label:i("product.details.reviews.sortBy"),hideLabel:!0,initialValue:e.reviewSortOrder,value:e.reviewSortOrder,options:Mc.map((({value:e,label:t})=>({value:e,label:i(`product.details.reviews.${t}`)}))),onChange:i=>{const{value:t}=i.target;var n;(n=t)&&"undefined"!==typeof n&&n in ec&&e.onSortChange(t)}})}),e.reviewFilters&&e.reviewFilters.length>0&&(0,p.jsxs)(tl.Z,{bottom:"md",children:[(0,p.jsx)(_i.Z,{size:"sm1",children:(0,p.jsx)(wi.Z,{id:"product.details.reviews.activeFilters"})}),(0,p.jsxs)(ic,{children:[e.reviewFilters.map((i=>(0,p.jsx)(tl.Z,{right:"xs",top:"xs",children:(0,p.jsx)(Xd.Z,{"data-test":`pdp-reviews-${i}-filter-tag`,type:"secondary",onClick:()=>e.removeReviewFilter(i),children:(0,p.jsx)(wi.Z,{id:Gc[i]})})},i))),e.reviewFilters.length>0&&(0,p.jsx)(tl.Z,{top:"xs",children:(0,p.jsx)(Xd.Z,{"data-test":"pdp-reviews-clear-filter-tag",type:"primary",onClick:e.clearReviewFilters,children:i("product.details.reviews.clearFilters")})})]})]}),(0,p.jsx)("ul",{ref:o,children:a.map((e=>e&&(0,p.jsx)(Lc,{review:e,productName:t},e.id)))}),(0,p.jsx)(tl.Z,{all:"sm",children:(0,p.jsx)(Jd.ZP,{hideShowAll:!0,hideBackToTop:!0,currentPage:e.currentPage,totalPages:Math.ceil(s/e.reviewsPerPage),onPageChange:e.onPageChange})})]})})};const $c=e=>{const{productCode:i,productName:t,isOver16yo:a,primaryImage:r}=e,{addReviewFilter:o,removeReviewFilter:s,clearFilters:l,handleSortChange:d,handlePageChange:c,reviews:m,statistics:u,loading:g,error:v,filters:h,currentPage:y,sortOrder:f}=(0,n.useContext)(Vs),k=(0,n.useRef)(null);if(g)return(0,p.jsx)(Js,{children:(0,p.jsx)(qs.Z,{})});if(v)return null;const b=null===u||void 0===u?void 0:u.count;return a||b?(0,p.jsxs)(tt,{"data-test":"product-reviews",children:[(0,p.jsx)(Kd,{productCode:i,productName:t,primaryImage:r,statistics:u,addReviewFilter:o,removeReviewFilter:s,reviewFilters:h,isOver16yo:a}),(0,p.jsx)(Bc,{productReviewsRef:k,isLoading:g,reviews:m,statistics:u,reviewFilters:h,clearReviewFilters:l,removeReviewFilter:s,onSortChange:d,reviewSortOrder:f,onPageChange:e=>{c(e),(()=>{if(k.current){const e=k.current.getBoundingClientRect().top+window.pageYOffset-200;window.scrollTo(0,e)}})()},currentPage:y,reviewsPerPage:4,productName:t})]}):null},Uc=({isOver16yo:e,primaryImage:i,productCode:t,productName:a,accordionRef:r,reviewsCount:o,reviewsRating:s})=>{const{triggerEvent:l}=(0,R.FG)(),{getProductReviews:d,lazyQueryCalled:c,reviewsActive:m,setReviewsActive:u}=(0,n.useContext)(Vs);return(0,p.jsx)(Hs,{id:"pdp-reviews",title:"product.reviews.title",titleSuffix:(0,p.jsx)(Ho,{productName:a,reviewsCount:o,reviewsRating:s,isOver16yo:e,showLabel:!0,showOnlyText:!0}),ref:r,active:m,onToggle:e=>(e=>{m||(l({label:"pdpCustomerReviewsOpen",eventType:["custom"]}),c||d()),u(e)})(e),dataTestKey:"reviews",children:(0,p.jsx)($c,{productName:a,productCode:t,primaryImage:i,isOver16yo:e})})};var Wc=t(78452);const Hc=G.ZP.div.withConfig({displayName:"ProductUgcstyles__Container",componentId:"bnqv5k-0"})(["",""],(e=>(0,G.iv)(["padding:"," 0;",""],e.theme.sizing("lg"),e.theme.media.min("medium")((0,G.iv)(["padding:"," 0;"],e.theme.sizing("xl"))))));function qc(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Yc(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?qc(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qc(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}var Qc=e=>{const{ugcBlockData:i}=e;if(!i)return null;const t={ugcBlock:[Yc(Yc({},i),{},{title:""})]};return(0,p.jsx)(tt,{children:(0,p.jsx)(Hc,{children:(0,p.jsx)(Wc.default,{userGeneratedContentData:t})})})},Kc=t(39097);const Xc=G.ZP.div.withConfig({displayName:"ShopMoreLikeThisstyles__Container",componentId:"cya3s3-0"})(["width:100%;max-width:",";margin:0 auto;border-bottom:1px solid ",";display:flex;flex-direction:row;align-items:baseline;gap:",";"," ",";",";"],(e=>e.theme.contentMaxWidth()),(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("ms")),(e=>(0,G.iv)(["padding:"," ",";"],e.theme.sizing("xl"),e.theme.sizing("ms"))),(e=>e.theme.media.max("small")((0,G.iv)(["flex-direction:column;"]))),(e=>e.theme.media.between("small","medium")((0,G.iv)(["flex-direction:column;"])))),Jc=G.ZP.ul.withConfig({displayName:"ShopMoreLikeThisstyles__List",componentId:"cya3s3-1"})(["display:flex;flex-direction:row;gap:",";",";"],(e=>e.theme.sizing("ms")),(e=>e.theme.media.max("small")((0,G.iv)(["flex-flow:row wrap;"]))));var em=e=>{const{triggerEvent:i}=(0,R.FG)(),{product:t,className:n}=e,a=(t.productCategories||[]).reduce(((e,i)=>i.name&&i.url?[...e,{name:i.name,url:i.url}]:e),[]);return a.length?(0,p.jsxs)(Xc,{className:n,"data-test":"product-overview-footer",children:[(0,p.jsx)(wi.Z,{id:"product.shopMore"}),(0,p.jsx)(Jc,{children:a.map((e=>(0,p.jsx)("li",{children:(0,p.jsx)(Kc.default,{href:e.url,children:(0,p.jsx)(D.z,{text:e.name,size:"medium","data-test":`product-overview-category-${e.name}`,buttonVariant:"secondary",onClick:()=>i({label:"pdpShopMoreLikeThis",eventType:["custom"]})})})},e.name)))})]}):null};function im(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function tm(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?im(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):im(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const nm=(e,i,t,n,a)=>{const r=n?(o=a.product,s=i,l=t,"MultiVariantProduct"===o.__typename?{variants:[...o.variants.map((e=>tm(tm({},e),{},{promo:void 0!==s?s:e.promo,promos:void 0!==l?l:e.promos})))]}:"SingleVariantProduct"===o.__typename?{variant:tm(tm({},o.variant),{},{promo:void 0!==s?s:o.variant.promo,promos:void 0!==l?l:o.variant.promos})}:null):null;var o,s,l;const d=e.length?{contentBody:e}:tm({},null);return tm(tm({},a),{},{product:tm(tm(tm({},a.product),r),d)})},am=(e,i,t)=>{var n,a,r;const o=(null===(n=e.productContent)||void 0===n?void 0:n.contentBody)||[],s=null===(a=e.productContent)||void 0===a?void 0:a.promo,l=null===(r=e.productContent)||void 0===r?void 0:r.promos;return t((e=>o.length||void 0!==s||void 0!==l?nm(o,s,l,i,e):e))};var rm=t(77403);const om="in stock",sm="back order",lm="coming soon",dm="pre-order",cm="retired",mm="out of stock",um=(e,i,t,n)=>{if(!i)return null;const{socialImage:a,metaTitle:r,metaDescription:o,noIndexTag:s}=e,{locale:l,availabilityStatus:d,price:c,currency:m,productCode:u}=t,g=x.Z.lego.host+n,v=(e=>C.Z.available===e?om:C.Z.backOrder.includes(e)?sm:C.Z.comingSoon.includes(e)?lm:C.Z.preOrder.includes(e)?dm:C.Z.retired===e?cm:mm)(d),h=(e=>{const[i,t]=e.split("-");return t?`${i}_${t.toUpperCase()}`:""})(l);return(0,p.jsxs)(rm.Z,{metaData:{metaTitle:r||"",metaDescription:o||"",stripQueryParams:!0,metaOpenGraph:{title:r||"",description:o||"",imageUrl:a}},children:[(0,p.jsx)("meta",{property:"og:type",content:"product"}),(0,p.jsx)("meta",{property:"og:url",content:g}),(0,p.jsx)("meta",{property:"og:locale",content:h}),(0,p.jsx)("meta",{property:"product:brand",content:"LEGO\xae"}),(0,p.jsx)("meta",{property:"product:availability",content:v}),(0,p.jsx)("meta",{property:"product:condition",content:"new"}),(0,p.jsx)("meta",{property:"product:price:amount",content:c}),(0,p.jsx)("meta",{property:"product:price:currency",content:m}),(0,p.jsx)("meta",{property:"product:retailer_item_id",content:u}),(0,p.jsx)("meta",{property:"product:locale",content:h}),s&&(0,p.jsx)("meta",{name:"robots",content:"noindex, follow"})]})},pm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductReviewStatisticsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductReviewSortOptions"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewFilters"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewsPerPage"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productReviews"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productCode"},value:{kind:"Variable",name:{kind:"Name",value:"productCode"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"ratingFilter"},value:{kind:"Variable",name:{kind:"Name",value:"reviewFilters"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"reviewsPerPage"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statistics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallRating"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:416,source:{body:"\n  query ProductReviewStatisticsQuery(\n    $productCode: String!\n    $sort: ProductReviewSortOptions!\n    $reviewFilters: [Int!]\n    $reviewsPerPage: Int!\n    $offset: Int!\n  ) {\n    productReviews(\n      productCode: $productCode\n      sort: $sort\n      ratingFilter: $reviewFilters\n      limit: $reviewsPerPage\n      offset: $offset\n    ) {\n      statistics {\n        count\n        overallRating\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var gm=t(46842),vm=t(8780);const hm=e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))},ym={kind:"Document",definitions:hm([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductMediaItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductMedia"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductZoomableImage"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoMedia"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoMedia"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductZoomableImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"baseImgUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sizes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"desktop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highResUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullscreenUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mobile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highResUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullscreenUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tablet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highResUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullscreenUrl"},arguments:[],directives:[]}]}}]}}]}}])),loc:{start:0,end:179,source:{body:"\n  fragment ProductMediaItem on ProductMedia {\n    id\n    ... on ProductImage {\n      ...ProductZoomableImage\n    }\n    ... on ProductVideo {\n      ...VideoMedia\n    }\n  }\n\n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},fm={kind:"Document",definitions:hm([{kind:"FragmentDefinition",name:{kind:"Name",value:"Attributes"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAttributes_Flags"},directives:[]}]}}]}}].concat(xi.Z.fragments.badges.definitions)),loc:{start:0,end:119,source:{body:"\n  fragment Attributes on ProductVariant {\n    attributes {\n      rating\n      ...ProductAttributes_Flags\n    }\n  }\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},km={kind:"Document",definitions:hm([{kind:"FragmentDefinition",name:{kind:"Name",value:"DimensionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAssetImageDimensions"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DeviceSizeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DeviceSizeFragment"},directives:[]}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"DeviceSizeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DevicesSize"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"desktop"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tablet"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mobile"},arguments:[],directives:[]}]}}])),loc:{start:0,end:163,source:{body:"\n  fragment DimensionFragment on ProductAssetImageDimensions {\n    width {\n      ...DeviceSizeFragment\n    }\n    height {\n      ...DeviceSizeFragment\n    }\n  }\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},bm={kind:"Document",definitions:hm([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductMediaAssetItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductMediaAsset"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAssetImage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DimensionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"fullscreenDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DimensionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"highResDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DimensionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailDimensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DimensionFragment"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVideo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailUrl"},arguments:[],directives:[]}]}}]}}]}}].concat(km.definitions)),loc:{start:0,end:473,source:{body:"\n  fragment ProductMediaAssetItem on ProductMediaAsset {\n    ... on ProductAssetImage {\n      id\n      url\n      defaultDimensions {\n        ...DimensionFragment\n      }\n      fullscreenDimensions {\n        ...DimensionFragment\n      }\n      highResDimensions {\n        ...DimensionFragment\n      }\n      thumbnailDimensions {\n        ...DimensionFragment\n      }\n    }\n    ... on ProductVideo {\n      id\n      video {\n        url\n        thumbnailUrl\n      }\n    }\n  }\n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var xm={fragments:{media:{kind:"Document",definitions:(e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))})([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductMediaViewer_Media"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Attributes"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Attributes"},directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"mediaViewerPrimaryImage"},name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"HIRES"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productMedia"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaItem"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"experimentMedia"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaItem"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"productMediaAssets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaAssetItem"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"experimentMediaAssets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaAssetItem"},directives:[]}]}}]}}].concat(fm.definitions,ym.definitions,bm.definitions)),loc:{start:0,end:723,source:{body:"\n      fragment ProductMediaViewer_Media on Product {\n        ... on SingleVariantProduct {\n          variant {\n            ...Attributes\n          }\n        }\n        ... on MultiVariantProduct {\n          variants {\n            ...Attributes\n          }\n        }\n        mediaViewerPrimaryImage: primaryImage(size: HIRES)\n        productCode\n        productMedia {\n          items {\n            ...ProductMediaItem\n          }\n        }\n        experimentMedia {\n          items {\n            ...ProductMediaItem\n          }\n        }\n        productMediaAssets {\n          ...ProductMediaAssetItem\n        }\n        experimentMediaAssets {\n          ...ProductMediaAssetItem\n        }\n      }\n\n      \n      \n      \n    ",name:"GraphQL request",locationOffset:{line:1,column:1}}}}}};t(97729);var wm=t(70434);G.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__Wrapper",componentId:"sc-13pkbbe-0"})(["width:100%;",""],(e=>e.theme.media.between("medium","large")((0,G.iv)(["width:auto;flex:1 1 70%;position:relative;padding:"," "," 0 0;"],e.theme.sizing("ms"),e.theme.sizing("ms"))))),G.ZP.img.withConfig({displayName:"ProductMediaViewerstyles__PrimaryImage",componentId:"sc-13pkbbe-1"})(["display:block;width:100%;max-width:",";margin:0 auto;"],(e=>e.theme.sizing(5.4)));const _m=(0,G.ZP)(ct.Z).withConfig({displayName:"ProductMediaViewerstyles__MediaQueryThumbnailsHorizontal",componentId:"sc-13pkbbe-2"})([""]),Nm=(G.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__MediaViewerContent",componentId:"sc-13pkbbe-3"})(["display:flex;flex-direction:column;width:100%;height:100%;"," "," ",""],(e=>e.theme.media.between("medium","large")(!e.fullscreen&&(0,G.iv)(["position:relative;& > ","{margin-bottom:",";}& > ","{overflow:hidden;position:absolute;width:100%;bottom:0;}"],Nm,(0,B.hO)(85),_m))),(e=>e.theme.media.min("large")((0,G.iv)(["flex-direction:row-reverse;"]))),(e=>e.fullscreen&&(0,G.iv)(["background:",";"],e.theme.color("white")))),G.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__MediaViewerThumbnails",componentId:"sc-13pkbbe-4"})(["position:relative;padding:"," 0;",";"],(e=>e.theme.sizing("sm")),(e=>e.theme.media.min("large")((0,G.iv)(["padding:0;margin:",";height:",";",""],e.fullscreen?e.theme.sizing("sm"):`0 ${e.theme.sizing("sm")} 0 0`,(0,B.hO)(550),!e.fullscreen&&(0,G.iv)(["margin:0;padding:"," 0;"],e.theme.sizing("ms")))))),G.ZP.div.withConfig({displayName:"ProductMediaViewerstyles__MediaViewerSlides",componentId:"sc-13pkbbe-5"})(["background:",";overflow:hidden;height:100%;position:relative;",""],(e=>e.theme.color("white")),(e=>e.theme.media.min("large")((0,G.iv)(["width:100%;",""],!e.fullscreen&&(0,G.iv)(["width:auto;flex:1 0 auto;padding:",";"],e.theme.sizing("ms")))))));(0,G.ZP)(wm.Z.VideoPlayer).withConfig({displayName:"ProductMediaViewerstyles__MediaViewerVideoPlayer",componentId:"sc-13pkbbe-6"})(["height:100%;"]);function Sm(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Pm(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Sm(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sm(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const jm=e=>{const i={};return e.filter((e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!i[t]&&(i[t]=!0,!0)}))},Cm={kind:"Document",definitions:jm([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NamedType",name:{kind:"Name",value:"ProductVisibility"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"product"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductDetails_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductFeatures_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductUgc_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductOverview_Product"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProductMediaViewer_Media"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"Product_ProductItem"},directives:[]},{kind:"Field",name:{kind:"Name",value:"contentBody"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentContainerData"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"colorVariantProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ColorVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"THUMBNAIL"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"overrideUrl"},arguments:[],directives:[]}]}}]}}]}}]}}].concat(gm.Z.fragments.product.definitions,vm._i.definitions,[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductDetails_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"metaDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"noIndexTag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nextStockDropDate"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductDetails"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vipPointsRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductDetails"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadOnlyProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"readOnlyVariant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pieceCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minifigureCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hideBuildingInstructions"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"socialImage"},name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"HIRES"}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Variant_ProductDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vipPoints"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipAvailabilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipCanAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ageRange"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pieceCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildWidth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buildDepth"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minifigureCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headlineText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isNew"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"onSale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hideBuildingInstructions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipEarlyAccess"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipEarlyAccessStartDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vipEarlyAccessDateText"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductFeatures_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productCode"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"featuresPrimaryImage"},name:{kind:"Name",value:"primaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"HIRES"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"productMedia"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondaryImage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"size"},value:{kind:"EnumValue",value:"THUMBNAIL"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"featuresText"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductFeatures"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"variants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Variant_ProductFeatures"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Variant_ProductFeatures"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductVariant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attributes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canAddToBag"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bulletText"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"images"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductUgc_Product"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Product"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SingleVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcBlock"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcKey"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiVariantProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcBlock"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcKey"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReadOnlyProduct"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ugcBlock"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ugcKey"},arguments:[],directives:[]}]}}]}}]}}],ps.product.definitions,xm.fragments.media.definitions)),loc:{start:0,end:617,source:{body:"\n  query ProductDetails($slug: String!, $visibility: ProductVisibility) {\n    product(slug: $slug, visibility: $visibility) {\n      ...ProductDetails_Product\n      ...ProductFeatures_Product\n      ...ProductUgc_Product\n      ...ProductOverview_Product\n      ...ProductMediaViewer_Media\n      ...Product_ProductItem\n      contentBody {\n        ...ContentContainerData\n      }\n      colorVariantProducts {\n        ... on ColorVariantProduct {\n          id\n          productCode\n          name\n          slug\n          primaryImage(size: THUMBNAIL)\n          overrideUrl\n        }\n      }\n    }\n  }\n  \n  \n  \n  \n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Im={kind:"Document",definitions:jm([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductDetailsContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentSectionVars"}},type:{kind:"NamedType",name:{kind:"Name",value:"ContentSectionVars"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"promoSectionVars"}},type:{kind:"NamedType",name:{kind:"Name",value:"PromoSectionVars"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentSectionVars"},value:{kind:"Variable",name:{kind:"Name",value:"contentSectionVars"}}},{kind:"Argument",name:{kind:"Name",value:"promoSectionVars"},value:{kind:"Variable",name:{kind:"Name",value:"promoSectionVars"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentBody"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentContainerData"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TargetedPromotionSection"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"promos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TargetedPromotionSection"},directives:[]}]}}]}}]}}].concat(gm.Z.fragments.product.definitions,ms.definitions,vm._i.definitions)),loc:{start:0,end:440,source:{body:"\n  query ProductDetailsContentQuery(\n    $contentSectionVars: ContentSectionVars\n    $promoSectionVars: PromoSectionVars\n  ) {\n    productContent(\n      contentSectionVars: $contentSectionVars\n      promoSectionVars: $promoSectionVars\n    ) {\n      contentBody {\n        ...ContentContainerData\n      }\n      promo {\n        ...TargetedPromotionSection\n      }\n      promos {\n        ...TargetedPromotionSection\n      }\n    }\n  }\n\n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Tm=e=>{var i;return null===e||void 0===e||null===(i=e.graphQLErrors)||void 0===i?void 0:i.find((e=>{var i;return"NO_VARIANTS_AVAILABLE"===(null===(i=e.extensions)||void 0===i?void 0:i.code)}))};var Om=e=>{const{slug:i,children:t}=e;return t(Pm(Pm({},(0,b.aM)(Cm,{variables:{slug:i},errorPolicy:"all",fetchPolicy:"cache-first"})),{},{productDetailsContentQuery:Im}))};const Em=["locale","product"];function Rm(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function Fm(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?Rm(Object(t),!0).forEach((function(i){(0,r.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rm(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const Am=(0,k.ak)((0,k.ZE)((({product:e,updateProductDetailsQuery:i,productDetailsContentQuery:t})=>{var r,o,l,d,c,m;const u=(0,I.T)(),g=(0,T.Z)(`(max-width: ${w.rS.media.breakpoints.medium}px)`),{query:{locale:v}}=(0,a.useRouter)(),{pathname:h,country:y}=(0,s.k)(),f=(0,O.v)(),{triggerEvent:D}=(0,R.FG)(),Z=(0,k.wt)(),{0:V,1:L}=(0,n.useState)(null),{0:M,1:G}=(0,n.useState)(Yn(e,V)),{0:B,1:$}=(0,n.useState)(!1),U=(0,n.useRef)(null),{0:W,1:H}=(0,n.useState)({reviewsCount:null,reviewsRating:Kn(M,"rating")}),q=(0,n.useRef)(!1),Y=(0,n.useRef)(!1),[Q]=(0,b.td)(t,{onCompleted:e=>am(e,!1,i)}),[K]=(0,b.td)(t,{onCompleted:e=>am(e,!0,i)}),{productCode:X}=e,J=e.ugcBlock?e.ugcBlock.ugcType:null,ee=e.ugcBlock?e.ugcBlock.ugcKey:null,ie=!(!J||!ee),te="ReadOnlyProduct"===e.__typename,ne=f&&f.isOver18yo,ae=f&&f.isOver16yo,re=f&&f.isVip,oe=M&&"ProductVariant"===M.__typename?!M.sku&&e.vipPointsRange?String(e.vipPointsRange):M.vipPoints:0,{availabilityStatus:se}=(0,P.UB)(M,re),{currencyCode:le,formattedValue:de,centAmount:ce}=Sn(M),me=null===e||void 0===e||null===(r=e.contentBody)||void 0===r?void 0:r.some((e=>!!e.section)),ue=se===C.Z.retired,pe=C.Z.outOfStock.includes(se),ge=ue||pe,{reviewsRating:ve,reviewsCount:he}=W,ye=Kn(M,"showReviews")||!1,fe=x.Z.partners[v],ke=fe?fe.productUrl.replace("[PRODUCT CODE]",X):"",{data:be}=(0,b.aM)(pm,{variables:{productCode:X,reviewFilters:[],sort:"MOST_RELEVANT",reviewsPerPage:1,offset:0}}),xe=(null===M||void 0===M||null===(o=M.promo)||void 0===o?void 0:o.fetchOnClient)||!(!(we=null===M||void 0===M?void 0:M.promos)||!we.find((e=>e.fetchOnClient)));var we;(0,n.useEffect)((()=>{if(be){const{productReviews:{statistics:{overallRating:e,count:i}}}=be;H({reviewsCount:i,reviewsRating:null===e?ve:e})}}),[be,ve]),(0,E.F)((()=>{if(xe){const i={productCode:X,productPrice:ce,productCategoryKeys:e.productCategories?e.productCategories.map((e=>e.key)).filter(Boolean):[]};K({variables:{promoSectionVars:i}})}})),(0,n.useEffect)((()=>{G(Yn(e,V))}),[V,e]),(0,n.useEffect)((()=>{if(!q.current&&X&&M){q.current=!0;const e=Kn(M,"isNew")||!1,i=Kn(M,"onSale")||!1,t=(e=>e&&!e.length?null:e.map((e=>e.key)).join(":"))(Kn(M,"featuredFlags")||[]),n={productId:X,price:de,currency:le,availability:se,rating:ve||"no rating",reviewCount:he||0,isNew:e,onSale:i,flag:t};D({label:"pdpView",eventType:["analyticsLayer"],data:{pageName:n.productId,pageType:"product",productDetail:n,siteSection:"products",siteSectionLvl2:n.productId},options:{queue:!0}})}}),[X,M,de,le,se,he,ve,q,D]),(0,n.useEffect)((()=>{!Y.current&&M&&M.sku&&(Y.current=!0,D([{label:"viewProduct",eventType:["custom"],data:{page_type:"product detail",session_cookie_id:(0,j._p)(),products:{id:M.sku,price:de},country:y}}]),Z.logProductPageLoaded({meta_data:{currency_code:le},data:{product_id:M.sku,price:de}}))}),[de,Y,D,y,Z,le,M]);const _e=e=>D({label:"pdpScroll",eventType:["custom"],data:{sectionName:e}}),Ne=()=>ne&&(0,p.jsx)(tt,{children:(0,p.jsx)(_.default,{siteArea:"PRODUCT_DETAIL_PAGE",productCode:X,onIntersection:()=>_e("recommendations")})}),Se=(null===(l=e.brandCategory)||void 0===l?void 0:l.name)||e.name,Pe=(null===(d=e.brandCategory)||void 0===d?void 0:d.url)||"",je=[{label:u("breadcrumbs.home"),url:"/"},{label:Se,url:Pe}];null!==(c=e.brandCategory)&&void 0!==c&&c.name&&je.push({label:e.name,url:""});const Ce={locale:v,availabilityStatus:se,price:de,currency:le,productCode:X},Ie=(0,p.jsx)(bs,{product:e,variantIndex:V,isOver18yo:ne,isVipUser:re,vipPoints:oe,handleOnIntersection:_e}),{headerState:{headerIsHidden:Te}}=(0,n.useContext)(A.pI);return(0,p.jsxs)(S.ZP.Provider,{currentlyViewedProduct:e,children:[um(e,M,Ce,h),(0,p.jsxs)("div",{itemScope:!0,itemType:"http://schema.org/Product",children:[(0,p.jsx)(Qs,{items:je,"data-test":"breadcrumbs"}),(0,p.jsx)(Ks,{children:(0,p.jsxs)(Xs,{children:[(0,p.jsx)(z,{productCode:X,mediaItems:null===(m=e.productMedia)||void 0===m?void 0:m.items,children:(0,p.jsx)(gi,{productMediaAssets:e.productMediaAssets,experimentMediaAssets:e.experimentMediaAssets,children:(0,p.jsxs)(el,{headerIsHidden:Te,children:[(0,p.jsx)(ki,{product:e}),!g&&void 0!==g&&Ie]})})}),(0,p.jsx)(us,{product:e,variantIndex:V,isReadOnlyProduct:te,isOver18yo:ne,isOver16yo:ae,isVipUser:re,vipPoints:oe,shouldShowReviews:ye,reviewsCount:he,reviewsRating:ve,partnerProductUrl:ke,onVariantSelect:i=>{if("MultiVariantProduct"===e.__typename){const{variants:t=[]}=e,n=t.findIndex((({id:e}={})=>e===i));L(-1===n?null:n)}},onClickReviewsLink:e=>{if(U.current){const i=U.current.offsetTop-(null!==e&&void 0!==e?e:0);window.scrollTo(0,i),$(!0)}}}),g&&Ie]})}),ge&&Ne(),me&&(0,p.jsx)(N.Z,{onIntersection:()=>_e("features"),threshold:.25,children:({onRef:i})=>(0,p.jsx)(Hs,{id:"pdp-features",title:"product.features.title",active:!0,ref:i,onToggle:e=>{e&&D({label:"pdpFeaturesOpen",eventType:["custom"]})},children:(0,p.jsx)(il,{children:(0,p.jsx)(F.Z,{id:e.id,analyticsLayerPageName:e.productCode,containers:e.contentBody,onIsRefetchRequired:e=>{e&&Q({variables:{contentSectionVars:{productCode:X}}})}})})})}),ie&&(0,p.jsx)(N.Z,{onIntersection:()=>_e("ugc"),threshold:.25,children:({onRef:i})=>(0,p.jsx)(Hs,{id:"pdp-ugc",title:"product.ugc.title",active:!me,ref:i,dataTestKey:"ugc",onToggle:e=>{e&&D({label:"pdpFanMomentsOpen",eventType:["custom"]})},children:e.ugcBlock&&(0,p.jsx)(Qc,{ugcBlockData:e.ugcBlock})})}),me?(0,p.jsx)(Hs,{id:"pdp-specifications",title:"product.specifications.title",active:!1,onToggle:e=>{e&&_e("specifications")},children:(0,p.jsx)(Ss,{product:e})}):(0,p.jsx)(N.Z,{onIntersection:()=>_e("specifications"),threshold:.25,children:({onRef:i})=>(0,p.jsx)(Hs,{id:"pdp-specifications",title:"product.specifications.title",active:!0,ref:i,dataTestKey:"specifications",onToggle:e=>{e&&D({label:"pdpSpecificationsOpen",eventType:["custom"]})},children:(0,p.jsx)(Ss,{product:e})})}),!te&&ye&&(0,p.jsx)(zs,{productCode:X,reviewsActiveOverride:B,children:(0,p.jsx)(Uc,{isOver16yo:ae,primaryImage:e.primaryImage||"",productCode:X,productName:e.name||"",accordionRef:U,reviewsCount:he,reviewsRating:ve})}),(0,p.jsx)(em,{product:e}),!ge&&Ne()]})]})})),{pageType:"product"});var Dm=e=>{const{slug:i}=e,{query:{locale:t}}=(0,a.useRouter)(),{pathname:r,location:m,createHref:u,replace:g,query:v}=(0,s.k)(),h=(0,l.d)(),k=(0,n.useCallback)((e=>{const{locale:i,product:n}=v,a=(0,o.Z)(v,Em);let s;s="override"===e.type&&t?`/${t}${e.url}`:r.replace(r.substring(r.lastIndexOf("/")+1),e.url);const l=u(Fm(Fm({},m),{},{pathname:s,query:a}));return null!==h&&void 0!==h&&h.res?h.res.redirect(301,l):g({pathname:l,redirectPermanently:!0})}),[h,t,r,g,u,m,v]);return(0,p.jsx)(y,{children:(0,p.jsx)(Om,{slug:i,children:({data:e,loading:t,updateQuery:n,productDetailsContentQuery:a,error:r})=>t?(0,p.jsx)(c.Z,{}):!r||Tm(r)||e?e&&e.product&&e.product.productCode&&!Tm(r)?e.product.overrideUrl?(k({type:"override",url:e.product.overrideUrl}),null):e.product.slug&&e.product.slug!==i?(k({type:"slug",url:e.product.slug}),null):(0,p.jsx)(Am,{product:e.product,updateProductDetailsQuery:n,productDetailsContentQuery:a}):(0,p.jsx)(f.TX,{}):(0,p.jsx)(d.Z,{title:"dynamicPage.error.title",body:"dynamicPage.error.body",linkName:"dynamicPage.error.link"})})})},Zm=t(43202);const Vm=()=>{const{query:e}=(0,a.useRouter)();return(0,p.jsx)(Dm,{slug:e.product})};Vm.getInitialProps=async e=>{var i;const t={slug:null===(i=e.query)||void 0===i?void 0:i.product};return(0,Zm.k)({ctx:e,queries:[{query:Cm,variables:t}],handleError:({error:e,res:i})=>{Tm(e)&&(i.statusCode=404)}})};var zm=Vm},70862:function(e,i,t){"use strict";const n=t(73091).ZP.button.attrs((e=>({"aria-label":e.label,"data-test":"info-button"}))).withConfig({displayName:"InfoButton",componentId:"sc-1srvmfb-0"})(["width:",";height:",";border:1px solid ",";border-radius:100%;background-color:",";padding:0;margin:0;&:before{display:block;content:' i ';font-size:",";color:",";}&:hover{border-color:",";&:before{color:",";}}"],(({size:e,theme:i})=>i.sizing(e||"lg")),(({size:e,theme:i})=>i.sizing(e||"lg")),(({borderColor:e,theme:i})=>i.color(e||"grey")),(({bgColor:e,theme:i})=>i.color(e||"transparent")),(({fontSize:e,theme:i})=>i.fontSize(e||"sm2")),(({theme:e})=>e.color("grey")),(({theme:e})=>e.color("blue")),(({theme:e})=>e.color("blue")));i.Z=n},81775:function(e,i,t){"use strict";var n=t(82269),a=t(95235),r=t(2784),o=t(76103),s=t(2964),l=t(25418),d=t(52322);const c=["hideLabel","label","value","onChange","className","error","id","loadingOptions","options"];function m(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?m(Object(t),!0).forEach((function(i){(0,a.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}class p extends r.Component{constructor(...e){super(...e),(0,a.Z)(this,"renderOptions",(()=>{const{options:e}=this.props;return e.map((e=>{const{value:i,label:t}=e;return(0,d.jsx)("option",{value:i,disabled:e.disableOption||!1,children:t||i},i)}))})),(0,a.Z)(this,"renderSelectedValue",(()=>{const{options:e,value:i,hideLabel:t,label:n}=this.props;if(!e.length)return null;const a=i?e.find((e=>e.value===i)):null,r=a||e[0];return(0,d.jsxs)(d.Fragment,{children:[t?(0,d.jsxs)(o.Z,{children:[" ",n||i]}):(0,d.jsx)(s.__,{children:n||i}),(0,d.jsx)(s.ng,{children:r&&(r.label||r.value)})]})}))}render(){const e=this.props,{hideLabel:i,label:t,value:a,onChange:r,className:o,error:m,id:p,loadingOptions:g,options:v}=e,h=(0,n.Z)(e,c),y=p||"";return(0,d.jsxs)(s.bL,{className:o,children:[g&&(0,d.jsx)(l.Z,{}),(0,d.jsx)(s.Qr,u(u({},h),{},{value:a,id:p,onChange:r,"aria-invalid":!!m,"aria-describedby":`${y}-select-error`,"aria-errormessage":`${y}-select-error`,children:v.length>0&&this.renderOptions()})),(0,d.jsx)(s.ub,{htmlFor:p,children:this.renderSelectedValue()}),(0,d.jsx)(s.Qj,{}),m&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(s.y,{id:`${y}-select-error`,role:"alert","data-test":"error-text",children:m}),(0,d.jsx)(s.A_,{error:!0})]})]})}}(0,a.Z)(p,"defaultProps",{hideLabel:!1,options:[]}),i.Z=p},2964:function(e,i,t){"use strict";t.d(i,{Qr:function(){return r},ng:function(){return o},bL:function(){return s},ub:function(){return l},Qj:function(){return d},__:function(){return c},y:function(){return m},A_:function(){return u}});var n=t(73091),a=t(58326);const r=n.ZP.select.withConfig({displayName:"Selectstyles__StyledSelect",componentId:"sc-4fhsiq-0"})(["position:absolute;width:100%;opacity:0;padding:"," 0;",";text-align:left;font-size:",";"],(({theme:e})=>e.sizing("xxs")),(e=>e.theme.zIndex("medium")),(({theme:e})=>e.fontSize("s0"))),o=n.ZP.span.withConfig({displayName:"Selectstyles__SelectedValue",componentId:"sc-4fhsiq-1"})(["text-align:left;",":focus + &:before{position:absolute;right:0;top:0;left:0;bottom:0;width:100%;height:100%;outline:1px dotted ",";}"],r,(({theme:e})=>e.color("blue"))),s=n.ZP.div.withConfig({displayName:"Selectstyles__SelectWrapper",componentId:"sc-4fhsiq-2"})(["border:1px solid ",";display:flex;flex-grow:1;flex-shrink:1;justify-content:space-between;align-items:center;position:relative;background:",";padding-top:",";padding-right:0;padding-bottom:",";color:",";height:",";&:focus-within{outline:1px solid ",";box-shadow:0 0 12px ",";}"],(({theme:e})=>e.color("grey_light")),(({theme:e})=>e.color("white")),(({theme:e})=>e.sizing("xxs")),(({theme:e})=>e.sizing("xxs")),(({theme:e})=>e.color("grey_dark")),(e=>e.theme.sizing(2.2)),(({theme:e})=>e.color("blue")),(({theme:e})=>e.color("blue"))),l=n.ZP.label.withConfig({displayName:"Selectstyles__LabelWrapper",componentId:"sc-4fhsiq-3"})(["display:flex;flex-direction:column;padding-left:",";"],(({theme:e})=>e.sizing("ms"))),d=(0,n.ZP)(a.Z).attrs((()=>({width:8,chevronDirection:"down"}))).withConfig({displayName:"Selectstyles__StyledChevron",componentId:"sc-4fhsiq-4"})(["margin:0 ",";"],(({theme:e})=>e.sizing("ms"))),c=n.ZP.span.withConfig({displayName:"Selectstyles__Label",componentId:"sc-4fhsiq-5"})(["color:",";font-size:0.8em;"],(({theme:e})=>e.color("grey"))),m=n.ZP.span.withConfig({displayName:"Selectstyles__ErrorText",componentId:"sc-4fhsiq-6"})(["position:absolute;left:0;top:100%;color:",";font-weight:",";font-size:",";"],(e=>e.theme.color("red")),(e=>e.theme.fontWeight("semiBold")),(e=>e.theme.fontSize("sm2"))),u=n.ZP.div.attrs((()=>({tabIndex:-1}))).withConfig({displayName:"Selectstyles__StatusBar",componentId:"sc-4fhsiq-7"})(["position:absolute;bottom:0;left:0;right:0;width:100%;height:2px;transform-origin:center left;transition:transform 0.16s ease-in-out,opacity 0.1s ease-in-out;transform:scaleX(",");opacity:",";background-color:",";"],(e=>e.error?1:0),(e=>e.error?1:0),(e=>e.error?e.theme.color("red"):"transparent"))},33643:function(e,i,t){"use strict";t.d(i,{Z:function(){return u}});var n=t(2784),a=t(54409),r=t(8982),o=t(73091),s=t(58326);const l=o.ZP.ol.attrs((()=>({itemType:"http://schema.org/BreadcrumbList"}))).withConfig({displayName:"Breadcrumbsstyles__Wrapper",componentId:"ramwh5-0"})(["",";display:flex;padding:"," ",";",";"],(e=>e.theme.font("sm1")),(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("ms")),(e=>e.theme.media.min("medium")((0,o.iv)(["max-width:",";margin:0 auto;padding:"," ",";"],e.theme.maxWidth(),e.theme.sizing("xxs"),e.theme.sizing("lg"))))),d=o.ZP.li.withConfig({displayName:"Breadcrumbsstyles__Items",componentId:"ramwh5-1"})(["display:flex;align-items:center;",";"],(e=>e.itemsToHideForSmallDevices>0&&e.theme.media.max("small")((0,o.iv)(["&:nth-child(-n + ","){display:none;}"],e.itemsToHideForSmallDevices)))),c=(0,o.ZP)(s.Z).withConfig({displayName:"Breadcrumbsstyles__StyledChevron",componentId:"ramwh5-2"})(["padding:0 ",";"],(e=>e.theme.sizing("3xs")));var m=t(52322);var u=({items:e,className:i})=>{const t=e.length-2;return(0,m.jsx)(l,{"data-test":"breadcrumbs",itemScope:!0,className:i,children:e.map((({url:i,label:o},s)=>{const l=s+1!==e.length,u=i?(0,m.jsxs)(d,{itemProp:"itemListElement",itemScope:!0,itemType:"http://schema.org/ListItem",itemsToHideForSmallDevices:t,children:[(0,m.jsx)(a.Z,{to:i,"data-test":"breadcrumb",itemType:"http://schema.org/Thing",itemProp:"item",children:(0,m.jsx)(r.Z,{size:"sm1",itemProp:"name",children:o})}),(0,m.jsx)("meta",{itemProp:"position",content:s+1}),l&&(0,m.jsx)(c,{width:25,height:25,fill:"grey"})]}):(0,m.jsxs)(d,{itemsToHideForSmallDevices:t,children:[(0,m.jsx)(r.Z,{"data-test":"breadcrumb",size:"sm1",children:o}),l&&(0,m.jsx)(c,{width:25,height:25,fill:"grey"})]});return(0,m.jsx)(n.Fragment,{children:u},o)}))})}},78359:function(e,i,t){"use strict";t.d(i,{Z:function(){return b}});t(2784);var n=t(8870),a=t(33266),r=t(51261),o=t(54409),s=t(8982),l=t(29522),d=t(41305),c=t(72600),m=t(73091);const u=m.ZP.div.withConfig({displayName:"ErrorPagestyles__MaxWidthContainer",componentId:"sc-21hiaf-0"})(["",""],(({theme:e})=>(0,m.iv)(["display:flex;flex-flow:column;width:100%;max-width:",";margin:0 auto;padding:",";",";"],e.contentMaxWidth(),`${e.sizing("sm")} ${e.sizing("ms")}\n        ${e.sizing("4xs")}`,e.media.min("medium")((0,m.iv)(["align-items:center;min-height:max-content;flex-flow:row;"]))))),p=m.ZP.div.withConfig({displayName:"ErrorPagestyles__Copy",componentId:"sc-21hiaf-1"})(["",""],(({theme:e})=>(0,m.iv)(["display:flex;flex-direction:column;justify-content:flex-start;padding:",";",";"],`${e.sizing("xs")} ${e.sizing("ms")}\n        ${e.sizing("sm")}`,e.media.min("medium")((0,m.iv)(["width:50%;"]))))),g=m.ZP.div.withConfig({displayName:"ErrorPagestyles__ErrorDetailsWrapper",componentId:"sc-21hiaf-2"})(["",""],(({theme:e})=>(0,m.iv)(["margin:",";",";"],`${e.sizing("ms")} 0`,e.media.max("small")((0,m.iv)(["margin:",";"],`${e.sizing("sm")} 0 ${e.sizing("3xs")} 0`))))),v=m.ZP.span.withConfig({displayName:"ErrorPagestyles__StyledErrorRef",componentId:"sc-21hiaf-3"})(["",""],(({theme:e})=>(0,m.iv)(["font-weight:",";margin-left:",";"],e.fontWeight("semiBold"),e.sizing("3xs")))),h=m.ZP.div.withConfig({displayName:"ErrorPagestyles__LinkHolder",componentId:"sc-21hiaf-4"})(["",""],(({theme:e})=>(0,m.iv)(["display:block;margin:",";",";"],`${e.sizing("ms")} 0`,e.media.max("small")((0,m.iv)(["margin:",";"],`${e.sizing("sm")} 0`))))),y=m.ZP.div.withConfig({displayName:"ErrorPagestyles__ImageHolder",componentId:"sc-21hiaf-5"})(["",""],(({theme:e})=>(0,m.iv)(["",";"],e.media.min("small")((0,m.iv)(["width:50%;margin:0 auto;"])))));var f=t(52322);const k=({title:e,body:i,img:t,linkPath:m,linkName:k,errors:b})=>{const x=(0,n.d)(),{triggerEvent:w}=(0,r.FG)();null!==x&&void 0!==x&&x.res&&(x.res.statusCode=404),(0,a.F)((()=>{w({label:"notFound",eventType:["analyticsLayer"],data:{pageName:"error",pageType:"errorpage"}})}));const _=()=>{let e=null;return Array.isArray(b)&&b.length&&(e=b[0].requestId.toLowerCase()),e&&(0,f.jsxs)(g,{children:[(0,f.jsx)(d.Z,{id:"error.reference"}),(0,f.jsx)(v,{children:e}),";"]})};return(0,f.jsxs)(u,{children:[(0,f.jsxs)(p,{children:[(0,f.jsx)(s.Z,{tag:"h2",size:"s4",weight:"semiBold",children:(0,f.jsx)(l.Z,{id:e})}),(0,f.jsx)(d.Z,{id:i}),(0,f.jsx)(_,{}),(0,f.jsx)(h,{children:m?(0,f.jsx)(o.Z,{to:m,button:!0,type:"secondary",children:(0,f.jsx)(l.Z,{id:k})}):(0,f.jsx)(c.ZP,{onClick:()=>window.location.reload(),children:(0,f.jsx)(l.Z,{id:k})})})]}),(0,f.jsx)(y,{children:(0,f.jsx)("img",{src:t,alt:""})})]})};k.defaultProps={img:"https://www.lego.com/cdn/cs/set/assets/blt35b36a3b43bf5d27/404-page-minifigure.jpg?quality=80"};var b=k},34689:function(e,i,t){"use strict";t(2784);var n=t(73091),a=t(25418),r=t(52322);const o=n.ZP.div.withConfig({displayName:"LoadingPage__Wrapper",componentId:"w9pae6-0"})(["display:flex;align-items:center;justify-content:center;width:100%;height:80vh;max-width:",";margin:0 auto;padding:",";"],(e=>e.theme.contentMaxWidth()),(e=>e.theme.sizing("md")));i.Z=e=>(0,r.jsx)(o,{"data-test":"loading-page-wrapper",className:e.className,children:(0,r.jsx)(a.Z,{color:"yellow",size:3})})},89101:function(e,i,t){"use strict";t.d(i,{Z:function(){return f}});var n=t(2784),a=t(76951),r=t(73091);const o=r.ZP.div.withConfig({displayName:"Quantitystyles__QuantityWrapper",componentId:"ee4u7w-0"})(["display:flex;height:",";border-radius:5px;flex:1 0 auto;"],(e=>e.theme.sizing(1.85))),s=r.ZP.button.withConfig({displayName:"Quantitystyles__ModifyButton",componentId:"ee4u7w-1"})(["position:relative;cursor:pointer;flex-grow:1;height:100%;min-width:",";border:1px solid ",";display:flex;align-items:center;border-radius:",";background-color:",";justify-content:center;touch-action:manipulation;",";"],(e=>e.theme.sizing("xl")),(e=>e.theme.color("grey_light")),(e=>e.left?"5px 0 0 5px":"0 5px 5px 0"),(e=>e.theme.color("white")),(e=>e.showAsCtaButton?(0,r.iv)(["background:",";"],e.theme.color("blue")):(0,r.iv)(["&:active{background:#f9fcff;}&:disabled{cursor:default;color:red;}&:focus{outline:1px solid ",";",";}"],e.theme.color("blue_light"),e.theme.zIndex("high")))),l=r.ZP.input.withConfig({displayName:"Quantitystyles__NumberInput",componentId:"ee4u7w-2"})(["background-image:none;width:100%;height:100%;border:none;border-radius:0;cursor:text;text-align:center;text-indent:0px;text-rendering:auto;text-shadow:none;word-spacing:0;padding:0;writing-mode:horizontal-tb;-webkit-appearance:none;-moz-appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}color:",";&:active{background:#f9fcff;}&:focus{outline:1px solid ",";",";}"],(e=>e.isLoading?"transparent":e.theme.color("black")),(e=>e.theme.color("blue_light")),(e=>e.theme.zIndex("high"))),d=r.ZP.div.withConfig({displayName:"Quantitystyles__InputContainer",componentId:"ee4u7w-3"})(["position:relative;flex-grow:1;border-top:thin solid ",";border-bottom:thin solid ",";width:",";max-width:",";"],(e=>e.theme.color("grey_light")),(e=>e.theme.color("grey_light")),(e=>e.theme.sizing("xl")),(e=>e.theme.sizing("3xl"))),c=r.ZP.div.withConfig({displayName:"Quantitystyles__LoadingContainer",componentId:"ee4u7w-4"})(["position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);"]);var m=t(76103),u=t(25418),p=t(29522),g=t(64745),v=t(52322);var h=({fill:e})=>{const i=e?g.rS.color(e):"black";return(0,v.jsxs)("svg",{className:"add",xmlns:"http://www.w3.org/2000/svg",width:"14px",height:"14px",viewBox:"0 0 14 14","aria-hidden":"true",children:[(0,v.jsx)("polygon",{fill:i,points:"14 8 0 8 0 6 14 6"}),(0,v.jsx)("rect",{fill:i,fillRule:"nonzero",x:"6",y:"0",width:"2",height:"14"})]})};var y=({fill:e})=>{const i=e?g.rS.color(e):"black";return(0,v.jsx)("svg",{className:"minus",width:"14px",height:"2px",viewBox:"0 0 14 2","aria-hidden":"true",children:(0,v.jsx)("polygon",{fill:i,points:"14 2 0 2 0 -6.03961325e-14 14 -6.03961325e-14"})})};var f=({id:e,value:i,onChange:t=(()=>{}),onFocus:r=(()=>{}),onBlur:g=(()=>{}),minValue:f=0,maxValue:k=999,showAsCtaButton:b,disabled:x,className:w,label:_,loading:N,"data-test":S="quantity-value"})=>{const P=(0,a.T)(),{0:j,1:C}=(0,n.useState)(!1),{0:I,1:T}=(0,n.useState)(`${i}`),O=(0,n.useRef)(null);(0,n.useEffect)((()=>{i>k?t(k):j||T(`${i}`)}),[k,t,i,j]);const E=e=>{const n=i+e,a=Math.max(n,f),r=Math.min(a,k);t(r,!0)},R=e=>{g(I,e)},F=()=>{r(I)},A=f>=0&&k>=0;return(0,v.jsxs)(o,{className:w,"data-test":"quantity-wrapper",children:[(0,v.jsxs)(s,{left:!0,disabled:x||N||i<=f,onClick:()=>E(-1),onFocus:F,onBlur:R,"data-test":"quantity-decrease",type:"button","aria-label":P("element.quantity.decrease"),children:[(0,v.jsx)(y,{fill:x||N||i<=f?"grey_light":void 0}),(0,v.jsx)(m.Z,{children:(0,v.jsx)(p.Z,{id:"quantity.decrease"})})]}),(0,v.jsxs)(d,{children:[N?(0,v.jsx)(c,{children:(0,v.jsx)(u.Z,{size:"md"})}):null,(0,v.jsx)(l,{id:e,name:e,disabled:x,inputmode:A?"numeric":void 0,onBlur:e=>{const t=`${i}`;T(t),g(t,e)},onChange:e=>{const{value:i}=e.target;if(null==i||""===i)return C(!0),void T(i);T(i);const n=parseInt(i,10);isNaN(n)||t(n>=k?k:n<=f?f:n)},onFocus:()=>{O.current&&O.current.select(),r(I)},pattern:A?"[0-9]*":void 0,ref:O,type:"number",value:I,"data-test":S,"aria-label":_,isLoading:N})]}),(0,v.jsxs)(s,{showAsCtaButton:b,disabled:x||N||i>=k,onClick:()=>E(1),onFocus:F,onBlur:R,"data-test":b?"quantity-increase-cta":"quantity-increase",type:"button","aria-label":P("element.quantity.increase"),children:[(0,v.jsx)(h,{fill:x||N||i>=k?"grey_light":b?"white":void 0}),(0,v.jsx)(m.Z,{children:(0,v.jsx)(p.Z,{id:"quantity.increase"})})]})]})}},26169:function(e,i,t){"use strict";t.d(i,{Z:function(){return b}});var n=t(2784),a=t(76262),r=t(33266),o=t(29522),s=t(73091),l=t(71525),d=t(58326);const c=s.ZP.div.withConfig({displayName:"SelectCustomstyles__Container",componentId:"mlwz43-0"})(["position:relative;z-index:1;display:flex;flex-direction:column;cursor:pointer;",""],(e=>e.active&&(0,s.iv)(["z-index:100;"]))),m=s.ZP.button.withConfig({displayName:"SelectCustomstyles__SelectTrigger",componentId:"mlwz43-1"})(["padding:0 ",";position:relative;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;user-select:none;min-height:",";border:1px solid ",";"," ",""],(e=>e.theme.sizing("sm")),(0,l.hO)(55),(e=>e.theme.color("grey_light")),(e=>e.active&&(0,s.iv)(["border:1px solid ",";border-bottom-color:",";"],e.theme.color("blue_light"),e.theme.color("grey_light"))),(e=>(0,s.iv)(["&:focus{outline:1px solid ",";box-shadow:0 0 12px ",";}"],e.theme.color("blue"),e.theme.color("blue")))),u=s.ZP.span.withConfig({displayName:"SelectCustomstyles__SelectedLabel",componentId:"mlwz43-2"})([""," ",""],(e=>e.theme.font("sm1")),(e=>e.hasValue&&(0,s.iv)([""," color:",";"],e.theme.font("sm2"),e.theme.color("grey")))),p=s.ZP.span.withConfig({displayName:"SelectCustomstyles__SelectedText",componentId:"mlwz43-3"})(["",""],(e=>e.theme.font("sm1"))),g=s.ZP.div.withConfig({displayName:"SelectCustomstyles__SelectedInfoText",componentId:"mlwz43-4"})([""," padding-top:",";"],(e=>e.theme.font("sm1")),(e=>e.theme.sizing("4xs"))),v=s.ZP.div.withConfig({displayName:"SelectCustomstyles__ChevronWrapper",componentId:"mlwz43-5"})(["position:absolute;top:50%;right:",";transform:translateY(-50%);pointer-events:none;"],(e=>e.theme.sizing("sm"))),h=(0,s.ZP)(d.Z).withConfig({displayName:"SelectCustomstyles__Chevron",componentId:"mlwz43-6"})(["pointer-events:none;transition:transform 0s;",""],(e=>(0,s.iv)(["width:",";height:",";color:",";"],e.theme.sizing("sm"),e.theme.sizing("sm"),e.theme.color("grey")))),y=s.ZP.div.withConfig({displayName:"SelectCustomstyles__Options",componentId:"mlwz43-7"})(["position:absolute;top:100%;width:100%;flex-direction:column;background-color:",";border:1px solid ",";border-top:none;display:none;overflow-y:auto;",""],(e=>e.theme.color("white")),(e=>e.theme.color("blue_light")),(e=>e.active&&(0,s.iv)(["display:flex;"]))),f=s.ZP.button.withConfig({displayName:"SelectCustomstyles__Option",componentId:"mlwz43-8"})([""," display:flex;align-items:center;padding:"," ",";"," &:hover{background-color:",";}"],(e=>e.theme.font("sm1")),(e=>e.theme.sizing("xxs")),(e=>e.theme.sizing("sm")),(e=>e.selected&&(0,s.iv)(["background-color:",";"],e.theme.color("blue_extra_light"))),(e=>e.theme.color("blue_extra_light")));var k=t(52322);var b=e=>{const{id:i,label:t,value:s,options:l,onChange:d,active:b,className:x,"data-test":w,forceFocus:_}=e,N=(0,n.useRef)(!1),S=(0,n.useRef)(null),P=(0,n.useRef)(null),{0:j,1:C}=(0,n.useState)(!1),I=(0,a.D)(j);(0,n.useEffect)((()=>{N.current&&C(b)}),[b,N]),(0,n.useEffect)((()=>{N.current&&((I!==j||_)&&P.current&&P.current.focus(),I&&!j&&d(s))}),[j,N,P,I,d,s,_,i]);const T=e=>{S.current&&S.current!==e.target&&!S.current.contains(e.target)&&C(!1)};(0,r.F)((()=>(N.current=!0,document.addEventListener("click",T,!1),()=>{document.removeEventListener("click",T,!1)})));const{selectedText:O,selectedExtraInfo:E}=s&&l.find((e=>e.value===s))||{};if(!l.length)return null;return(0,k.jsxs)(c,{ref:S,id:i,active:j,className:x,"data-test":w,children:[(0,k.jsxs)(m,{ref:P,onClick:()=>C(!j),active:j,id:`${i}-select-trigger`,"aria-haspopup":"listbox","aria-labelledby":`${i}-select-trigger ${i}-select-option`,type:"button",children:[(0,k.jsx)(u,{hasValue:!!s,children:(0,k.jsx)(o.Z,{id:t})}),O&&(0,k.jsx)(p,{children:O}),(0,k.jsx)(v,{children:(0,k.jsx)(h,{chevronDirection:j?"up":"down"})})]}),!j&&(R=E,"string"===typeof R?(0,k.jsx)(g,{children:R}):R),(0,k.jsx)(y,{active:j,role:"listbox","aria-labelledby":"select-option","aria-activedescendant":s?`${i}-select-option-${s}`:void 0,children:l.map((e=>(0,k.jsx)(f,{selected:e.value===s,"data-test":`${i}-select-option-${e.value}`,id:`${i}-select-option-${e.value}`,role:"option","aria-selected":e.value===s?"true":void 0,onClick:()=>{var i;i=e.value,C(!1),d(i)},type:"button",children:e.valueText},e.value)))})]});var R}},59579:function(e,i,t){"use strict";var n=t(81839);i.Z=({to:e,from:i,redirectPermanently:t})=>{const{isLoading:a,replace:r,pathname:o}=(0,n.k)(),s=/^https?:\/\//;if(!a){if(i&&!o.includes(i))return null;s.test(e)?window.location.replace(e):r({pathname:e,redirectPermanently:t||!1})}return null}},77708:function(e,i,t){"use strict";t.d(i,{c:function(){return c}});var n=t(95235),a=t(2784);function r(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?r(Object(t),!0).forEach((function(i){(0,n.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}const s=(e,i)=>{try{return e.validateSync(i,{abortEarly:!1}),{}}catch(t){return t.inner.reduce(((e,i)=>o(o({},e),{},{[i.path]:i.message})),{})}},l=(e,i)=>i?e?"error":"valid":"initial",d=e=>Object.keys(e).some((i=>null!==e[i])),c=(e,i)=>{const t=(0,a.useMemo)((()=>(e=>(i,t)=>{let{values:n,errors:a,touched:r,hasBlurred:l}=i;switch(t.type){case"update":{Object.keys(t.update).forEach((e=>{const i=e,a=t.update[i];r=r[i]?r:o(o({},r),{},{[i]:!0}),n=n[i]===a?n:o(o({},n),{},{[i]:a})}));const i=s(e,n);Object.keys(e.fields).forEach((e=>{const t=e,n=i[t]||null;a=a[t]===n?a:o(o({},a),{},{[t]:n})}));break}case"errors":Object.keys(e.fields).forEach((e=>{const i=e,n=t.errors[i];void 0!==n&&(r=r[i]?r:o(o({},r),{},{[i]:!0}),a=a[i]===n?a:o(o({},a),{},{[i]:n}))}));break;case"blur":{const{name:e}=t;l=l[e]?l:o(o({},l),{},{[e]:!0});break}case"change":{const{name:i,value:l}=t;n=n[i]===l?n:o(o({},n),{},{[i]:l}),a=s(e,n),r=r[i]?r:o(o({},r),{},{[i]:!0});break}case"touchAll":Object.keys(e.fields).forEach((e=>{const i=e;r=r[i]?r:o(o({},r),{},{[i]:!0}),l=l[i]?l:o(o({},l),{},{[e]:!0})}));break;case"resetTouch":Object.keys(e.fields).forEach((e=>{r=o(o({},r),{},{[e]:!1})}))}return i.values===n&&i.errors===a&&i.touched===r&&i.hasBlurred===l?i:{isValid:!d(a),values:n,errors:a,touched:r,hasBlurred:l}})(e)),[e]),n=(0,a.useMemo)((()=>((e,i)=>{const t={},n={},a={},r={};Object.keys(e.fields).forEach((e=>{const n=e;t[n]=i&&null!=i[n]?i[n]:""}));const o=s(e,t);return Object.keys(e.fields).forEach((e=>{const i=e;n[i]=o[i]||null,a[i]=!1,r[i]=!1})),{isValid:!d(n),values:t,errors:n,touched:a,hasBlurred:r}})(e,i)),[i,e]),{0:r,1:c}=(0,a.useReducer)(t,n);(0,a.useDebugValue)(r);const m=(0,a.useCallback)((({target:i})=>{const t=i.name;if(void 0!==e.fields[t]){const e="checkbox"===i.type?i.checked:i.value;c({type:"change",name:t,value:e})}}),[c,e]),u=(0,a.useCallback)((i=>{m(i);const t=i.target.name;void 0!==e.fields[t]&&c({type:"blur",name:t})}),[e.fields,m]),p=(0,a.useCallback)((e=>c({type:"update",update:e})),[]),g=(0,a.useCallback)((e=>c({type:"errors",errors:e})),[]),v=(0,a.useCallback)((()=>c({type:"touchAll"})),[]),h=(0,a.useCallback)((()=>c({type:"resetTouch"})),[]),y=(0,a.useCallback)((e=>{const i=r.values[e],t=r.errors[e],n=r.hasBlurred[e],a=r.touched[e],s=a&&null!=t,d={name:e,error:s?t:null,inputState:l(s,a),onChange:m,onBlur:u,hasBlurred:n};return o(o({},d),{},"boolean"===typeof i?{checked:i}:{value:i})}),[r.errors,r.hasBlurred,r.touched,r.values,u,m]);return[r,y,p,g,v,h]}},77403:function(e,i,t){"use strict";var n=t(2784),a=t(97729),r=t(10869),o=t.n(r),s=t(93395),l=t(5632),d=t(76951),c=t(52322);i.Z=({children:e,metaData:i,filters:t,paginationData:r})=>{const{asPath:m}=(0,l.useRouter)(),u=(0,d.T)(),{metaTitle:p,metaDescription:g,metaOpenGraph:v,stripQueryParams:h,jsonSchemaProperties:y,createdAt:f,updatedAt:k}=i,b=(null===r||void 0===r?void 0:r.page)||0,x=e||null,w=(0,n.useMemo)((()=>{const e=b>1?`?page=${b}`:"",i=o()(s.Z,(e=>e.lego.host))||"",t=m.split("?")[0];return h?`${i}${t}`:`${i}${t}${e}`}),[b,m,h]);let _=p,N=g,S=null;v&&(_=v.title||_,N=v.description||N,S=v.imageUrl);const P={"@context":"https://schema.org","@type":"Organization","@id":"https://www.LEGO.com/#organization",name:"The LEGO\xae Group",url:"https://www.LEGO.com",logo:`${s.Z.lego.host}/static/favicon/lego-logo-512.png`,sameAs:["https://www.wikidata.org/entity/Q1063455","https://www.youtube.com/user/LEGO","https://www.linkedin.com/company/lego-group","https://www.facebook.com/LEGO","https://www.twitter.com/LEGO_Group","https://www.pinterest.com/LEGO","https://www.instagram.com/LEGO"]},j={"@context":"https://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":w},headline:p,description:g,image:(null===v||void 0===v?void 0:v.imageUrl)||"",author:{"@type":"Organization",name:"The LEGO Group"},publisher:{"@type":"Organization",name:"The LEGO Group",logo:{"@type":"ImageObject",url:`${s.Z.lego.host}/static/favicon/lego-logo-512.png`}},datePublished:f,dateModified:k},C=e=>{const i=t&&t.page?t.page:0;return i>1?`${e} ${u("meta.page")} ${i}`:e.replace(/[||.]*$/,"")};return(0,c.jsxs)(a.default,{children:[p&&(0,c.jsx)("title",{"data-test":"title-tag",children:C(`${p} |`)}),_&&(0,c.jsx)("meta",{property:"og:title",content:C(`${_} |`)}),g&&(0,c.jsx)("meta",{name:"description",content:C(`${g}.`)}),N&&(0,c.jsx)("meta",{property:"og:description",content:C(`${N}.`)}),S&&(0,c.jsx)("meta",{property:"og:image",content:S}),(0,c.jsx)("link",{rel:"canonical",href:w}),(0,c.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(P)}}),(0,c.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"WebPage","@id":"https://www.LEGO.com/#webpage",name:"The LEGO\xae Group",url:"https://www.LEGO.com"})}}),"Article"===(null===y||void 0===y?void 0:y.type)&&(0,c.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(j)},"data-test":"article-schema-json"}),r&&(e=>{const{total:i,page:t,perPage:n,path:a}=e,r=[],o=Math.ceil(i/n);return o&&1!==o&&0!==i?(t!==o&&r.push((0,c.jsx)("link",{rel:"next",href:`${a}?page=${t+1}`},"0")),2===t&&r.push((0,c.jsx)("link",{rel:"prev",href:a},"1")),t>2&&r.push((0,c.jsx)("link",{rel:"prev",href:`${a}?page=${t-1}`},"2")),r):[]})(r),x]})}},4525:function(e,i){"use strict";i.Z=function(){const e=window.ioGetBlackbox;if("function"!==typeof e)return null;const{blackbox:i,finished:t}=e();return t?i:null}},93269:function(e,i,t){"use strict";t.d(i,{Z:function(){return g}});var n=t(95235),a=t(82269),r=t(2784),o=t(26907),s=t(51261),l=t(78435),d=t.n(l),c=t(4192),m=t(52322);const u=["id","analyticsLayerPageName","containers","onIsRefetchRequired"];function p(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable}))),t.push.apply(t,n)}return t}function g(e){let{id:i,analyticsLayerPageName:t,containers:l,onIsRefetchRequired:g}=e,v=(0,a.Z)(e,u);const h=(0,o.v)(),{triggerEvent:y}=(0,s.FG)();(0,r.useEffect)((()=>{if(!h.fetched)return;l.some((e=>{var i;return null===(i=e.targeting)||void 0===i?void 0:i.fetchOnClient}))?g(h.isLid):g(!1)}),[i,h.fetched]);const f=(0,r.useMemo)((()=>l.filter((e=>{var i,t;return"DummySection"!==(null===(i=e.section)||void 0===i?void 0:i.__typename)&&"BreadcrumbSection"!==(null===(t=e.section)||void 0===t?void 0:t.__typename)}))),[l]),k=(0,r.useRef)([]);return(0,r.useEffect)((()=>{const e=[],i=i=>{k.current.some((e=>d()(e,i)))||(e.push(i),k.current.push(i))};l.filter((e=>Boolean(e.multivariate))).forEach((e=>{var t,n,a;null!==e&&void 0!==e&&null!==(t=e.multivariate)&&void 0!==t&&t.inExperimentAudience&&null!==e&&void 0!==e&&null!==(n=e.multivariate)&&void 0!==n&&n.testingId&&null!==e&&void 0!==e&&null!==(a=e.multivariate)&&void 0!==a&&a.experimentId&&i({label:"abTest",eventType:["custom"],data:{experiment:{variant:e.multivariate.testingId,id:e.multivariate.experimentId}}})})),e.length>0&&t&&i({label:"abTest",eventType:["analyticsLayer"],data:{pageName:t}}),e.length>0&&y(e)}),[t,l,y]),(0,m.jsx)(m.Fragment,{children:f.map(((e,i)=>(0,m.jsx)(c.Z,function(e){for(var i=1;i<arguments.length;i++){var t=null!=arguments[i]?arguments[i]:{};i%2?p(Object(t),!0).forEach((function(i){(0,n.Z)(e,i,t[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))}))}return e}({container:e},v),`section_${i}`)))})}},9134:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[locale]/product/[product]",function(){return t(99905)}])},44390:function(e){e.exports={emptyThumbnail:"GalleryVideoThumbnail_emptyThumbnail__3PcOw",playIconWrapper:"GalleryVideoThumbnail_playIconWrapper__xEEJU",gridPlayIconPosition:"GalleryVideoThumbnail_gridPlayIconPosition__ZNWEs",defaultPlayIconPosition:"GalleryVideoThumbnail_defaultPlayIconPosition__PBpSa",scrollbarHorizontalLight:"GalleryVideoThumbnail_scrollbarHorizontalLight__wANaU",scrollbarVerticalLight:"GalleryVideoThumbnail_scrollbarVerticalLight__lKN14",scrollbarHorizontalDark:"GalleryVideoThumbnail_scrollbarHorizontalDark__G_9VX",scrollbarVerticalDark:"GalleryVideoThumbnail_scrollbarVerticalDark__VA0U6"}},7864:function(e){e.exports={card:"GwpPdpSection_card__2XsFT",product:"GwpPdpSection_product__N2Zru","product-image":"GwpPdpSection_product-image__Kjpnh",logo:"GwpPdpSection_logo__ijTTU",title:"GwpPdpSection_title__yaAi0 label-lg-bold","title-section":"GwpPdpSection_title-section__wt2fg","product-title":"GwpPdpSection_product-title__R0z8p","info-and-conditions":"GwpPdpSection_info-and-conditions__byFQs","product-info":"GwpPdpSection_product-info__83ETI body-lg-regular","product-data":"GwpPdpSection_product-data__LjFKr","product-link":"GwpPdpSection_product-link__6URBE","product-description":"GwpPdpSection_product-description__HQEJK body-xs-regular","product-price":"GwpPdpSection_product-price__EvdyI",conditions:"GwpPdpSection_conditions__D5mdC body-sm-regular","qualifying-text":"GwpPdpSection_qualifying-text__FGeib","members-only":"GwpPdpSection_members-only__wBdvl","cta-container":"GwpPdpSection_cta-container___cNE_","user-ctas":"GwpPdpSection_user-ctas__c1BOx","join-membership":"GwpPdpSection_join-membership___RnnW","sign-in":"GwpPdpSection_sign-in__VE2KV","extra-ctas":"GwpPdpSection_extra-ctas__r_IUw","terms-conditions":"GwpPdpSection_terms-conditions__Wl4dC","not-available":"GwpPdpSection_not-available__uPphb",scrollbarHorizontalLight:"GwpPdpSection_scrollbarHorizontalLight__29Ooe",scrollbarVerticalLight:"GwpPdpSection_scrollbarVerticalLight__0J_hT",scrollbarHorizontalDark:"GwpPdpSection_scrollbarHorizontalDark__5JEGY",scrollbarVerticalDark:"GwpPdpSection_scrollbarVerticalDark__u_e6a"}},79220:function(e){e.exports={deliveryMessageContainer:"DeliveryMessage_deliveryMessageContainer__mYot8",deliveryMessageWrapper:"DeliveryMessage_deliveryMessageWrapper__s_3fS",deliveryMessageTextWrapper:"DeliveryMessage_deliveryMessageTextWrapper__U4zqk",scrollbarHorizontalLight:"DeliveryMessage_scrollbarHorizontalLight__j1cF5",scrollbarVerticalLight:"DeliveryMessage_scrollbarVerticalLight__cG1MX",scrollbarHorizontalDark:"DeliveryMessage_scrollbarHorizontalDark__gt3fg",scrollbarVerticalDark:"DeliveryMessage_scrollbarVerticalDark__pHXsg"}},22966:function(e){e.exports={accordionBackground:"Promotions_accordionBackground__RHehb",accordionLink:"Promotions_accordionLink__mY6Ot",accordionBottomSection:"Promotions_accordionBottomSection__20q4k",scrollbarHorizontalLight:"Promotions_scrollbarHorizontalLight__dGVwy",scrollbarVerticalLight:"Promotions_scrollbarVerticalLight__kM8sN",scrollbarHorizontalDark:"Promotions_scrollbarHorizontalDark__A68B0",scrollbarVerticalDark:"Promotions_scrollbarVerticalDark__TNzb3"}},24317:function(e){e.exports={modalContentWrapper:"DetailedGallery_modalContentWrapper__vdbmh",detailedViewFrame:"DetailedGallery_detailedViewFrame__onQ1E",detailedViewSection:"DetailedGallery_detailedViewSection__cs2z9",scrollbarHorizontalLight:"DetailedGallery_scrollbarHorizontalLight___Eh1o",scrollbarVerticalLight:"DetailedGallery_scrollbarVerticalLight__qM6Ev",scrollbarHorizontalDark:"DetailedGallery_scrollbarHorizontalDark__GrNPe",scrollbarVerticalDark:"DetailedGallery_scrollbarVerticalDark__xjHZ1"}},5758:function(e){e.exports={galleryGrid:"GridViewImages_galleryGrid__nRaJl",gridFullWidthScroll:"GridViewImages_gridFullWidthScroll__7GteN",scrollbarHorizontalLight:"GridViewImages_scrollbarHorizontalLight__EAp1p",scrollbarVerticalLight:"GridViewImages_scrollbarVerticalLight__5CSDo",scrollbarHorizontalDark:"GridViewImages_scrollbarHorizontalDark__7mK5A",scrollbarVerticalDark:"GridViewImages_scrollbarVerticalDark__T3VWT"}},96926:function(e){e.exports={carouselContainer:"VideoCarousel_carouselContainer__iMbjS",carouselThumbnail:"VideoCarousel_carouselThumbnail__wVjjO",activeThumbnail:"VideoCarousel_activeThumbnail__jTFRW",thumbnailButton:"VideoCarousel_thumbnailButton__K2LUj",activeThumbnailButton:"VideoCarousel_activeThumbnailButton__T6Tua",carouselWrapper:"VideoCarousel_carouselWrapper__Yk2oo",scrollbarHorizontalLight:"VideoCarousel_scrollbarHorizontalLight__iaSIe",scrollbarVerticalLight:"VideoCarousel_scrollbarVerticalLight__gYO8M",scrollbarHorizontalDark:"VideoCarousel_scrollbarHorizontalDark__c8XOF",scrollbarVerticalDark:"VideoCarousel_scrollbarVerticalDark__VokYX"}},5540:function(e){e.exports={galleryThumbnail:"GalleryThumbnail_galleryThumbnail__Q2_vY",activeThumbnail:"GalleryThumbnail_activeThumbnail__76jfW",imageThumbnail:"GalleryThumbnail_imageThumbnail__lg1Ym",skeletonImageThumbnail:"GalleryThumbnail_skeletonImageThumbnail__ZYOkG",scrollbarHorizontalLight:"GalleryThumbnail_scrollbarHorizontalLight__s33mR",scrollbarVerticalLight:"GalleryThumbnail_scrollbarVerticalLight__qtaNV",scrollbarHorizontalDark:"GalleryThumbnail_scrollbarHorizontalDark__LcASr",scrollbarVerticalDark:"GalleryThumbnail_scrollbarVerticalDark__RSfHJ"}},76815:function(e){e.exports={galleryThumbnails:"GalleryThumbnails_galleryThumbnails__bNDGj",galleryThumbnailLi:"GalleryThumbnails_galleryThumbnailLi__5dV54",videoThumbnailLi:"GalleryThumbnails_videoThumbnailLi__I6Q44",scrollbarHorizontalLight:"GalleryThumbnails_scrollbarHorizontalLight__b9iKp",scrollbarVerticalLight:"GalleryThumbnails_scrollbarVerticalLight__n_aOE",scrollbarHorizontalDark:"GalleryThumbnails_scrollbarHorizontalDark__wahAj",scrollbarVerticalDark:"GalleryThumbnails_scrollbarVerticalDark__Xtz7Q"}},5328:function(e){e.exports={galleryCounter:"ProductGalleryCounter_galleryCounter__uwFXC",topLeft:"ProductGalleryCounter_topLeft__6pLMf",counterSlash:"ProductGalleryCounter_counterSlash__RZKsO",scrollbarHorizontalLight:"ProductGalleryCounter_scrollbarHorizontalLight__rR7wI",scrollbarVerticalLight:"ProductGalleryCounter_scrollbarVerticalLight__gEKh0",scrollbarHorizontalDark:"ProductGalleryCounter_scrollbarHorizontalDark__A73RB",scrollbarVerticalDark:"ProductGalleryCounter_scrollbarVerticalDark__7jRSD"}},55624:function(e){e.exports={productReviewContainer:"ProductReview_productReviewContainer__p5eFb",productReviewText:"ProductReview_productReviewText__1NEXd",incentivizedWrapper:"ProductReview_incentivizedWrapper__VgHRN",presentIcon:"ProductReview_presentIcon__6stc8",scrollbarHorizontalLight:"ProductReview_scrollbarHorizontalLight__I0bBQ",scrollbarVerticalLight:"ProductReview_scrollbarVerticalLight__tx8JR",scrollbarHorizontalDark:"ProductReview_scrollbarHorizontalDark__AlPKG",scrollbarVerticalDark:"ProductReview_scrollbarVerticalDark__2hx_T"}},99729:function(e){e.exports="/_next/static/images/safety-na-781e62b178d8af1dd80f26b672575ecc.svg"},65634:function(e){e.exports="/_next/static/images/safety-08ff1b3398344608cf1508144b3c2d0f.svg"},86162:function(e){e.exports="/_next/static/images/Close-blue-406befe5c60d53818bf7704a29aac227.svg"}},function(e){e.O(0,[3009,382,9132,242,8572,941,3851,8793,7515,7431,4372,358,7381,9242,6323,1716,3755,6568,85,4901,5393,5955,5071,9774,2888,179],(function(){return i=9134,e(e.s=i);var i}));var i=e.O();_N_E=i}]);
//# sourceMappingURL=[product]-23c530239cf21174.js.map